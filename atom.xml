<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Lyh&#39;s Blog</title>
  <icon>https://www.gravatar.com/avatar/c8f1116ab8c1cb9bcf89718e78255d2b</icon>
  
  <link href="https://hexo.lyh.best/atom.xml" rel="self"/>
  
  <link href="https://hexo.lyh.best/"/>
  <updated>2023-10-29T14:51:50.491Z</updated>
  <id>https://hexo.lyh.best/</id>
  
  <author>
    <name>Lyh</name>
    <email>gdleeyh@gmail.com</email>
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>图形化编程平台</title>
    <link href="https://hexo.lyh.best/20231029/%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%BC%96%E7%A8%8B%E5%B9%B3%E5%8F%B0/"/>
    <id>https://hexo.lyh.best/20231029/%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%BC%96%E7%A8%8B%E5%B9%B3%E5%8F%B0/</id>
    <published>2023-10-29T14:51:50.491Z</published>
    <updated>2023-10-29T14:51:50.491Z</updated>
    
    <content type="html"><![CDATA[<p>这学期的项目设计课小组选题选择了制作一个机械臂STEAM教具，我的任务主要做用户所接触到的图形化编程界面。</p><h3 id="采取的尝试"><a href="#采取的尝试" class="headerlink" title="采取的尝试"></a>采取的尝试</h3><h4 id="scratch-www搭建"><a href="#scratch-www搭建" class="headerlink" title="scratch_www搭建"></a>scratch_www搭建</h4><p>文章来源：<a href="https://blog.csdn.net/bailee/article/details/105743833">Windows 下搭建Scratch环境</a><br>scratch-www是scratch-gui的网页版，功能包括gui的编辑，保存，播放，和gui的作品展示，这里主要介绍scratch-www在window系统下的安装和运行。<br>必须安装的三个工具：git、python、nodejs</p><h5 id="安装-git"><a href="#安装-git" class="headerlink" title="安装 git"></a>安装 git</h5><p>下载链接：<a href="https://git-scm.com/downloads">https://git-scm.com/downloads</a></p><ol><li>注册或登录<a href="https://github.com/login">GitHub</a></li><li>下载<a href="https://git-scm.com/download/win">git客户端</a>并安装<br>查看是否安装完成：安装完成后，在任意地方鼠标右键，打开 <strong>Git Bash Here</strong>，键入以下命令，验证是否安装完成<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git --version</span><br></pre></td></tr></table></figure></li><li>安装好git后，需要在PowerShell或CMD或git bash下配置用户信息：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;comecode.net&quot;</span>          <span class="comment">#设置自定义用户名</span></span><br><span class="line">git config --global user.email <span class="string">&quot;1976114818@qq.com&quot;</span>    <span class="comment">#设置全局邮箱（此邮箱也是github账号）</span></span><br></pre></td></tr></table></figure>验证设置成功的命令：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name  <span class="comment">#查看设置的全局用户名</span></span><br><span class="line">git config --global user.email <span class="comment">#查看设置的全局邮箱</span></span><br></pre></td></tr></table></figure>设置出错时，取消设置的命令：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global --<span class="built_in">unset</span> user.name  <span class="comment">#取消设置全局用户名</span></span><br><span class="line">git config --global --<span class="built_in">unset</span> user.email <span class="comment">#取消设置全局邮箱</span></span><br></pre></td></tr></table></figure></li><li>生成SSH key<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;github账号的邮箱&quot;</span> <span class="comment">#邮箱换成你github账号的邮箱</span></span><br></pre></td></tr></table></figure>然后，需要输入的地方，一直回车即可。<br>之后会在 【C:\Users\用户名.ssh 】下产生两个文件。其中，id_rsa是私钥，id_ras.pub是公钥。</li><li>配置github的SSH key<br>登陆的你github，找到settings–&gt;SSH and GPG keys，然后点击New SSH key<br>Title可自定义，key则填入【C:\Users\用户名.ssh 】目录下的【id_ras.pub】的文件内容</li><li>验证配置好的Git<br>PowreShell或CMD或Git Bash中，键入以下命令，检查是否配置成功<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure>至此，在win 10系统上的git环境已经搭建完毕</li></ol><h5 id="安装python以及nodejs"><a href="#安装python以及nodejs" class="headerlink" title="安装python以及nodejs"></a>安装python以及nodejs</h5><p>python安装2.7版本，并需要把安装目录配置在Windows系统环境变量path中，重开CMD才能在CMD中直接使用；<br>下载链接：<a href="https://www.python.org/downloads/windows/">https://www.python.org/downloads/windows/</a><br>nodejs版本要求为8.0+版本，本人安装的12.16.2，并自带安装了npm<br>下载链接：<a href="https://nodejs.org/en/download/">https://nodejs.org/en/download/</a><br>设置npm安装源为淘宝源，国内源安装快。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure><p>验证是否成功：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config get registry</span><br></pre></td></tr></table></figure><h5 id="下载scratch-www源代码"><a href="#下载scratch-www源代码" class="headerlink" title="下载scratch-www源代码"></a>下载scratch-www源代码</h5><p>从官网下载源代码有两种方式：</p><ol><li>直接下载：直接下载的包很小，只有30M左右。</li><li>用git工具下载：git工具下载的包会很大，约300M左右。<br>（注：多出的200多M是git的内容，一般都不会用到，由于服务器在海外，如果您选用git方式下载时，您差不多可安逸的吃碗泡面。）<br>获取源代码方式1：直接下载版本。(推荐此方式)<br>直接下载的链接：<a href="https://github.com/LLK/scratch-www">https://github.com/LLK/scratch-www</a><br>左侧可选择你需要的版本，一般下载三类中的一类即可：develop（正在开发的版本）、master（主版本）、release（发布的版本，此版本可能会有多个，后面都标注有日期，建议选择最近发布的版本）<br>获取源代码方式2：用git工具下载：（建议加上–depth=1，这样只获取最新版本，不下载历史库，包的大小就只有30M不到了）<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> --depth=1 https://github.com/LLK/scratch-www</span><br></pre></td></tr></table></figure></li></ol><h6 id="安装scratch-www依赖的N个包：npm-install"><a href="#安装scratch-www依赖的N个包：npm-install" class="headerlink" title="安装scratch-www依赖的N个包：npm install"></a>安装scratch-www依赖的N个包：npm install</h6><p>进入scratch-www源代码目录后运行下面的命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure><p>注意：如果卡住了，或报错了，分析相应的错误并重新npm install。<br>如：遇到的问题：经常会卡在安装<code>chromedriver</code>这个模块，提示当前使用的chrome版本无效，需要下载指定版本的chrome(76.0.0),这个安装的话会访问google的网站，一般无法访问到，会导致安装失败。<br>解决办法是：在package.json文件的devDependencies属性中，把”chromedriver”: “76.0.0”这行删掉，先npm install好其他模块，再单独安装 chromedriver。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev chromedriver@76.0.0 --chromedriver_cdnurl=https://npm.taobao.org/mirrors/chromedriver</span><br></pre></td></tr></table></figure><p>遇到的问题：Cannot download “<a href="https://github.com/sass/node-sass/releases/download/v4.6.1/win32-x64-79_binding.node&quot;">https://github.com/sass/node-sass/releases/download/v4.6.1/win32-x64-79_binding.node&quot;</a><br>解决办法是：先在package.json文件中删除 devDependencies属性中的<code>&quot;node-sass&quot;: &quot;4.6.1&quot;</code>，然后</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i node-sass --sass_binary_site=https://npm.taobao.org/mirrors/node-sass/</span><br></pre></td></tr></table></figure><p>注：node-sass的安装，个人建议不管有没有遇到上面的问题，都删除package.json中的<code>&quot;node-sass&quot;: &quot;4.6.1&quot;</code>，然后通过上面的命令单独安装，这是本人踩过的一个大坑：nodejs12以上的版本，需要node-sass4.12.0以上的版本。<br>另外：npm install 时，会报几条警告，基本上说是某个包没安装，但被另一个包所依赖，此时可以单独用下面的命令一个一个的安装所需要的包，也可以跳过这些警告不处理，至于不处理这些警告会有什么后续问题，本人现在还不知道（好尴尬啊）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install xxx             <span class="comment">#xxx 为需要单独安装的包名，也可以带版本的安装</span></span><br><span class="line">npm install xxx@1.2.3       <span class="comment">#此为带版本安装的格式</span></span><br></pre></td></tr></table></figure><p>到此，npm install完毕。</p><h6 id="修改scratch-www目录下的packpage-json"><a href="#修改scratch-www目录下的packpage-json" class="headerlink" title="修改scratch-www目录下的packpage.json"></a>修改scratch-www目录下的packpage.json</h6><p>官网的scratch-www是要linux系统下编译运行的，有些指令在window系统下无法使用，需要修改packpage的scripts属性中的一些指令。</p><ol><li>临时环境变量，在windows下，需要用set 才能设置成功。</li><li>“rm -rf”是在linux下才有的指令。这条指令是用来删除build和intl这两个文件夹，再重新创建这两个文件夹，我们使用rimraf 来代替 rm 指令。<br>修改 package.json:<br>把<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;build&quot;: &quot;npm run clean &amp;&amp; npm run translate &amp;&amp; NODE_OPTIONS=--max_old_space_size=8000 webpack --bail&quot;,</span><br></pre></td></tr></table></figure>修改为：（在NODE_OPTIONS前 ‘set’ ）<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;build&quot;: &quot;npm run clean &amp;&amp; npm run translate &amp;&amp; set NODE_OPTIONS=--max_old_space_size=8000 webpack --bail&quot;,</span><br></pre></td></tr></table></figure>把<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;clean: &quot;rm -rf ./build &amp;&amp; rm -rf ./intl &amp;&amp; mkdir -p build &amp;&amp; mkdir -p intl&quot;,</span><br></pre></td></tr></table></figure>修改为：<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;clean&quot;: &quot;rimraf ./build &amp;&amp; rimraf ./intl &amp;&amp; mkdir build &amp;&amp; mkdir intl&quot;,</span><br></pre></td></tr></table></figure>安装rimraf:<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -g rimraf</span><br></pre></td></tr></table></figure>编译scratch-www：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run build</span><br></pre></td></tr></table></figure>与gui直接运行npm start 不一样，scratch-www安装后第一次运行时，需要先运行npm run build 再运行npm start。<br>为什么呢？因为scratch-www是多语言的网页，需要先创建语言文件，才能正常运行，显示。<br>npm run build 时，会删除build和intl文件夹，再translate远程获取语言文件。<br>build指令如下：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run build</span><br></pre></td></tr></table></figure>package.json中还有几条translate指令:<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;translate:urls&quot;: &quot;node ./bin/get-localized-urls localized-urls.json&quot;,</span><br><span class="line">&quot;translate:files&quot;: &quot;node ./bin/build-locales node_modules/scratch-l10n/www intl&quot;,</span><br><span class="line">&quot;translate&quot;: &quot;npm run translate:urls &amp;&amp; npm run translate:files&quot;</span><br></pre></td></tr></table></figure>有时运行到npm run translate:urls指令时会卡住，访问不到远程文件，导致npm run build失败。<br>这是因为scratch官网被我国封锁了，请全局科学上网再执行npm run translate:urls。<br>如果你npm run translate:urls 成功后，建议把这指令删除掉，即把上面最后一行改成：<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;translate&quot;: &quot;npm run translate:files&quot; </span><br></pre></td></tr></table></figure>因为scratch-www需要的几十种语言文件，并不都需要，这样每次npm run build也会节省我们时间。<br>至此，编译完毕。</li></ol><h5 id="git-操作"><a href="#git-操作" class="headerlink" title="git 操作"></a>git 操作</h5><p>需要运行下面3个指令完成git的初始化及准备提交的动作，在npm start时需要这几个操作的支持才能正常运行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line">git add .</span><br><span class="line">git commit -m firstcommit</span><br></pre></td></tr></table></figure><p>多语言支持：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run translate    <span class="comment">#有多语言需要时</span></span><br></pre></td></tr></table></figure><p>最后一步：运行scratch-www：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">make translations</span><br><span class="line">npm start</span><br></pre></td></tr></table></figure><p>至此，恭喜您，您现在可在浏览器中打开 <a href="http://localhost:8333/">http://localhost:8333/</a>  即可开始访问你本机的scratch-www了</p><h5 id="作为服务运行"><a href="#作为服务运行" class="headerlink" title="作为服务运行"></a>作为服务运行</h5><p>node应用通过npm来执行，但是每次执行都需要一直保持，一旦关闭当前Terminal，程序就将终止。为了保持程序持续运行，可以使用forever</p><ol><li>安装forever<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install forever -g</span><br></pre></td></tr></table></figure></li><li>进入应用目录运行程序<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">forever start app.js</span><br></pre></td></tr></table></figure>也可以通过下面的方式运行：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">forever start -c <span class="string">&quot;npm start&quot;</span> ./</span><br></pre></td></tr></table></figure>可以通过下面命令查看正在运行的应用：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">forever list</span><br></pre></td></tr></table></figure></li></ol><h3 id="现成的scratch二次开发平台"><a href="#现成的scratch二次开发平台" class="headerlink" title="现成的scratch二次开发平台"></a>现成的scratch二次开发平台</h3><p>文章来源：<a href="https://zhuanlan.zhihu.com/p/197395354">Scratch被禁，国产少儿编程平台哪个好？</a></p><ol><li>Mind+（<a href="http://mindplus.cc/%EF%BC%89">http://mindplus.cc/）</a><br>Mind+主要就是针对国内科技创新教育需求而开发的图形化编程软件，也是国内最早的图形化编程软件工具之一。在Scratch平台不能使用后，惊喜发现它完全可以兼容sb3格式保存的编程文件，其程序文件甚至可以一键导入到软件中，实现了对Scratch功能的无缝对接。目前很多学校老师、同学很多都在使用的一款编程软件。<br>Mind+最大优点是对硬件的支持非常丰富。直接支持中小学创客教育最常用的主流开源硬件如：Micro:bit、掌控板、ESP32和Arduino Uno等，可对上百种常用硬件模块进行编程控制，包括各种传感器、执行器、显示器、通讯模块、功能模块等；并且开放用户库，用户可以自己制作扩展库。另外，Mind+还能满足中小学老师对于AI人工智能知识教学的各种需求，支持 AI 与 IoT ，除了图形化编程，还可以使用 Python/C/C++等高级编程语言。<br>Mind+已在国内历经8年打磨，已然成为科创教育学科、竞赛中普遍使用的青少年编程软件之一。</li><li>KittenBlock（<a href="https://www.kittenbot.cn/%EF%BC%89">https://www.kittenbot.cn/）</a><br>KittenBlock是小喵科技出品的一款儿童图形化编程软件，可以帮助中小学生或者非专业的技术人员快速入门编程，从而控制各种各样的电子模块。最大的特点其扩展功能丰富，尤其是人工智能AI这一块，很值得研究，如果是高水平进阶者，甚至可以自己开发相关的插件。对比Scratch功能，KittenBlock也已有了相关的替代功能，比如百度大脑这个模块可以实现文字朗读，语音识别等。另外Kittenblock也支持C++（Arduino）、python编程。</li><li>慧编程V5（<a href="https://mblock.makeblock.com/zh-cn/%EF%BC%89">https://mblock.makeblock.com/zh-cn/）</a><br>慧编程是一款面向STEAM教育领域的积木式编程和代码编程软件，基于Scratch3.0开发，近400万用户用它创造、学习和分享。它不仅能让用户在软件中创作有趣的故事、游戏、动画等，还能对Makeblock体系、micro：bit等硬件进行编程。<br>特点提炼：<br> 1.慧编程V5除了动画创作和游戏制作外，还支持对机器人和开源硬件编程<br> 2.配合硬件教学，让课堂教学内容和形式更丰富；<br> 3.支持丰富的开源硬件，满足更多课程需求，提高课堂创造效率<br> 4.支持一键切换Python和Python输入模式，实现从图形化编程到代码编程的进阶教学<br> 5.配套教学资源和课堂管理平台，打造高效课堂<br> 6.支持AI和IoT黑科技，可设计各种趣味应用<br> 7.即将支持多平台使用，提供流畅的编程教学体验</li><li>其他软件<br>目前还有一些儿童编程替代软件，如扣叮、编程猫、kitten等，大家感兴趣都可以搜索下载尝试。</li></ol><p>体验：<br>以上三个平台都是基于scratch二次开发，可以在平台上自制积木，平台有不少开源硬件的拓展套件，优先选择在已有的主控板（Arduino、micro：bit）上开发能节省时间，能直接使用已有的双向通信接口。<br>Mind+上拓展套件较多，Mind+内置支持上百种常见的传感器库，并从V1.6.2开始，开放用户库，任何用户均可以制作和分享自己的用户库，并提供了本地及网络加载方式，方便大家的使用。（教程：<a href="https://mindplus.dfrobot.com.cn/%EF%BC%89">https://mindplus.dfrobot.com.cn/）</a><br>Kittenbot上有一个关于Microbit-机械臂的说明文档：（与我本学期项目相关度高）<br><a href="https://learn.kittenbot.cn/kits/armKit/arm.html">https://learn.kittenbot.cn/kits/armKit/arm.html</a><br>在线ide上显示的拓展很少<br>Makeblock慧编程上拓展套件较多，可成为开发者添加拓展。（帮助文档：<a href="http://www.mblock.cc/doc/zh/%EF%BC%89">http://www.mblock.cc/doc/zh/）</a></p><h3 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h3><p>mark一下可能会用到的文章：<br><a href="https://blog.csdn.net/litianquan/article/details/82735809">Scratch-www系统在CentOS上搭建</a><br><a href="https://blog.just4fun.site/post/%E5%B0%91%E5%84%BF%E7%BC%96%E7%A8%8B/python-scratch-with-adapter/">Python与Scratch的双向通信</a><br><a href="https://blog.just4fun.site/post/%E5%B0%91%E5%84%BF%E7%BC%96%E7%A8%8B/codelab-adapter-eim-script/">使用Python拓展Scratch的能力</a></p><h3 id="关联阅读"><a href="#关联阅读" class="headerlink" title="关联阅读"></a>关联阅读</h3><p><a href="https://developer.51cto.com/art/201402/430398.htm">80种可视化编程语言及其界面效果图</a></p>]]></content>
    
    
    <summary type="html">记录本学期项目</summary>
    
    
    
    
    <category term="Scratch" scheme="https://hexo.lyh.best/tags/Scratch/"/>
    
    <category term="STEAM" scheme="https://hexo.lyh.best/tags/STEAM/"/>
    
  </entry>
  
  <entry>
    <title>文档写作平台</title>
    <link href="https://hexo.lyh.best/20210321/%E6%96%87%E6%A1%A3%E5%86%99%E4%BD%9C%E7%BC%96%E8%BE%91%E5%B7%A5%E5%85%B7/"/>
    <id>https://hexo.lyh.best/20210321/%E6%96%87%E6%A1%A3%E5%86%99%E4%BD%9C%E7%BC%96%E8%BE%91%E5%B7%A5%E5%85%B7/</id>
    <published>2021-03-21T07:50:16.000Z</published>
    <updated>2023-10-29T14:51:50.493Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>工欲善其事，必先利其器</p></blockquote><p>我们应该选择什么工具进行我们的文档写作呢？为什么不使用常用的办公软件 Word、Excel 和 PowerPoint呢？<br>Microsoft 的办公软件很优秀并且经受了时间的考验，但是正因为它功能丰富，导致稍显臃肿（二八定律：80%的时间里我们只会只用20%的功能），同时因为它存在以二进制格式保存、软件不兼容、格式不兼容、难以进行版本控制、难以实时分享预览、难以多人协作等短板。</p><p>那么我们需要的工具就应当具备以下的特点：</p><ul><li>语法简单</li><li>兼容性强</li><li>导出方便</li><li>专注内容</li><li>团队协作</li></ul><p>下面列出目前常见的工具</p><h2 id="工具-平台"><a href="#工具-平台" class="headerlink" title="工具/平台"></a>工具/平台</h2><h3 id="GitBook"><a href="#GitBook" class="headerlink" title="GitBook"></a>GitBook</h3><p>对于在线文档创作平台，当然还是首推GitBook<br>GitBook为免费用户提供<br>10个空间（可以私有也可以公开）<br>支持自定义域名<br>gitbook本身是一个开源项目，你可以下载源代码自行搭建<br>GitBook对开源和非盈利团队提供五折优惠<br>官网地址：GitBook<br>GitBook文档示例：<a href="https://docs.gitbook.com/">https://docs.gitbook.com</a><br><img src="https://gblobscdn.gitbook.com/assets%2Fgitbook%2F-Lt-Cx1OT9SXb6rwe1wH%2F-Lt-DySV_LzYiEqKnFOE%2Fimage.png" alt="GitBook"></p><h3 id="看云"><a href="#看云" class="headerlink" title="看云"></a>看云</h3><p>目前来看是国内最靠谱的选择，支持电子出版<br>看云为免费用户提供</p><ul><li>不限量公开文档</li><li>0个私有文档</li><li>完整文档功能<br>官网地址：<a href="https://www.kancloud.cn/">看云| 现代化文档写作、托管及数字出版</a><br>看云文档示例：<a href="https://help.kancloud.cn/">关于看云·看云新手入门</a><br><img src="https://box.kancloud.cn/454c37b4ee507dd9fe576cee9a2b614f_1233x702.png" alt="看云"></li></ul><h3 id="语雀"><a href="#语雀" class="headerlink" title="语雀"></a>语雀</h3><p>在线文档编辑与协同工具，免费用户一共有10GB上传流量<br>官网地址：<a href="www.yuque.com/">语雀- 专业的云端知识库 · 语雀</a><br>帮助文档示例：<a href="https://www.yuque.com/yuque/help">语雀使用手册</a><br><img src="https://cdn.nlark.com/yuque/0/2019/png/84147/1558404774787-78d5083d-b6ed-4805-b443-caa911271bfa.png" alt="语雀"></p><h3 id="BookStack"><a href="#BookStack" class="headerlink" title="BookStack"></a>BookStack</h3><p>在线文档管理系统，相当完备，需要有一台服务器自建<br>演示：<a href="https://www.bookstack.cn/">https://www.bookstack.cn</a><br>开源地址：<a href="https://github.com/TruthHun/BookStack">TruthHun/BookStack</a><br><img src="https://github.com/TruthHun/BookStack/raw/master/static/openstatic/page-index.png" alt="BookStack"></p><h3 id="docsify"><a href="#docsify" class="headerlink" title="docsify"></a>docsify</h3><p>非常轻量级的文档，可以托管在Github page<br>官网及演示：<a href="https://docsify.js.org/#/zh-cn/">https://docsify.js.org/#/zh-cn/</a><br>开源地址：<a href="https://github.com/docsifyjs/docsify">https://github.com/docsifyjs/docsify</a><br><img src="https://miro.medium.com/max/875/1*sDnra_oUE7D2jt1BaUwiwQ.png" alt="docsify"></p><h3 id="Docute"><a href="#Docute" class="headerlink" title="Docute"></a>Docute</h3><p>这是一个开源文档，可以托管在Github page等平台，支持markdown<br>演示以及文档：<a href="https://docute.org/zh/">https://docute.org/zh</a><br>开源地址：<a href="https://github.com/egoist/docute">https://github.com/egoist/docute</a><br><img src="https://miro.medium.com/max/625/1*C8zHwdYJiwpLZJSVGtqwNQ.png" alt="Docute"></p><h3 id="MinDoc"><a href="#MinDoc" class="headerlink" title="MinDoc"></a>MinDoc</h3><p>这是一个开源接口文档在线管理系统<br>官网地址：<a href="https://www.iminho.me/">https://www.iminho.me</a><br>说明文档及演示：<a href="https://www.iminho.me/wiki/docs/mindoc">https://www.iminho.me/wiki/docs/mindoc</a><br><img src="https://raw.githubusercontent.com/lifei6671/mindoc/master/uploads/20170501203854.png" alt="MinDoc"></p><h3 id="Wikitten"><a href="#Wikitten" class="headerlink" title="Wikitten"></a>Wikitten</h3><p>开源在线文档，可以托管在Github page等平台<br>官网及演示：<a href="https://wikitten.vizuina.com/">Wikitten</a><br>开源地址：<a href="https://github.com/devaneando/Wikitten">https://github.com/devaneando/Wikitten</a><br><img src="https://pic3.zhimg.com/80/v2-d1614987a643e8b0798329c56bbc1b42_720w.jpg" alt="Wikitten"></p><h3 id="DokuWiki"><a href="#DokuWiki" class="headerlink" title="DokuWiki"></a>DokuWiki</h3><p>开源wiki系统，支持多人协作，以及丰富的后台管理设置<br>官网及演示：<a href="https://www.dokuwiki.org/">https://www.dokuwiki.org</a><br><img src="https://www.dokuwiki.org/_media/template:starter_template.png" alt="DokuWiki"></p><h3 id="MkDocs"><a href="#MkDocs" class="headerlink" title="MkDocs"></a>MkDocs</h3><p>开源wiki程序<br>官网及演示：<a href="https://www.mkdocs.org/">https://www.mkdocs.org</a><br>开源地址：<a href="https://github.com/mkdocs/mkdocs/">https://github.com/mkdocs/mkdocs</a><br><img src="https://www.mkdocs.org/img/screenshot.png" alt="MkDocs"></p><h3 id="Baklib"><a href="#Baklib" class="headerlink" title="Baklib"></a>Baklib</h3><p>官网及演示：<a href="https://guide.baklib.com/">https://guide.baklib.com/</a><br>Baklib是一款在线的帮助文档和wiki制作工具，在操作习惯和原理上Baklib和GitBook很相像。前后台分离，后端添加内容前端做显示。支持独立域名添加、主题样式修改、团队协同…<br>但Baklib毕竟是针对国人开发的一款在线文档产品，使用起来更符合我们的习惯吧。与GitBook不同的是Bakib可以轻松的切换在线文档/wiki站点的样式，而GitBook只能简单的修改下展示的样式，对于wiki这种强展示类型的产品而言十分不友好。Baklib支持15款可自定义页眉页脚的主题（免费切换）。<br><img src="https://www.baklib.com/templates/baklib/1/assets/img/saas-1.jpg" alt="Baklib"></p><h3 id="Simiki"><a href="#Simiki" class="headerlink" title="Simiki"></a>Simiki</h3><p>官网及演示：<a href="http://simiki.org/">http://simiki.org/</a><br>Simiki 是一个简单的个人Wiki框架。使用Markdown书写Wiki, 生成静态HTML页面。Wiki源文件按目录分类存放, 方便管理维护。<br><img src="https://blog.zthxxx.me/assets/img/SimikiPreview.d72a372a.jpg" alt="Simiki"></p><h3 id="MediaWiki"><a href="#MediaWiki" class="headerlink" title="MediaWiki"></a>MediaWiki</h3><p>官网及演示：<a href="https://www.mediawiki.org/wiki/MediaWiki">https://www.mediawiki.org/wiki/MediaWiki</a><br>下载地址：<a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Download">https://www.mediawiki.org/wiki/Special:MyLanguage/Download</a><br><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/86/Dantman-Skin-monobook.png/495px-Dantman-Skin-monobook.png" alt="MediaWiki"></p><h3 id="amWiki"><a href="#amWiki" class="headerlink" title="amWiki"></a>amWiki</h3><p>官网及演示：<a href="amwiki.org">amwiki.org</a><br>开源地址：<a href="https://github.com/tevinli/amWiki">https://github.com/tevinli/amWiki</a><br>amWiki 是一款由 JS 开发、依赖 Atom 或 Nodejs-Npm 的 Markdown 轻量级前端化开源文库系统<br><img src="http://amwiki.org/doc/assets/020/20170807-ebc22fea.png" alt="amWiki"></p><h3 id="参考阅读"><a href="#参考阅读" class="headerlink" title="参考阅读"></a>参考阅读</h3><p><a href="https://blog.zthxxx.me/post/personal-wiki-system-theme-for-hexo/#%E7%94%A8-hexo-%E5%81%9A%E4%B8%AA%E4%BA%BA-wiki-%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F">Hexo 的个人 Wiki 主题 - Wikitten</a></p><h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><h3 id="GitBook-1"><a href="#GitBook-1" class="headerlink" title="GitBook"></a>GitBook</h3><p>毋容置疑，Git 是目前世界上最先进的分布式版本控制系统。Git 的分布式协作方式同样适用于很多场合，其中一个就是写作。<br>咋一看 GitBook 的名字，你可能会认为它是关于 Git 的一本书。而当你有所了解之后，你也许会认为它是一个使用 Git 构建电子书的工具。其实不然，GitBook 与 Git 的关系，就像雷锋塔和雷锋、Java 和 JavaScript 那样，没有一点关系！</p><p>实际上，GitBook 是一个基于 Node.js 的命令行工具，支持 Markdown 和 AsciiDoc 两种语法格式，可以输出 HTML、PDF、eBook 等格式的电子书。所以我更喜欢把 GitBook 定义为文档格式转换工具。<br>　　<br>所以，GitBook 不是 Markdown 编辑工具，也不是 Git 版本管理工具。市面上我们可以找到很多 Markdown 编辑器，比如 Typora、MacDown、Bear、MarkdownPad、MarkdownX、JetBrains’s IDE（需要安装插件）、Atom、简书、CSDN 以及 GitBook 自家的 GitBook Editor 等等。</p><p>但 GitBook 又与 Markdown 和 Git 息息相关，因为只有将它们结合起来使用，才能将它们的威力发挥到极致！因此，通常我们会选择合适的 Markdown 编辑工具以获得飞一般的写作体验；使用 GitBook 管理文档，预览、制作电子书；同时通过 Git 管理书籍内容的变更，并将其托管到云端（比如 GitHub、GitLab、码云，或者是自己搭建的 Git 服务器），实现多人协作。</p><p>实际上，GitBook Editor 对于新手来说是个不错的选择，它集成了 GitBook、Git、Markdown 等功能，还支持将书籍同步到 gitbook.com 网站，使我们可以很方便地编辑和管理书籍。但是不幸的是，GitBook Editor 的注册和登录需要翻墙，即便注册成功了也可能登录不上，似乎是因为网站最近在升级。</p><h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>因为 GitBook 是基于 Node.js，所以我们首先需要安装 Node.js（下载地址：<a href="https://nodejs.org/en/download/%EF%BC%89%EF%BC%8C%E6%89%BE%E5%88%B0%E5%AF%B9%E5%BA%94%E5%B9%B3%E5%8F%B0%E7%9A%84%E7%89%88%E6%9C%AC%E5%AE%89%E8%A3%85%E5%8D%B3%E5%8F%AF%E3%80%82">https://nodejs.org/en/download/），找到对应平台的版本安装即可。</a><br>现在安装 Node.js 都会默认安装 npm（node 包管理工具），所以我们不用单独安装 npm，打开命令行，执行以下命令安装 GitBook：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g gitbook-cli</span><br></pre></td></tr></table></figure><p>安装完之后，就会多了一个 gitbook 命令（如果没有，请确认上面的命令是否加了 -g）。</p><h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><p>想象一下，现在你准备构建一本书籍，你在硬盘上新建了一个叫 mybook 的文件夹，按照以前的做法，你会新建一个 Word 文档，写上标题，然后开始巴滋巴滋地笔耕。但是现在有了 GitBook，你首先要做的是在 mybook 文件夹下执行以下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitbook init</span><br></pre></td></tr></table></figure><p>执行完后，你会看到多了两个文件 —— README.md 和 SUMMARY.md，它们的作用如下：</p><ul><li>README.md —— 书籍的介绍写在这个文件里</li><li>SUMMARY.md —— 书籍的目录结构在这里配置<br>编辑 SUMMARY.md 文件，内容修改为：<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 目录</span></span><br><span class="line"><span class="bullet">*</span> [<span class="string">前言</span>](<span class="link">README.md</span>)</span><br><span class="line"><span class="bullet">*</span> [<span class="string">第一章</span>](<span class="link">Chapter1/README.md</span>)</span><br><span class="line"><span class="bullet">  *</span> [<span class="string">第1节：衣</span>](<span class="link">Chapter1/衣.md</span>)</span><br><span class="line"><span class="bullet">  *</span> [<span class="string">第2节：食</span>](<span class="link">Chapter1/食.md</span>)</span><br><span class="line"><span class="bullet">  *</span> [<span class="string">第3节：住</span>](<span class="link">Chapter1/住.md</span>)</span><br><span class="line"><span class="bullet">  *</span> [<span class="string">第4节：行</span>](<span class="link">Chapter1/行.md</span>)</span><br><span class="line"><span class="bullet">*</span> [<span class="string">第二章</span>](<span class="link">Chapter2/README.md</span>)</span><br><span class="line"><span class="bullet">*</span> [<span class="string">第三章</span>](<span class="link">Chapter3/README.md</span>)</span><br><span class="line"><span class="bullet">*</span> [<span class="string">第四章</span>](<span class="link">Chapter4/README.md</span>)</span><br></pre></td></tr></table></figure>然后我们回到命令行，在 mybook 文件夹中再次执行<code>gitbook init</code>命令。GitBook 会查找 SUMMARY.md 文件中描述的目录和文件，如果没有则会将其创建。<br>接着我们执行 gitbook serve 来预览这本书籍，执行命令后会对 Markdown 格式的文档进行转换，默认转换为 html 格式，最后提示 “Serving book on <a href="http://localhost:4000”。然后就可以打开浏览器阅览了。">http://localhost:4000”。然后就可以打开浏览器阅览了。</a></li></ul><p>当你写得差不多，你可以执行 gitbook build 命令构建书籍，默认将生成的静态网站输出到 _book 目录。实际上，这一步也包含在 gitbook serve 里面，因为它们是 HTML，所以 GitBook 通过 Node.js 给你提供服务了。</p><p>当然，build 命令可以指定路径：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitbook build [书籍路径] [输出路径]</span><br></pre></td></tr></table></figure><p>serve 命令也可以指定端口：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitbook serve --port 2333</span><br></pre></td></tr></table></figure><p>你还可以生成 PDF 格式的电子书：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitbook pdf ./ ./mybook.pdf</span><br></pre></td></tr></table></figure><p>生成 epub 格式的电子书：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitbook epub ./ ./mybook.epub</span><br></pre></td></tr></table></figure><p>生成 mobi 格式的电子书：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitbook mobi ./ ./mybook.mobi</span><br></pre></td></tr></table></figure><p>除此之外，别忘了还可以用 Git 做版本管理呀！在 mybook 目录下执行 git init 初始化仓库，执行 git remote add 添加远程仓库（你得先在远端建好）。接着就可以愉快地 commit，push，pull … 啦！</p><p>不是程序员的小伙伴可能不太喜欢用命令行，那其实版本管理这部分可以下载安装 Git 或 GitHub 这些客户端程序，在图形界面上操作也是可以完成工作的。</p><p>以上部分内容转载自<a href="https://blog.csdn.net/lu_embedded/article/details/81100704">CSDN博主「阿基米东」的文章</a></p>]]></content>
    
    
    <summary type="html">Wiki 知识管理系统</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>GitHub加速</title>
    <link href="https://hexo.lyh.best/20210321/GitHub%E5%8A%A0%E9%80%9F/"/>
    <id>https://hexo.lyh.best/20210321/GitHub%E5%8A%A0%E9%80%9F/</id>
    <published>2021-03-20T17:49:55.000Z</published>
    <updated>2023-10-29T14:51:50.490Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>最近很多例子表明，从这个月初开始（2021.3），github 在部分地区遭到 sni 探测阻断，就是 github 的域名指向哪个 ip，哪个 ip 的 443 端口和本地的连接就会被劣化至几乎不可用的状态。这个是针对域名的攻击，无关 dns，改 hosts 是无解的。–    <a href="https://www.v2ex.com/t/761907">ruixue</a> </p></blockquote><h3 id="GitHub-文件加速"><a href="#GitHub-文件加速" class="headerlink" title="GitHub 文件加速"></a>GitHub 文件加速</h3><p>演示：<a href="https://gh.api.99988866.xyz/">https://gh.api.99988866.xyz/</a><br>项目基于Cloudflare Workers，开源于<a href="https://github.com/hunshcn/gh-proxy">GitHub hunshcn/gh-proxy</a></p><p>以下都是合法输入：</p><ul><li>分支源码：<a href="https://github.com/hunshcn/project/archive/master.zip">https://github.com/hunshcn/project/archive/master.zip</a></li><li>release源码：<a href="https://github.com/hunshcn/project/archive/v0.1.0.tar.gz">https://github.com/hunshcn/project/archive/v0.1.0.tar.gz</a></li><li>release文件：<a href="https://github.com/hunshcn/project/releases/download/v0.1.0/example.zip">https://github.com/hunshcn/project/releases/download/v0.1.0/example.zip</a></li><li>分支文件：<a href="https://github.com/hunshcn/project/blob/master/filename">https://github.com/hunshcn/project/blob/master/filename</a></li><li>commit文件：<a href="https://github.com/hunshcn/project/blob/1111111111111111111111111111/filename">https://github.com/hunshcn/project/blob/1111111111111111111111111111/filename</a></li></ul><h4 id="cf-worker版本部署"><a href="#cf-worker版本部署" class="headerlink" title="cf worker版本部署"></a>cf worker版本部署</h4><p>首页：<a href="https://workers.cloudflare.com/">https://workers.cloudflare.com</a><br>注册，登陆，Start building，取一个子域名，Create a Worker。<br>复制 index.js 到左侧代码框，Save and deploy。如果正常，右侧应显示首页。<br>index.js默认配置下clone走github.com.cnpmjs.org，项目文件会走jsDeliver，如需走worker，修改Config变量即可</p><h4 id="Python版本部署"><a href="#Python版本部署" class="headerlink" title="Python版本部署"></a>Python版本部署</h4><h5 id="Docker部署"><a href="#Docker部署" class="headerlink" title="Docker部署"></a>Docker部署</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name=<span class="string">&quot;gh-proxy-py&quot;</span> \</span><br><span class="line">  -p 0.0.0.0:80:80 \</span><br><span class="line">  --restart=always \</span><br><span class="line">  hunsh/gh-proxy-py:latest</span><br></pre></td></tr></table></figure><p>第一个80是你要暴露出去的端口</p><h5 id="直接部署"><a href="#直接部署" class="headerlink" title="直接部署"></a>直接部署</h5><p>安装依赖（请使用python3）<br>pip install flask requests<br>按需求修改app/main.py的前几项配置</p><h5 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h5><p>python版本的机器如果无法正常访问github.io会启动报错，请自行修改静态文件url<br>默认配置下clone走github.com.cnpmjs.org，项目文件会走jsDeliver，如需走服务器，修改配置即可</p><h5 id="计费"><a href="#计费" class="headerlink" title="计费"></a>计费</h5><p>到 overview 页面可参看使用情况。免费版每天有 10 万次免费请求，并且有每分钟1000次请求的限制。<br>如果不够用，可升级到 $5 的高级版本，每月可用 1000 万次请求（超出部分 $0.5/百万次请求）。</p><h5 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h5><p>jsproxy</p><h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><p>以上部署方法来源：<br><a href="https://hunsh.net/archives/23/">开源分享：gh-proxy——基于cloudflare workers的GitHub文件加速</a></p>]]></content>
    
    
    <summary type="html">gh-proxy——基于cloudflare workers的GitHub文件加速</summary>
    
    
    
    
    <category term="工具" scheme="https://hexo.lyh.best/tags/%E5%B7%A5%E5%85%B7/"/>
    
    <category term="代理" scheme="https://hexo.lyh.best/tags/%E4%BB%A3%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>ASCII Art 字符画工具</title>
    <link href="https://hexo.lyh.best/20210321/ASCII-art-%E5%AD%97%E7%AC%A6%E7%94%BB%E5%B7%A5%E5%85%B7/"/>
    <id>https://hexo.lyh.best/20210321/ASCII-art-%E5%AD%97%E7%AC%A6%E7%94%BB%E5%B7%A5%E5%85%B7/</id>
    <published>2021-03-20T16:09:49.000Z</published>
    <updated>2023-10-29T14:51:50.489Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">██╗  ██╗   ██╗██╗  ██╗   ██████╗ ███████╗███████╗████████╗</span><br><span class="line">██║  ╚██╗ ██╔╝██║  ██║   ██╔══██╗██╔════╝██╔════╝╚══██╔══╝</span><br><span class="line">██║   ╚████╔╝ ███████║   ██████╔╝█████╗  ███████╗   ██║   </span><br><span class="line">██║    ╚██╔╝  ██╔══██║   ██╔══██╗██╔══╝  ╚════██║   ██║   </span><br><span class="line">███████╗██║   ██║  ██║██╗██████╔╝███████╗███████║   ██║   </span><br><span class="line">╚══════╝╚═╝   ╚═╝  ╚═╝╚═╝╚═════╝ ╚══════╝╚══════╝   ╚═╝   </span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ASCII Art 能够帮助我们通过电脑字符来表达图片、文本，甚至是流程图。</p><p>1️⃣ fun-comment</p><p><a href="https://github.com/5A59/fun-comment">GitHub</a> | <a href="https://marketplace.visualstudio.com/items?itemName=ZYLAB.fun-comment">VSCode</a></p><p>这是一款面向 VSCode 的内置插件，通过 fun-comment，你可以上传静态图片或者选择文字，将它们转换为 ASCII art 字符画。可作注释用途，也可以分享给他人</p><p>2️⃣ Patorjk<br><a href="http://patorjk.com/software/taag/">官网</a><br>这是一个通过文本生成 ASCII art 字符画的在线网站，其中提供了包含字体、宽度、高度等在内的多个自定义选项。输入你想要转换的文本，点击「Test All」，在众多样式中找到你中意的那一个<br>同时作者还有另外一个ascii图形生成器：<a href="http://patorjk.com/arial-ascii-art">http://patorjk.com/arial-ascii-art</a></p><p>3️⃣ char-dust </p><p><a href="https://github.com/YunYouJun/char-dust/">GitHub</a> | <a href="https://www.yunyoujun.cn/char-dust/">Web</a></p><p> Features：</p><ul><li><p>支持上传 GIF / PNG / JPG 图片，但只支持生成静态字符画</p></li><li><p>可自定义的图片大小</p></li><li><p>可自定义的字符串</p><p>相信随着机器学习等领域的不断发展，字符画将越来越生动逼真，能够作为一门「Art」被越来越多的人了解和制作</p></li></ul><p>4️⃣ 命令行工具figlet</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">figlet [ -cklnoprstvxDELNRSWX ] [ -d fontdirectory ]</span><br><span class="line">      [ -f fontfile ] [ -m layoutmode ]</span><br><span class="line">      [ -w outputwidth ] [ -C controlfile ]</span><br><span class="line">      [ -I infocode ] [ message ]</span><br></pre></td></tr></table></figure><p>安转后直接在命令行中使用即可。更多高级用法参考<a href="http://www.figlet.org/figlet-man.html">figlet-man</a></p><h3 id="更多字符画生成器"><a href="#更多字符画生成器" class="headerlink" title="更多字符画生成器"></a>更多字符画生成器</h3><p><a href="https://www.ascii-art-generator.org/">ascii-art-generator</a><br><a href="https://www.degraeve.com/img2txt.php">IMG2TXT</a><br><a href="http://ascii.mastervb.net/">Ascii.mastervb</a><br><a href="http://glassgiant.com/ascii/">GlassGiant ASCII Art</a><br><a href="https://wow.techbrood.com/fiddle/40897">ASCII码艺术（字符图像）在线生成器</a></p><h3 id="Python-实现"><a href="#Python-实现" class="headerlink" title="Python 实现"></a>Python 实现</h3><h4 id="video2char"><a href="#video2char" class="headerlink" title="video2char"></a>video2char</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;width&quot;</span>: <span class="number">135</span>,</span><br><span class="line">    <span class="attr">&quot;height&quot;</span>: <span class="number">240</span>,</span><br><span class="line">    <span class="attr">&quot;charset&quot;</span>: <span class="string">&quot;$@B%8&amp;WM#*oahkbdpqwmzcvunxrjft/\\|()1&#123;&#125;[]?-_+~&lt;&gt;i!;:,\&quot;^`&#x27;. &quot;</span>,</span><br><span class="line">    <span class="attr">&quot;file&quot;</span>: <span class="string">&quot;c://Users/0/Desktop/python/goodluck.mp4&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> webbrowser</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 写入的 HTML 的配置</span></span><br><span class="line">STYLE = <span class="string">&#x27;&lt;style&gt;pre&#123;font-size: 10px;line-height: 7px;&#125;&lt;/style&gt;\r\n&#x27;</span></span><br><span class="line">CHAR_TEMP = <span class="string">&#x27;&lt;pre style=&quot;display:none&quot;&gt;\r\n%s&lt;/pre&gt;&#x27;</span></span><br><span class="line">JAVASCRIPT = <span class="string">&#x27;&#x27;&#x27;&lt;script&gt;</span></span><br><span class="line"><span class="string">    var body;</span></span><br><span class="line"><span class="string">    var first;</span></span><br><span class="line"><span class="string">    var init = function() &#123;</span></span><br><span class="line"><span class="string">        body = document.getElementsByTagName(&quot;body&quot;)[0];</span></span><br><span class="line"><span class="string">        first = body.firstChild;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    var doframe = function() &#123;</span></span><br><span class="line"><span class="string">        body.removeChild(first);</span></span><br><span class="line"><span class="string">        first = body.firstChild;</span></span><br><span class="line"><span class="string">        first.style.display = &#x27;block&#x27;;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    setTimeout(init, 1);</span></span><br><span class="line"><span class="string">    setInterval(doframe, 100);</span></span><br><span class="line"><span class="string">&lt;/script&gt;&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">charset256</span>(<span class="params">charset</span>):</span></span><br><span class="line">    <span class="comment"># 将字符集长度扩展为 256</span></span><br><span class="line">    charset_len = <span class="built_in">len</span>(charset)</span><br><span class="line">    <span class="keyword">if</span> charset_len &gt; <span class="number">256</span>:</span><br><span class="line">        <span class="keyword">return</span> charset[:<span class="number">256</span>]</span><br><span class="line">    r = <span class="number">256</span> // charset_len</span><br><span class="line">    m = <span class="number">256</span> % charset_len</span><br><span class="line">    s = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> charset[:m]:</span><br><span class="line">        s += i * (r + <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> charset[m:]:</span><br><span class="line">        s += i * r</span><br><span class="line">    <span class="keyword">return</span> s</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">image2char</span>(<span class="params">image, width, height, charset</span>):</span></span><br><span class="line">    <span class="comment"># 将图片转换为字符画</span></span><br><span class="line">    image = image.convert(<span class="string">&#x27;L&#x27;</span>).resize((width, height))  <span class="comment"># 将图片转换为灰度模式</span></span><br><span class="line">    pix = image.load()</span><br><span class="line"></span><br><span class="line">    char_set = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(height):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(width):</span><br><span class="line">            <span class="comment"># 读取每一个像素的值，找出对应的字符</span></span><br><span class="line">            char = charset[pix[j, i]]</span><br><span class="line">            char_set.append(char)</span><br><span class="line">        char_set.append(<span class="string">&#x27;\r\n&#x27;</span>)</span><br><span class="line">    <span class="comment"># 返回合并后的字符画</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>.join(char_set)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gif2char</span>(<span class="params">gif, width, height, charset</span>):</span></span><br><span class="line">    gif = Image.<span class="built_in">open</span>(gif)</span><br><span class="line">    gif.seek(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    char_set = []</span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># 逐帧将 GIF 转换</span></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            char_set.append(CHAR_TEMP % image2char(gif, width, height, charset))</span><br><span class="line">            <span class="keyword">if</span> count % <span class="number">10</span> == <span class="number">0</span>:</span><br><span class="line">                print(<span class="string">&#x27;生成 %d S 字符画&#x27;</span> % (count / <span class="number">10</span>))</span><br><span class="line">            count += <span class="number">1</span></span><br><span class="line">            gif.seek(gif.tell() + <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">except</span> EOFError:</span><br><span class="line">        <span class="comment"># 合并所有帧</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>.join(char_set)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">video2gif</span>(<span class="params">video, width, height</span>):</span></span><br><span class="line">    <span class="comment"># 调用 FFmpeg ，将视频转换为指定大小的 GIF</span></span><br><span class="line">    os.system(<span class="string">&#x27;ffmpeg -i %s -s %d*%d -r 10 %s.gif&#x27;</span> %</span><br><span class="line">              (video, width, height, video))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 从 config.json 中读取 json 格式的配置</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;config.json&#x27;</span>) <span class="keyword">as</span> fr:</span><br><span class="line">        data = json.loads(fr.read())</span><br><span class="line">    <span class="comment"># 将配置的字符集长度扩展为 256</span></span><br><span class="line">    charset = charset256(data[<span class="string">&#x27;charset&#x27;</span>])</span><br><span class="line">    width = data[<span class="string">&#x27;width&#x27;</span>]  <span class="comment"># 要生成的字符画的宽度</span></span><br><span class="line">    height = data[<span class="string">&#x27;height&#x27;</span>]  <span class="comment"># 要生成的字符画的高度</span></span><br><span class="line">    file = data[<span class="string">&#x27;file&#x27;</span>]  <span class="comment"># 要转换的视频文件</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 将视频文件转换为 GIF</span></span><br><span class="line">    video2gif(file, width, height)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 逐帧将 GIF 转换为字符画</span></span><br><span class="line">    char = gif2char(file + <span class="string">&#x27;.gif&#x27;</span>, width, height, charset)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 将生成的字符画写入文件</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(file + <span class="string">&#x27;.html&#x27;</span>, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> fr:</span><br><span class="line">        fr.write(JAVASCRIPT + STYLE + char)</span><br><span class="line"></span><br><span class="line">webbrowser.<span class="built_in">open</span>(<span class="string">&quot;goodluck.mp4.html&quot;</span>)</span><br></pre></td></tr></table></figure><p>效果：<br><video src="https://photo.lyh.best/2021/03/21/5ab87f1a9ca78.mp4" alt="video2char.mp4" width="100%" height="100%" controls="controls"></video></p><h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><p>以上内容部分来源于：</p><ul><li>Telegram频道：<a href="https://t.me/NewlearnerChannel/6734">@NewlearnerChannel</a></li></ul><p><a href="https://blog.csdn.net/u014636245/article/details/83661559">【Python AsciiArt】利用命令行打印出字符图案</a></p>]]></content>
    
    
    <summary type="html">ASCII Art</summary>
    
    
    
    
    <category term="工具" scheme="https://hexo.lyh.best/tags/%E5%B7%A5%E5%85%B7/"/>
    
    <category term="Python" scheme="https://hexo.lyh.best/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>Markdown添加数学公式符号</title>
    <link href="https://hexo.lyh.best/20210314/Markdown%E6%B7%BB%E5%8A%A0%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F%E7%AC%A6%E5%8F%B7/"/>
    <id>https://hexo.lyh.best/20210314/Markdown%E6%B7%BB%E5%8A%A0%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F%E7%AC%A6%E5%8F%B7/</id>
    <published>2021-03-13T17:33:04.000Z</published>
    <updated>2023-10-29T14:51:50.490Z</updated>
    
    <content type="html"><![CDATA[<ol><li>指数和下标可以用^和_后加相应字符来实现。</li><li>平方根（square root）的输入命令为：\sqrt，n 次方根相应地为: \sqrt[n]。方根符号的大小由LATEX自动加以调整。也可用\surd 仅给出符号。</li><li>命令\overline 和\underline 在表达式的上、下方画出水平线。</li><li>命令\overbrace 和\underbrace 在表达式的上、下方给出一水平的大括号。</li><li>向量（Vectors）通常用上方有小箭头（arrow symbols）的变量表示。这可由\vec 得到。另两个命令\overrightarrow 和\overleftarrow在定义从A 到B 的向量时非常有用。</li><li>分数（fraction）使用\frac{…}{…} 排版。一般来说，1/2 这种形式更受欢迎，因为对于少量的分式，它看起来更好些。</li><li>积分运算符（integral operator）用\int 来生成。求和运算符（sum operator）由\sum 生成。乘积运算符（product operator）由\prod 生成。上限和下限用^ 和_来生成，类似于上标和下标。</li><li>特殊字形：符号：\mathcal，如$ \mathcal{ABC} $； \mathbb，如$ \mathbb{ABC} $ ；\mathscr，如$ \mathscr{ABC} $。</li></ol><h2 id="符号类"><a href="#符号类" class="headerlink" title="符号类"></a>符号类</h2><h3 id="希腊字母"><a href="#希腊字母" class="headerlink" title="希腊字母"></a>希腊字母</h3><table><thead><tr><th align="center">符号</th><th align="center">写法</th></tr></thead><tbody><tr><td align="center">α</td><td align="center">\alpha</td></tr><tr><td align="center">β</td><td align="center">\beta</td></tr><tr><td align="center">γ</td><td align="center">\gamma</td></tr><tr><td align="center">δ</td><td align="center">\delta</td></tr><tr><td align="center">Δ</td><td align="center">\Delta</td></tr><tr><td align="center">ϵ</td><td align="center">\epsil</td></tr><tr><td align="center">ε</td><td align="center">\varep</td></tr><tr><td align="center">ζ</td><td align="center">\zeta</td></tr><tr><td align="center">η</td><td align="center">\eta</td></tr><tr><td align="center">θ</td><td align="center">\theta</td></tr><tr><td align="center">Θ</td><td align="center">\Theta</td></tr><tr><td align="center">ϑ</td><td align="center">\varth</td></tr><tr><td align="center">ι</td><td align="center">\iota</td></tr><tr><td align="center">κ</td><td align="center">\kappa</td></tr><tr><td align="center">λ</td><td align="center">\lambd</td></tr><tr><td align="center">Λ</td><td align="center">\Lambd</td></tr><tr><td align="center">μ</td><td align="center">\mu</td></tr><tr><td align="center">ν</td><td align="center">\nu</td></tr><tr><td align="center">ξ</td><td align="center">\xi</td></tr><tr><td align="center">Ξ</td><td align="center">\Xi</td></tr><tr><td align="center">π</td><td align="center">\pi</td></tr><tr><td align="center">Π</td><td align="center">\Pi</td></tr><tr><td align="center">ϖ</td><td align="center">\varpi</td></tr><tr><td align="center">ρ</td><td align="center">\rho</td></tr><tr><td align="center">ϱ</td><td align="center">\varrh</td></tr><tr><td align="center">σ</td><td align="center">\sigma</td></tr><tr><td align="center">Σ</td><td align="center">\Sigma</td></tr><tr><td align="center">ς</td><td align="center">\varsi</td></tr><tr><td align="center">τ</td><td align="center">\tau</td></tr><tr><td align="center">υ</td><td align="center">\upsil</td></tr><tr><td align="center">Υ</td><td align="center">\Upsil</td></tr><tr><td align="center">ϕ</td><td align="center">\phi</td></tr><tr><td align="center">Φ</td><td align="center">\Phi</td></tr><tr><td align="center">φ</td><td align="center">\varph</td></tr><tr><td align="center">χ</td><td align="center">\chi</td></tr><tr><td align="center">ψ</td><td align="center">\psi</td></tr><tr><td align="center">Ψ</td><td align="center">\Psi</td></tr><tr><td align="center">ω</td><td align="center">\omega</td></tr><tr><td align="center">Ω</td><td align="center">\Omega</td></tr></tbody></table><ul><li>若需要大写希腊字母，将命令首字母大写即可。</li><li>若需要斜体希腊字母，将命令前加上var前缀即可。<h3 id="运算符号"><a href="#运算符号" class="headerlink" title="运算符号"></a>运算符号</h3><table><thead><tr><th align="center">符号</th><th align="center">写法</th></tr></thead><tbody><tr><td align="center">$ x^2 $</td><td align="center">x^2</td></tr><tr><td align="center">$ \theta_i $</td><td align="center">\theta_i</td></tr><tr><td align="center">$ \frac{ x }{ y } $</td><td align="center">\frac{ x }{ y }</td></tr><tr><td align="center">$ \sqrt{ x } ; \sqrt[n]{ x } $</td><td align="center">\sqrt{ x } ; \sqrt[n]{ x }</td></tr><tr><td align="center">$ \partial J $</td><td align="center">\partial J</td></tr><tr><td align="center">$ \sum_{k=1}^{m} $</td><td align="center">\sum_{k=1}^{m}</td></tr><tr><td align="center">$ \int_{-\pi}^{\pi} x^2 {\rm d}x $</td><td align="center">\int_{-\pi}^{\pi} x^2 {\rm d}x</td></tr><tr><td align="center">$ \iiiint $</td><td align="center">\iiiint</td></tr><tr><td align="center">$ \oint $</td><td align="center">\oint</td></tr><tr><td align="center">$ \mathrm{d} $</td><td align="center">\mathrm{d}</td></tr><tr><td align="center">$ \prime $</td><td align="center">\prime</td></tr><tr><td align="center">$ \imath $</td><td align="center">\imath</td></tr><tr><td align="center">$ \jmath $</td><td align="center">\jmath</td></tr><tr><td align="center">$ \infty $</td><td align="center">\infty</td></tr><tr><td align="center">$ \nabla $</td><td align="center">\nabla</td></tr><tr><td align="center">$ \lim\limits_{n \rightarrow +\infty} \frac{1}{n(n+1)} $</td><td align="center">\lim\limits_{n \rightarrow +\infty} \frac{1}{n(n+1)}</td></tr><tr><td align="center">$ \prod_{i=0}^n \frac{1}{i^2} $</td><td align="center">\prod_{i=0}^n \frac{1}{i^2}</td></tr><tr><td align="center">$ \frac{d}{dx}e{ax}=ae{ax}\quad \sum_{i=1}^{n}{(X_i-\overline{X})^2} $</td><td align="center">\frac{d}{dx}e{ax}=ae{ax}\quad \sum_{i=1}^{n}{(X_i-\overline{X})^2}</td></tr><tr><td align="center">$ \vec{a} \cdot \vec{b}=0 $</td><td align="center">\vec{a} \cdot \vec{b}=0</td></tr><tr><td align="center">$ limn→+∞nlimn→+∞n \lim_{n\rightarrow+\infty} n $</td><td align="center">limn→+∞nlimn→+∞n \lim_{n\rightarrow+\infty} n</td></tr><tr><td align="center">$ \frac{\partial f(x,y)}{\partial x} $</td><td align="center">\frac{\partial f(x,y)}{\partial x}</td></tr></tbody></table></li></ul><h3 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h3><table><thead><tr><th align="center">符号</th><th align="center">写法</th></tr></thead><tbody><tr><td align="center">$ \pm $</td><td align="center">\pm</td></tr><tr><td align="center">$ \mp $</td><td align="center">\mp</td></tr><tr><td align="center">$ \times $</td><td align="center">\times</td></tr><tr><td align="center">$ \div $</td><td align="center">\div</td></tr><tr><td align="center">$ \nmid $</td><td align="center">\nmid</td></tr><tr><td align="center">$ \cdot $</td><td align="center">\cdot</td></tr><tr><td align="center">$ \ast $</td><td align="center">\ast</td></tr><tr><td align="center">$ \bigodot $</td><td align="center">\bigodot</td></tr><tr><td align="center">$ \bigotimes $</td><td align="center">\bigotimes</td></tr><tr><td align="center">$ \bigoplus $</td><td align="center">\bigoplus</td></tr><tr><td align="center">$ \leq $</td><td align="center">\leq</td></tr><tr><td align="center">$ \geq $</td><td align="center">\geq</td></tr><tr><td align="center">$ \nleq $</td><td align="center">\nleq</td></tr><tr><td align="center">$ \ngeq $</td><td align="center">\ngeq</td></tr><tr><td align="center">$ \neq $</td><td align="center">\neq</td></tr><tr><td align="center">$ \approx $</td><td align="center">\approx</td></tr><tr><td align="center">$ \equiv $</td><td align="center">\equiv</td></tr><tr><td align="center">$ \coprod $</td><td align="center">\coprod</td></tr></tbody></table><h3 id="三角运算符"><a href="#三角运算符" class="headerlink" title="三角运算符"></a>三角运算符</h3><table><thead><tr><th align="center">符号</th><th align="center">写法</th></tr></thead><tbody><tr><td align="center">$ \bot $</td><td align="center">\bot</td></tr><tr><td align="center">$ \angle $</td><td align="center">\angle</td></tr><tr><td align="center">$ 30^\circ $</td><td align="center">30^\circ</td></tr><tr><td align="center">$ \sin $</td><td align="center">\sin</td></tr><tr><td align="center">$ \cos $</td><td align="center">\cos</td></tr><tr><td align="center">$ \tan $</td><td align="center">\tan</td></tr><tr><td align="center">$ \cot $</td><td align="center">\cot</td></tr><tr><td align="center">$ \sec $</td><td align="center">\sec</td></tr><tr><td align="center">$ \csc $</td><td align="center">\csc</td></tr></tbody></table><h3 id="对数函数"><a href="#对数函数" class="headerlink" title="对数函数"></a>对数函数</h3><table><thead><tr><th align="center">符号</th><th align="center">写法</th></tr></thead><tbody><tr><td align="center">$\ln15 $</td><td align="center">\ln15</td></tr><tr><td align="center">$\log_2 10 $</td><td align="center">\log_2 10</td></tr><tr><td align="center">$\lg7 $</td><td align="center">\lg7</td></tr></tbody></table><h3 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h3><table><thead><tr><th align="center">符号</th><th align="center">写法</th></tr></thead><tbody><tr><td align="center">$ \because $</td><td align="center">\because</td></tr><tr><td align="center">$ \therefore $</td><td align="center">\therefore</td></tr><tr><td align="center">$ \forall $</td><td align="center">\forall</td></tr><tr><td align="center">$ \exists $</td><td align="center">\exists</td></tr><tr><td align="center">$ \not= $</td><td align="center">\not=</td></tr><tr><td align="center">$ \not&gt; $</td><td align="center">\not&gt;</td></tr><tr><td align="center">$ \not\subset $</td><td align="center">\not\subset</td></tr></tbody></table><h3 id="戴帽符号"><a href="#戴帽符号" class="headerlink" title="戴帽符号"></a>戴帽符号</h3><table><thead><tr><th align="center">符号</th><th align="center">写法</th></tr></thead><tbody><tr><td align="center">$ \hat{y} $</td><td align="center">\hat{y}</td></tr><tr><td align="center">$ \check{y} $</td><td align="center">\check{y}</td></tr><tr><td align="center">$ \breve{y} $</td><td align="center">\breve{y}</td></tr><tr><td align="center">$ \tilde{y} $</td><td align="center">\tilde{y}</td></tr><tr><td align="center">$ \bar{y} $</td><td align="center">\bar{y}</td></tr><tr><td align="center">$ \acute{y} $</td><td align="center">\acute{y}</td></tr><tr><td align="center">$ \grave{y} $</td><td align="center">\grave{y}</td></tr><tr><td align="center">$ \mathring{y} $</td><td align="center">\mathring{y}</td></tr><tr><td align="center">$ \dot{y} $</td><td align="center">\dot{y}</td></tr><tr><td align="center">$ \ddot{y} $</td><td align="center">\ddot{y}</td></tr></tbody></table><h3 id="连线符号"><a href="#连线符号" class="headerlink" title="连线符号"></a>连线符号</h3><table><thead><tr><th align="center">符号</th><th align="center">写法</th></tr></thead><tbody><tr><td align="center">$ \overline{a+b+c+d} $</td><td align="center">\overline{a+b+c+d}</td></tr><tr><td align="center">$ \underline{a+b+c+d} $</td><td align="center">\underline{a+b+c+d}</td></tr><tr><td align="center">$ \overbrace{a+\underbrace{b+c}_{1.0}+d}^{2.0} $</td><td align="center">\overbrace{a+\underbrace{b+c}_{1.0}+d}^{2.0}</td></tr></tbody></table><h3 id="箭头符号"><a href="#箭头符号" class="headerlink" title="箭头符号"></a>箭头符号</h3><table><thead><tr><th align="center">符号</th><th align="center">写法</th></tr></thead><tbody><tr><td align="center">$    \uparrow $</td><td align="center">\uparrow</td></tr><tr><td align="center">$    \Uparrow $</td><td align="center">\Uparrow</td></tr><tr><td align="center">$    \downarrow $</td><td align="center">\downarrow</td></tr><tr><td align="center">$    \Downarrow $</td><td align="center">\Downarrow</td></tr><tr><td align="center">$    \rightarrow $</td><td align="center">\rightarrow</td></tr><tr><td align="center">$    \Rightarrow $</td><td align="center">\Rightarrow</td></tr><tr><td align="center">$    \leftarrow $</td><td align="center">\leftarrow</td></tr><tr><td align="center">$    \Leftarrow $</td><td align="center">\Leftarrow</td></tr><tr><td align="center">$    \longleftarrow $</td><td align="center">\longleftarrow</td></tr><tr><td align="center">$    \Longleftarrow $</td><td align="center">\Longleftarrow</td></tr><tr><td align="center">$    \longrightarrow $</td><td align="center">\longrightarrow</td></tr><tr><td align="center">$    \Longrightarrow $</td><td align="center">\Longrightarrow</td></tr></tbody></table><h3 id="省略号"><a href="#省略号" class="headerlink" title="省略号"></a>省略号</h3><table><thead><tr><th align="center">符号</th><th align="center">写法</th><th align="center">名字</th></tr></thead><tbody><tr><td align="center">$    \ldots $</td><td align="center">\ldots</td><td align="center">底端对齐的省略号</td></tr><tr><td align="center">$    \cdots $</td><td align="center">\cdots</td><td align="center">中线对齐的省略号</td></tr><tr><td align="center">$    \vdots $</td><td align="center">\vdots</td><td align="center">竖直对齐的省略号</td></tr><tr><td align="center">$    \ddots $</td><td align="center">\ddots</td><td align="center">斜对齐的省略号</td></tr></tbody></table><h3 id="集合运算"><a href="#集合运算" class="headerlink" title="集合运算"></a>集合运算</h3><table><thead><tr><th align="center">符号</th><th align="center">写法</th><th align="center">名字</th></tr></thead><tbody><tr><td align="center">$    x\in y $</td><td align="center">x\in y</td><td align="center">属于运算</td></tr><tr><td align="center">$    x\notin y $</td><td align="center">x\notin y</td><td align="center">不属于运算</td></tr><tr><td align="center">$    x\not\in y $</td><td align="center">x\not\in y</td><td align="center">不属于运算</td></tr><tr><td align="center">$    x\subset y $</td><td align="center">x\subset y</td><td align="center">子集运算</td></tr><tr><td align="center">$    x、supset y $</td><td align="center">x、supset y</td><td align="center">子集运算</td></tr><tr><td align="center">$    x\subseteq y $</td><td align="center">x\subseteq y</td><td align="center">真子集运算</td></tr><tr><td align="center">$    x\subsetneq y $</td><td align="center">x\subsetneq y</td><td align="center">非真子集运算</td></tr><tr><td align="center">$    x\supseteq y $</td><td align="center">x\supseteq y</td><td align="center">真子集运算</td></tr><tr><td align="center">$    x\supsetneq y $</td><td align="center">x\supsetneq y</td><td align="center">非真子集运算</td></tr><tr><td align="center">$    x\not\subset y $</td><td align="center">x\not\subset y</td><td align="center">非子集运算</td></tr><tr><td align="center">$    x\not\supset y $</td><td align="center">x\not\supset y</td><td align="center">非子集运算</td></tr><tr><td align="center">$    x\cup y $</td><td align="center">x\cup y</td><td align="center">并集运算</td></tr><tr><td align="center">$    x\cap y $</td><td align="center">x\cap y</td><td align="center">交集运算</td></tr><tr><td align="center">$    x\setminus y $</td><td align="center">x\setminus y</td><td align="center">差集运算</td></tr><tr><td align="center">$    x\bigodot y $</td><td align="center">x\bigodot y</td><td align="center">同或运算</td></tr><tr><td align="center">$    x\bigotimes y $</td><td align="center">x\bigotimes y</td><td align="center">同与运算</td></tr><tr><td align="center">$    \mathbb{R}</td><td align="center">\mathbb{R}</td><td align="center">实数集合</td></tr><tr><td align="center">$    \mathbb{Z}</td><td align="center">\mathbb{Z}</td><td align="center">自然数集合</td></tr><tr><td align="center">$    \emptyset $</td><td align="center">\emptyset</td><td align="center">空集</td></tr><tr><td align="center">$    \forall $</td><td align="center">\forall</td><td align="center">任意符号</td></tr><tr><td align="center">$    \exists y $</td><td align="center">\exists</td><td align="center">存在符号</td></tr></tbody></table><h3 id="括号"><a href="#括号" class="headerlink" title="括号"></a>括号</h3><table><thead><tr><th align="center">符号</th><th align="center">写法</th></tr></thead><tbody><tr><td align="center">大括号:$ \lbrace a+x \rbrace $</td><td align="center">\lbrace a+x \rbrace</td></tr><tr><td align="center">尖括号:$ \langle x \rangle $</td><td align="center">\langle x \rangle</td></tr><tr><td align="center">上取整:$ \lceil \frac{x}{2} \rceil $</td><td align="center">\lceil \frac{x}{2} \rceil</td></tr><tr><td align="center">下取整:$ \lfloor x \rfloor $</td><td align="center">\lfloor x \rfloor</td></tr><tr><td align="center">原始括号:$ \lbrace \sum_{i=0}^{n}i^{2}=\frac{2a}{x^2+1} \rbrace $</td><td align="center">\lbrace \sum_{i=0}^{n}i^{2}=\frac{2a}{x^2+1} \rbrace</td></tr><tr><td align="center">全包括号:$ \left\lbrace \sum_{i=0}^{n}i^{2}=\frac{2a}{x^2+1} \right\rbrace $</td><td align="center">\left\lbrace \sum_{i=0}^{n}i^{2}=\frac{2a}{x^2+1} \right\rbrace</td></tr><tr><td align="center">上大括号:$ \overbrace{1+2+3+4}^{2.0} $</td><td align="center">\overbrace{1+2+3+4}^{2.0}</td></tr><tr><td align="center">下大括号:$ \underbrace{1+2+3+4}_{2.0} $</td><td align="center">\underbrace{1+2+3+4}_{2.0}</td></tr></tbody></table><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$$ \big(\big) \Big(\Big) \bigg(\bigg) \Bigg(\Bigg) $$</span><br></pre></td></tr></table></figure><p>$$ \big(\big) \Big(\Big) \bigg(\bigg) \Bigg(\Bigg) $$</p><h3 id="占位符"><a href="#占位符" class="headerlink" title="占位符"></a>占位符</h3><p>两个quad空格，符号：\qquad，如：$ x\qquad y $<br>quad空格，符号：\quad，如：$ x\quad y $</p><h3 id="矩阵类"><a href="#矩阵类" class="headerlink" title="矩阵类"></a>矩阵类</h3><table><thead><tr><th align="center">符号</th><th align="center">写法</th></tr></thead><tbody><tr><td align="center">$ \vec{ a } $</td><td align="center">\vec{ a }</td></tr></tbody></table><p>给公式编号,如（1）</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$$e^&#123;i\theta&#125;=cos\theta+\sin\theta i\tag&#123;1&#125;$$</span><br></pre></td></tr></table></figure><p>$$e^{i\theta}=cos\theta+\sin\theta i\tag{1}$$</p><h2 id="使用Google-Chart的服务器"><a href="#使用Google-Chart的服务器" class="headerlink" title="使用Google Chart的服务器"></a>使用Google Chart的服务器</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;http://chart.googleapis.com/chart?cht=tx&amp;chl= 在此插入Latex公式&quot;</span> <span class="attr">style</span>=<span class="string">&quot;border:none;&quot;</span>&gt;</span></span><br><span class="line">````</span><br><span class="line">例如：</span><br><span class="line">```html</span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;http://chart.googleapis.com/chart?cht=tx&amp;chl=\Large x=\frac&#123;-b\pm\sqrt&#123;b^2-4ac&#125;&#125;&#123;2a&#125;&quot;</span> <span class="attr">style</span>=<span class="string">&quot;border:none;&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>公式显示结果为：（需要科学上网才能 load 出来）<br><img src="http://chart.googleapis.com/chart?cht=tx&chl=\Large x=\frac{-b\pm\sqrt{b^2-4ac}}{2a}" style="border:none;"></p><h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><p><a href="https://www.zybuluo.com/codeep/note/163962">Cmd Markdown 公式指导手册</a><br><a href="https://www.cnblogs.com/xym4869/p/11282586.html">Markdown数学公式语法</a></p>]]></content>
    
    
    <summary type="html">Markdown使用笔记（适用于mathjax）</summary>
    
    
    
    
    <category term="Markdown" scheme="https://hexo.lyh.best/tags/Markdown/"/>
    
  </entry>
  
  <entry>
    <title>开源办公套件</title>
    <link href="https://hexo.lyh.best/20210312/%E5%BC%80%E6%BA%90%E5%8A%9E%E5%85%AC%E5%A5%97%E4%BB%B6/"/>
    <id>https://hexo.lyh.best/20210312/%E5%BC%80%E6%BA%90%E5%8A%9E%E5%85%AC%E5%A5%97%E4%BB%B6/</id>
    <published>2021-03-12T12:26:25.000Z</published>
    <updated>2023-10-29T14:51:50.492Z</updated>
    
    <content type="html"><![CDATA[<h2 id="DzzOffice-办公套件"><a href="#DzzOffice-办公套件" class="headerlink" title="DzzOffice 办公套件"></a>DzzOffice 办公套件</h2><p>DzzOffice 是一套开源办公套件，适用于企业、团队搭建自己的类似“ Google 企业应用套件”、“微软 Office365”的企业协同办公平台。</p><ul><li><a href="http://dzzoffice.com/">官网</a></li><li><a href="https://github.com/zyx0814/dzzoffice">GitHub仓库</a></li><li><a href="http://dzzoffice.com/corpus/list?cid=1">dzzoffice2.0 开发手册</a></li><li><a href="http://dzzoffice.com/corpus/list?cid=2#">网盘介绍文档</a></li><li><a href="http://dzzoffice.com/corpus/list?cid=3#">office文档编辑预览方案</a></li><li><a href="http://dzzoffice.com/corpus/list?cid=4">Dzzoffice数据备份恢复和迁移</a></li><li><a href="http://dzzoffice.com/corpus/list?cid=5#">OneDrive 配置</a></li></ul><h3 id="功能介绍"><a href="#功能介绍" class="headerlink" title="功能介绍"></a>功能介绍</h3><p>DzzOffice由多款开源办公应用组成，安装DzzOffice框架后，可根据需要从内部的应用市场进行选择和安装。应用能够单独使用，也能与其他多款应用组合使用。<br>DzzOffice能够结合企业微信、钉钉来进一步扩展移动办公与沟通协同能力，无论身处何地都能轻松协作。<br>DzzOffice专注通用型办公应用并开源免费发布，您能够放心的使用，或对其进行二次开发，在已有通用功能的基础上，开发或结合企业正在使用的行业/专业系统，来形成完整的行业软件解决方案。<br><img src="http://libs.websoft9.com/Websoft9/DocsPicture/zh/dzzoffice/dzzoffic-instroduce-websoft9.png" alt="功能介绍"></p><h4 id="可能会用到的文件目录"><a href="#可能会用到的文件目录" class="headerlink" title="可能会用到的文件目录"></a>可能会用到的文件目录</h4><table><thead><tr><th align="center">项</th><th align="center">路径或说明</th></tr></thead><tbody><tr><td align="center">Web服务</td><td align="center">Apache</td></tr><tr><td align="center">默认根目录</td><td align="center">/data/wwwroot/dzzoffice</td></tr><tr><td align="center">PHP配置</td><td align="center">/etc/php.ini</td></tr><tr><td align="center">Apache虚拟主机文件目录</td><td align="center">/ect/httpd/vhost</td></tr><tr><td align="center">Apache虚拟主机文件–根目录对应的文件</td><td align="center">/ect/httpd/vhost/vhost.conf</td></tr><tr><td align="center">日志文件</td><td align="center">/var/log/httpd</td></tr><tr><td align="center">MySQL数据目录</td><td align="center">/data/mysql</td></tr><tr><td align="center">MySQL配置文件</td><td align="center">/etc/my.cnf</td></tr><tr><td align="center">MySQL管理地址</td><td align="center">http://服务器公网IP/phpmyadmin</td></tr></tbody></table><h3 id="DzzOffice演示"><a href="#DzzOffice演示" class="headerlink" title="DzzOffice演示"></a>DzzOffice演示</h3><p>DzzOffice官网提供了演示环境，您可以直接访问演示地址体验</p><ul><li>演示地址：<a href="http://demo.dzzoffice.com/">http://demo.dzzoffice.com/</a></li></ul><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><h4 id="准备环境"><a href="#准备环境" class="headerlink" title="准备环境"></a>准备环境</h4><p>dzzoffice是php的web服务，需要php的环境和php的mysql连接模块，还有一个web服务器如apache或nginx，这里我使用apache。</p><h5 id="安装PHP7"><a href="#安装PHP7" class="headerlink" title="安装PHP7"></a>安装PHP7</h5><ol><li>检查当前环境是否已安装php<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -qa | grep php</span><br></pre></td></tr></table></figure>如版本不符合、可选择卸载重新安装或者跳过php安装</li><li>执行如下命令安装epel<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install epel-release</span><br></pre></td></tr></table></figure></li><li>更换rpm源，请根据自己的centos版本选择相应的rpm源进行安装，因为系统自带的源下载的php太老，是5.3.3版本的。操作系统是centos6.8，这里我们执行：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -Uvh http://mirror.webtatic.com/yum/el6/latest.rpm</span><br></pre></td></tr></table></figure></li><li>安装php7<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y php70w</span><br></pre></td></tr></table></figure></li><li>安装完成，查看版本<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php -v</span><br></pre></td></tr></table></figure></li></ol><h5 id="安装php-mysql，php的mysql连接模块"><a href="#安装php-mysql，php的mysql连接模块" class="headerlink" title="安装php-mysql，php的mysql连接模块"></a>安装php-mysql，php的mysql连接模块</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y php70w-mysql</span><br></pre></td></tr></table></figure><h5 id="安装Apache-web服务，httpd"><a href="#安装Apache-web服务，httpd" class="headerlink" title="安装Apache web服务，httpd"></a>安装Apache web服务，httpd</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y httpd</span><br></pre></td></tr></table></figure><h5 id="下载dzzoffice源码启动服务"><a href="#下载dzzoffice源码启动服务" class="headerlink" title="下载dzzoffice源码启动服务"></a>下载dzzoffice源码启动服务</h5><p>直接到官方 <a href="https://github.com/zyx0814/dzzoffice">GitHub仓库</a> 上下载</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 下载最新稳定版本</span></span><br><span class="line">wget https://github.com/zyx0814/dzzoffice/archive/2.02.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="comment"># 解压文件</span></span><br><span class="line">tar zxvf 2.02.tar.gz</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 将解压后的文件移动到apache的目录下，并改名为dzzoffice</span></span><br><span class="line">mv dzzoffice-2.02 /var/www/html/dzzoffice</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 然后将目录权限授权给apache启动用户，默认为apache用户，如果自己修改了，则以你修改的为准</span></span><br><span class="line"><span class="built_in">cd</span> /var/www/html/</span><br><span class="line">chown -R apache. dzzoffice</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启动apache</span></span><br><span class="line">service httpd start</span><br><span class="line"><span class="comment"># 设置开机启动apache</span></span><br><span class="line">chkconfig httpd on</span><br><span class="line"></span><br><span class="line"><span class="comment"># 防火墙永久开放80端口，如果防火墙关了就不用执行了</span></span><br><span class="line">firewall-cmd --add-port=80/tcp --permanent</span><br><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure><h5 id="安装-MySQL-数据库"><a href="#安装-MySQL-数据库" class="headerlink" title="安装 MySQL 数据库"></a>安装 MySQL 数据库</h5><p>这里使用 MySQL 5.7</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装配置mysql的yum源的rpm包</span></span><br><span class="line">wget https://dev.mysql.com/get/mysql57-community-release-el6-9.noarch.rpm</span><br><span class="line"><span class="comment"># 安装</span></span><br><span class="line">rpm -Uvh mysql57-community-release-el6-9.noarch.rpm</span><br><span class="line"><span class="comment"># 安装mysql</span></span><br><span class="line">yum install -y mysql-community-server</span><br><span class="line"><span class="comment"># 开启mysql服务</span></span><br><span class="line">service mysqld start</span><br><span class="line"><span class="comment"># 设置mysql开机启动</span></span><br><span class="line">chkconfig mysqld on</span><br></pre></td></tr></table></figure><p>mysql安装成功后创建的超级用户‘root’@’localhost’的密码会被存储在/var/log/mysqld.log，可以使用如下命令查看密码</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep <span class="string">&#x27;temporary password&#x27;</span> /var/<span class="built_in">log</span>/mysqld.log</span><br></pre></td></tr></table></figure><p>使用mysql生成的‘root’@’localhost’用户和密码登录数据库，并修改其密码，具体命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 登录</span></span><br><span class="line">mysql -uroot -p</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 修改密码</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span> <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">&#x27;password&#x27;</span>;</span><br></pre></td></tr></table></figure><h4 id="访问页面进行安装"><a href="#访问页面进行安装" class="headerlink" title="访问页面进行安装"></a>访问页面进行安装</h4><p>上一步已启动apache，现在可以直接访问你服务器的ip或域名，后跟dezzoffice的路径来来访问dzzoffice，访问如：<a href="http://ip/dzzoffice">http://ip/dzzoffice</a></p><ol><li>访问成功后自动跳转到安装界面,点击“开始安装”：<br><img src="https://img.kancloud.cn/27/56/27567ce7a1285d2def6ca7650c60c27c_557x608.png" alt="安装界面"></li><li>确保环境检查和权限检查通过，“下一步”；<br><img src="http://libs.websoft9.com/Websoft9/DocsPicture/zh/dzzoffice/dzzoffice-install-2-websoft9.png" alt="环境检查"></li><li>目录及文件权限检查，“下一步”；<br><img src="https://libs.websoft9.com/Websoft9/DocsPicture/zh/dzzoffice/dzzoffice-install-3-websoft9.png" alt="目录及文件权限检查"></li><li>填写数据库信息，默认数据库为 123456，如果修改过请填写修改后的密码；<br><img src="http://libs.websoft9.com/Websoft9/DocsPicture/zh/dzzoffice/dzzoffice-install-4-websoft9.png" alt="填写数据库信息"></li><li>输入管理员账户名和密码，点击下一步即可完成安装；<br><img src="http://libs.websoft9.com/Websoft9/DocsPicture/zh/dzzoffice/dzzoffice-install-5-websoft9.png" alt="管理员账户名和密码"></li></ol><p>安装完成后，手动删除安装文件 index.php 。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -rf /var/www/html/dzzoffice/install/index.php</span><br></pre></td></tr></table></figure><h3 id="文档在线预览"><a href="#文档在线预览" class="headerlink" title="文档在线预览"></a>文档在线预览</h3><p>对于大多数开源的网盘软件来说，文档（docx,doc,txt,pdf,xls等）不能在线预览，给网盘软件的使用带来了不变。<br>参考《office文档编辑预览方案》<a href="http://www.dzzoffice.com/corpus/list?cid=3#fid_78">http://www.dzzoffice.com/corpus/list?cid=3#fid_78</a></p><h3 id="文档预览为什么这么难？"><a href="#文档预览为什么这么难？" class="headerlink" title="文档预览为什么这么难？"></a>文档预览为什么这么难？</h3><p>对于网盘软件来说，文档预览并不是软件本身的功能组件，而是第三方服务，文档预览是一个单独的系统，而且是一个复杂的系统，即使看起来它只实现了“预览”这么一个功能。<br>正如世界上很多事物一样，如果没有去实现，一般是两种原因：太容易实现，不屑去做；太难实现，不能去做。<br>由于文档都是由在PC端创建的专属软件格式（如：xdoc），要实现Web在线化，必须将其转换成Web能识别的格式（样式），这个过程是非常难的，其中有复杂的算法，也有长时间的计算过程。</p><h3 id="安装文档在线浏览编辑工具-——-OnlyOffice-Document-Server"><a href="#安装文档在线浏览编辑工具-——-OnlyOffice-Document-Server" class="headerlink" title="安装文档在线浏览编辑工具 —— OnlyOffice Document Server"></a>安装文档在线浏览编辑工具 —— OnlyOffice Document Server</h3><p>dzzoffice本身不支持excel或者文档的在线浏览和编辑，需要额外的第三方工具进行支持，在官方文档中也有说明：<br><a href="http://dzzoffice.com/corpus/list?cid=3#">office文档编辑预览方案</a><br>现在安装 onlyoffice 作为在线文档服务器，部署方式，由于直接在服务器上部署比较繁琐，这里我直接使用 docker 部署 docke 版本。首先安装docker，然后用 docker 启动 onlyoffice 。（服务器没有 2G RAM 以上的用 docker 跑这个大概率能把服务器卡死）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装docker</span></span><br><span class="line"><span class="comment"># 1. 协作旧版本，确保机器没有docker</span></span><br><span class="line">yum remove docker \</span><br><span class="line">                  docker-client \</span><br><span class="line">                  docker-client-latest \</span><br><span class="line">                  docker-common \</span><br><span class="line">                  docker-latest \</span><br><span class="line">                  docker-latest-logrotate \</span><br><span class="line">                  docker-logrotate \</span><br><span class="line">                  docker-engine</span><br><span class="line"><span class="comment"># 2.安装依赖</span></span><br><span class="line">yum install -y yum-utils \</span><br><span class="line">  device-mapper-persistent-data \</span><br><span class="line">  lvm2</span><br><span class="line"><span class="comment"># 3.安装yum仓库</span></span><br><span class="line">yum-config-manager \</span><br><span class="line">    --add-repo \</span><br><span class="line">    https://download.docker.com/linux/centos/docker-ce.repo</span><br><span class="line"><span class="comment"># 4.安装</span></span><br><span class="line">yum install docker-ce docker-ce-cli containerd.io</span><br><span class="line"><span class="comment"># 启动docker</span></span><br><span class="line">systemctl start docker</span><br><span class="line">systemctl <span class="built_in">enable</span> docker</span><br><span class="line"></span><br><span class="line">sudo docker stop onlyoffice         //停止正在运行的文档服务器</span><br><span class="line">sudo dockers rm onlyoffice          //删除已存在的 onlyoffice 容器</span><br><span class="line">sudo docker run -i -t -d --restart=always --name=onlyoffice -p 8080:80 onlyoffice/documentserver          //在 8080端口运行 onlyoffice 文档服务器容器</span><br><span class="line">sudo docker ps -a                        //查看 onlyoffice 文档服务器容器的运行状态</span><br></pre></td></tr></table></figure><p>启动onlyoffice服务后，在浏览器中访问 <a href="http://ip:8000/">http://ip:8000</a> 查看是否可以正常使用。如果出现如下界面，则为正常。<br><img src="https://img-blog.csdnimg.cn/20190424200253719.png" alt="onlyoffice"><br>然后在dzzoffice中进行配置：<br>管理 -》 应用市场 -》 在应用市场内找到 “onlyoffice” 应用 点击 一键安装<br>管理 -》 应用市场 -》 已安装 中 点击设置按钮 进入设置页面<br><img src="https://img-blog.csdnimg.cn/20190424200623461.png"><br>这里填写您的文档服务器的地址：如文档服务器地址为 <a href="http://onlyoffice.dzzoffice.com,/">http://onlyoffice.dzzoffice.com，</a> 文档服务器端口为：90<br>那么 这里的地址应该是：<br><a href="http://onlyoffice.dzzoffice.com:90/OfficeWeb/apps/api/documents/api.js">http://onlyoffice.dzzoffice.com:90/OfficeWeb/apps/api/documents/api.js</a><br>点击保存，然后启动应用，然后在文档，excel应用中，就可以直接点击在线浏览和编辑啦。<br><img src="https://img-blog.csdnimg.cn/2019042420101379.png" alt="demo"></p><h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><p>部分内容转载来自：<br><a href="https://www.kancloud.cn/studyforever/dzzoffice">dzzoffice办公套件</a><br><a href="https://www.kancloud.cn/websoft9/cloudbox-practice">自建企业网盘：镜像部署与使用实战</a><br><a href="https://blog.csdn.net/weixin_41004350/article/details/89497962">centos7 部署dzzoffice最新版详细教程</a></p>]]></content>
    
    
    <summary type="html">开源办公套件——DzzOffice</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>视频解析</title>
    <link href="https://hexo.lyh.best/20210310/%E8%A7%86%E9%A2%91%E8%A7%A3%E6%9E%90/"/>
    <id>https://hexo.lyh.best/20210310/%E8%A7%86%E9%A2%91%E8%A7%A3%E6%9E%90/</id>
    <published>2021-03-10T08:53:56.000Z</published>
    <updated>2023-10-29T14:51:50.493Z</updated>
    
    <content type="html"><![CDATA[<h3 id="抖音无水印视频解析原理及实现"><a href="#抖音无水印视频解析原理及实现" class="headerlink" title="抖音无水印视频解析原理及实现"></a>抖音无水印视频解析原理及实现</h3><p>抖音无水印视频下载其实很简单，自己手动也可以获取无水印视频。<br>浏览器调式模式F12打开链接，查看网络请求，如图<br><img src="http://photo.lyh.best/2021/03/12/1c178fa7892aa.png" alt="image.png"></p><ol><li>首先获取分享短链接<br>抖音复制链接，得到：「时间也不早啦，洗漱完就早点休息吧~  <a href="https://v.douyin.com/eRD1x1v/">https://v.douyin.com/eRD1x1v/</a> 复制此lian接，打开Dou音搜索，矗接观看視频！」</li><li>将短链接在网页上打开<br>首先复制你要下载的视频链接在电脑的浏览器打开，在浏览器上输入这个链接以后，可以看到页面进行了一次跳转，刚才的短连接也变成了另一个长链接(这里其实是通过 302 进行了重定向)：<br><a href="https://www.iesdouyin.com/share/video/6535309780305579272/?region=CN&amp;mid=6535310190042942211&amp;u_code=lgmf23ik&amp;titleType=title&amp;did=40591980672&amp;iid=2252231182654638&amp;timestamp=1615379860&amp;app=aweme&amp;utm_campaign=client_share&amp;utm_medium=ios&amp;tt_from=copy&amp;utm_source=copy">https://www.iesdouyin.com/share/video/6535309780305579272/?region=CN&amp;mid=6535310190042942211&amp;u_code=lgmf23ik&amp;titleType=title&amp;did=40591980672&amp;iid=2252231182654638&amp;timestamp=1615379860&amp;app=aweme&amp;utm_campaign=client_share&amp;utm_medium=ios&amp;tt_from=copy&amp;utm_source=copy</a><br>这时按一下键盘的F12或者右键选择审查元素，选择 Network 这个标签，然后选择 Media 按 clear 之后按 F5 刷新。<br>得到播放地址：<br><a href="https://aweme.snssdk.com/aweme/v1/playwm/?video_id=aabe577a58794e00a53895f73881dc12&amp;ratio=720p&amp;line=0">https://aweme.snssdk.com/aweme/v1/playwm/?video_id=aabe577a58794e00a53895f73881dc12&amp;ratio=720p&amp;line=0</a></li></ol><p>然后把地址中playwm中的wm去掉得到地址，wm就是 watermark 水印的意思。<br><a href="https://aweme.snssdk.com/aweme/v1/play/?video_id=aabe577a58794e00a53895f73881dc12&amp;ratio=720p&amp;line=0">https://aweme.snssdk.com/aweme/v1/play/?video_id=aabe577a58794e00a53895f73881dc12&amp;ratio=720p&amp;line=0</a></p><p>复制浏览器中打开，得到的视频就是无水印视频，下载右键视频另存为即可。<br>许多APP，小程序或在线工具解析原理就是把以上流程用程序实现</p><h3 id="程序实现"><a href="#程序实现" class="headerlink" title="程序实现"></a>程序实现</h3><h4 id="抓包分析接口"><a href="#抓包分析接口" class="headerlink" title="抓包分析接口"></a>抓包分析接口</h4><p>获取视频信息：<br><a href="https://www.iesdouyin.com/web/api/v2/aweme/iteminfo/?item_ids=**%E8%A7%86%E9%A2%91ID**&amp;dytk=**dytk">https://www.iesdouyin.com/web/api/v2/aweme/iteminfo/?item_ids=**视频ID**&amp;dytk=**dytk</a>**<br>其中参数dytk获取方式如下（使用手机端UA）：<br><a href="https://www.iesdouyin.com/share/video/**%E8%A7%86%E9%A2%91ID**/?mid=1">https://www.iesdouyin.com/share/video/**视频ID**/?mid=1</a></p><h4 id="Python实现功能"><a href="#Python实现功能" class="headerlink" title="Python实现功能"></a>Python实现功能</h4><h5 id="基于Python-Flask-的去水印-API"><a href="#基于Python-Flask-的去水印-API" class="headerlink" title="基于Python + Flask 的去水印 API"></a>基于Python + Flask 的去水印 API</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- encoding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 导入需求模块</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, request, jsonify</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>:</span><br><span class="line">    <span class="string">&#x27;Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.25 Mobile Safari/537.36&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"><span class="comment"># jsonify返回中文直接显示，不加这一句的话会编码Unicode</span></span><br><span class="line">app.config[<span class="string">&#x27;JSON_AS_ASCII&#x27;</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置允许跨域</span></span><br><span class="line"><span class="meta">@app.after_request</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cors</span>(<span class="params">environ</span>):</span></span><br><span class="line">    environ.headers[<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>] = <span class="string">&#x27;*&#x27;</span></span><br><span class="line">    environ.headers[<span class="string">&#x27;Access-Control-Allow-Method&#x27;</span>] = <span class="string">&#x27;*&#x27;</span></span><br><span class="line">    environ.headers[</span><br><span class="line">        <span class="string">&#x27;Access-Control-Allow-Headers&#x27;</span>] = <span class="string">&#x27;x-requested-with,content-type&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> environ</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置404返回模板</span></span><br><span class="line"><span class="meta">@app.errorhandler(404)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">not_found</span>(<span class="params">error</span>):</span></span><br><span class="line">    resp = &#123;<span class="string">&#x27;status_code&#x27;</span>: <span class="string">&#x27;404&#x27;</span>&#125;</span><br><span class="line">    <span class="keyword">return</span> jsonify(resp), <span class="number">404</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 无参数</span></span><br><span class="line"><span class="meta">@app.route(&#x27;/&#x27;, methods=[&#x27;GET&#x27;, &#x27;POST&#x27;])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span>():</span></span><br><span class="line">    resp = &#123;<span class="string">&#x27;status_code&#x27;</span>: <span class="string">&#x27;404&#x27;</span>&#125;</span><br><span class="line">    <span class="keyword">return</span> jsonify(resp)</span><br><span class="line"></span><br><span class="line"><span class="comment"># @NAME :   抖音解析去水印视频</span></span><br><span class="line"><span class="comment"># @URL  :   /douyin/parse?id=6535309780305579272</span></span><br><span class="line"><span class="comment"># @URL  :   /douyin/parse?url=https://v.douyin.com/eRD1x1v/ </span></span><br><span class="line"><span class="meta">@app.route(&#x27;/douyin/parse&#x27;, methods=[&#x27;GET&#x27;])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">douyin_parsing</span>():</span></span><br><span class="line">    <span class="built_in">id</span> = request.args.get(<span class="string">&#x27;id&#x27;</span>)</span><br><span class="line">    url = request.args.get(<span class="string">&#x27;url&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">id</span>:</span><br><span class="line">        resp = parse_by_id(<span class="built_in">id</span>)</span><br><span class="line">    <span class="keyword">elif</span> url:</span><br><span class="line">        resp = parse_by_url(url)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        resp = &#123;<span class="string">&#x27;error&#x27;</span>: <span class="string">&#x27;参数错误！&#x27;</span>&#125;</span><br><span class="line">    <span class="keyword">return</span> jsonify(resp)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_real_addr</span>(<span class="params">uri</span>):</span></span><br><span class="line">    url = <span class="string">&#x27;https://aweme.snssdk.com/aweme/v1/play/?video_id=&#123;&#125;&amp;ratio=720p&amp;line=0&#x27;</span>.<span class="built_in">format</span>(</span><br><span class="line">        uri)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        r = requests.head(url, headers=headers, allow_redirects=<span class="literal">False</span>)</span><br><span class="line">        addr = r.headers[<span class="string">&#x27;Location&#x27;</span>]</span><br><span class="line">        <span class="keyword">return</span> addr</span><br><span class="line">    <span class="keyword">except</span> Exception:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;error&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">parse_by_url</span>(<span class="params">url</span>):</span></span><br><span class="line">    <span class="keyword">if</span> <span class="string">&#x27;/share/video/&#x27;</span> <span class="keyword">in</span> url:</span><br><span class="line">        <span class="built_in">id</span> = re.findall(<span class="string">r&#x27;share/video/(\d+)/?\??&#x27;</span>, url)[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            r = requests.head(url, headers=headers, allow_redirects=<span class="literal">False</span>)</span><br><span class="line">            <span class="built_in">id</span> = re.findall(<span class="string">r&#x27;share/video/(\d+)/?\??&#x27;</span>,</span><br><span class="line">                            r.headers[<span class="string">&#x27;Location&#x27;</span>])[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">except</span> Exception:</span><br><span class="line">            <span class="keyword">return</span> &#123;<span class="string">&#x27;error&#x27;</span>: <span class="string">&#x27;URL错误！&#x27;</span>&#125;</span><br><span class="line">    <span class="keyword">return</span> parse_by_id(<span class="built_in">id</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">parse_by_id</span>(<span class="params"><span class="built_in">id</span></span>):</span></span><br><span class="line">    url = <span class="string">&#x27;https://www.iesdouyin.com/web/api/v2/aweme/iteminfo/?item_ids=&#x27;</span> + <span class="built_in">id</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        r = requests.get(url).json()</span><br><span class="line">        video = r[<span class="string">&#x27;item_list&#x27;</span>][<span class="number">0</span>]</span><br><span class="line">        res = &#123;&#125;</span><br><span class="line">        res[<span class="string">&#x27;desc&#x27;</span>] = video[<span class="string">&#x27;desc&#x27;</span>]</span><br><span class="line">        res[<span class="string">&#x27;comment&#x27;</span>] = video[<span class="string">&#x27;statistics&#x27;</span>][<span class="string">&#x27;comment_count&#x27;</span>]</span><br><span class="line">        res[<span class="string">&#x27;digg&#x27;</span>] = video[<span class="string">&#x27;statistics&#x27;</span>][<span class="string">&#x27;digg_count&#x27;</span>]</span><br><span class="line">        res[<span class="string">&#x27;author&#x27;</span>] = video[<span class="string">&#x27;author&#x27;</span>][<span class="string">&#x27;nickname&#x27;</span>]</span><br><span class="line">        res[<span class="string">&#x27;music&#x27;</span>] = video[<span class="string">&#x27;music&#x27;</span>][<span class="string">&#x27;play_url&#x27;</span>][<span class="string">&#x27;uri&#x27;</span>]</span><br><span class="line">        res[<span class="string">&#x27;cover&#x27;</span>] = video[<span class="string">&#x27;video&#x27;</span>][<span class="string">&#x27;cover&#x27;</span>][<span class="string">&#x27;url_list&#x27;</span>][<span class="number">0</span>]</span><br><span class="line">        videouri = video[<span class="string">&#x27;video&#x27;</span>][<span class="string">&#x27;play_addr&#x27;</span>][<span class="string">&#x27;uri&#x27;</span>]</span><br><span class="line">        res[<span class="string">&#x27;video&#x27;</span>] = get_real_addr(videouri)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line">    <span class="keyword">except</span> Exception:</span><br><span class="line">        <span class="keyword">return</span> &#123;<span class="string">&#x27;error&#x27;</span>: <span class="string">&#x27;出错了！&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 本地调试</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app.run(host=<span class="string">&#x27;127.0.0.1&#x27;</span>, port=<span class="number">2222</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="DEMO"><a href="#DEMO" class="headerlink" title="DEMO"></a>DEMO</h3><p>基于PHP Curl：<br><a href="https://douyin.lyh.best/">抖音去水印</a> 程序源于<a href="https://github.com/HammCn/DouyinClear">HammCn</a></p><p>Python + Flask 版本：<br><a href="https://erma0.cn/v/dy.html">抖音作品解析</a></p><p>聚合网上的vip视频解析接口：<br><a href="https://vip.lyh.best/">VIP视频云解析</a> 程序源于<a href="https://github.com/Baiyuetribe/baiyue_onekey/tree/master/DockerCodes">佰阅</a></p>]]></content>
    
    
    <summary type="html">探索破解vip、去水印等视频解析原理</summary>
    
    
    
    
    <category term="Python" scheme="https://hexo.lyh.best/tags/Python/"/>
    
    <category term="API" scheme="https://hexo.lyh.best/tags/API/"/>
    
  </entry>
  
  <entry>
    <title>Nginx反向代理</title>
    <link href="https://hexo.lyh.best/20210309/Nginx%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/"/>
    <id>https://hexo.lyh.best/20210309/Nginx%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/</id>
    <published>2021-03-09T13:56:05.000Z</published>
    <updated>2023-10-29T14:51:50.490Z</updated>
    
    <content type="html"><![CDATA[<p>前两天的博文 <a href="/20210306/GDUT%E7%B2%A4%E6%B8%AF%E6%9C%BA%E5%99%A8%E4%BA%BA%E5%AD%A6%E9%99%A2/">GDUT粤港机器人学院简介</a> 里用 iframe 嵌套 <a href="http://www.xbotpark.com/robotic/">xbotpark机器人学院</a> 的页面。由于 safari 中的 iframe 不支持 http 的加载，只支持 https。导致了手机上看到空白的 iframe 部分。而 xbotpark 的网站并没有配置 ssl，因此用自己的 vps 和域名对其反向代理再嵌套。<br>Nginx配置中插入</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">#PROXY-START&#x2F;</span><br><span class="line">location  ~* \.(php|jsp|cgi|asp|aspx)$</span><br><span class="line">&#123;</span><br><span class="line">    proxy_pass http:&#x2F;&#x2F;www.xbotpark.com;</span><br><span class="line">    proxy_set_header Host www.xbotpark.com;</span><br><span class="line">    proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">    proxy_set_header REMOTE-HOST $remote_addr;</span><br><span class="line">&#125;</span><br><span class="line">location &#x2F;</span><br><span class="line">&#123;</span><br><span class="line">    proxy_pass http:&#x2F;&#x2F;www.xbotpark.com;</span><br><span class="line">    proxy_set_header Host www.xbotpark.com;</span><br><span class="line">    proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">    proxy_set_header REMOTE-HOST $remote_addr;</span><br><span class="line">    </span><br><span class="line">    add_header X-Cache $upstream_cache_status;</span><br><span class="line">    </span><br><span class="line">    #Set Nginx Cache</span><br><span class="line">    </span><br><span class="line">    add_header Cache-Control no-cache;</span><br><span class="line">    expires 12h;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#PROXY-END&#x2F;</span><br></pre></td></tr></table></figure><h3 id="推荐工具"><a href="#推荐工具" class="headerlink" title="推荐工具"></a>推荐工具</h3><p><strong>DigitalOcean推出的Nginx配置文件生成器</strong><br>基本上涵盖了常见的情况。当然也可以用来学习nginx的配置。界面提供中文。<br><a href="https://www.digitalocean.com/community/tools/nginx">Nginx配置文件生成器</a></p><h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><p><a href="https://nginx.rails365.net/">nginx教程</a></p>]]></content>
    
    
    <summary type="html">Nginx反向代理</summary>
    
    
    
    
    <category term="Nginx" scheme="https://hexo.lyh.best/tags/Nginx/"/>
    
  </entry>
  
  <entry>
    <title>地址栏域名中插入神奇的宝贝</title>
    <link href="https://hexo.lyh.best/20210307/%E5%9C%B0%E5%9D%80%E6%A0%8F%E5%9F%9F%E5%90%8D%E4%B8%AD%E6%8F%92%E5%85%A5%E7%A5%9E%E5%A5%87%E7%9A%84%E5%AE%9D%E8%B4%9D/"/>
    <id>https://hexo.lyh.best/20210307/%E5%9C%B0%E5%9D%80%E6%A0%8F%E5%9F%9F%E5%90%8D%E4%B8%AD%E6%8F%92%E5%85%A5%E7%A5%9E%E5%A5%87%E7%9A%84%E5%AE%9D%E8%B4%9D/</id>
    <published>2021-03-06T17:46:19.000Z</published>
    <updated>2023-10-29T14:51:50.491Z</updated>
    
    <content type="html"><![CDATA[<h2 id="神奇工具"><a href="#神奇工具" class="headerlink" title="神奇工具"></a>神奇工具</h2><h3 id="github1s"><a href="#github1s" class="headerlink" title="github1s"></a>github1s</h3><p>上次关于 VS Code 的博文里有提到过。<br><img src="https://img.hellogithub.com/hellogithub/59/img/github1s.gif" alt="github1s"></p><h4 id="使用方式"><a href="#使用方式" class="headerlink" title="使用方式"></a>使用方式</h4><p>在浏览器地址栏 GitHub 域名中 “github” 后面添加 “1s”，就能通过 VS Code 界面直接预览 GitHub 上的各类项目代码。<strong>注意仅是只读的，不能在线编辑</strong>。</p><h3 id="wn-run"><a href="#wn-run" class="headerlink" title="wn.run"></a>wn.run</h3><p><a href="https://wanneng.run/cn/">万能命令</a></p><h4 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h4><p>wn万能命令是一个在线工具快捷跳转平台，将各种高质量的在线工具按应用站点聚合起来，让你以方便快捷好记的方式寻找和使用网页型在线工具。<br>浏览任意网页时，输入这个万能命令 wn.run/ 或点击一下固定的书签，就会展示出用于该网页的各种附加在线工具，比如 快速查看该网页历史存档(网页被删了找回)、下载该网页的视频音乐文件(默认无法下载或需要安装app登陆等)、快速网页翻译(默认手机端网页翻译会比较繁琐)、快速网页长截图、查看电商历史价格等，并且点击工具时一般会直达针对该网页的功能详情页。</p><p>特点：</p><ol><li>方便快捷，只需输入一个命令或点击一下书签</li><li>无需下载、即用即走</li><li>无平台限制，pc、android、ios等都可使用</li><li>按应用站点分类，快捷寻找到可用的工具，过滤掉无关的工具</li><li>一般直接到达用于该网页的工具详情页</li><li>收录了很多高质量的工具</li></ol><h4 id="使用方式-1"><a href="#使用方式-1" class="headerlink" title="使用方式"></a>使用方式</h4><ol><li><p>万能命令方式<br>在任何网页的网址前面加上 wn.run/ (万能命令，wn为万能拼音简称，run为运行、命令的意思)，即可展示用于该网页的在线工具，并且点击工具时一般会直达针对该网页的功能详情页，无需再复制和粘贴网页链接。<br>例如：<br><a href="https://item.jd.com/5225346.html">https://item.jd.com/5225346.html</a><br>在网址前面加上wn.run/ ，变为<br><a href="https://wanneng.run/https:/item.jd.com/5225346.html">wn.run/https://item.jd.com/5225346.html</a></p></li><li><p>书签脚本方式<br>第一步：拖动下方按钮到浏览器的书签栏(也称网页收藏夹)，相当于添加一个网页小书签，但书签的网址项里填的是一串脚本。 <a href="https://wanneng.run/fu/article/10.html">详细说明</a></p></li></ol><div class="widget-btn">拖动右侧超链接到书签栏<a style="cursor:move;" href="javascript:(function(){window.open(&quot;https://wanneng.run/f/#&quot;+document.location.href)})()" onclick="alert('请把按钮拖动到书签栏');return false;">万能命令书签</a></div><p>如果是移动端浏览器或其他pc浏览器，无法用上面拖动的方式，可以手动添加一个书签，书签名称可以自定义，比如“万能命令书签”，并在书签的网址项里输入下面的代码。 <a href="https://wanneng.run/fu/article/11.html">ios使用书签脚本</a> <a href="https://wanneng.run/fu/article/12.html">android使用书签脚本</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javascript:(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="built_in">window</span>.open(<span class="string">&quot;https://wanneng.run/f/#&quot;</span>+<span class="built_in">document</span>.location.href)&#125;)()</span><br></pre></td></tr></table></figure><p>第二步：后面浏览任意网页时，有小需求了，只需点击一下书签栏里的“万能命令书签”，即可马上展示用于该网页的各类工具。</p><h3 id="VVV"><a href="#VVV" class="headerlink" title="VVV"></a>VVV</h3><p><a href="http://www.html22.com/zh/">网页转换助手</a></p><h4 id="使用方式-2"><a href="#使用方式-2" class="headerlink" title="使用方式"></a>使用方式</h4><p>在百度文库的地址栏链接中 “baidu” 后加上 “vvv” 即可。</p><p>在电商网站商品详情页的网址域名后面加入vvv三个字母访问后即可查询该商品的历史价格  例如  <a href="http://item.jd.com/100004538398.html">http://item.jd.com/100004538398.html</a>  添加vvv后变为  <a href="http://item.jdvvv.com/100004538398.html">http://item.jdvvv.com/100004538398.html</a><br>支持京东、天猫、淘宝、一号店、苏宁易购、网易考拉、当当网、亚马逊中国、国美等电商商品的历史价格查询。</p><h3 id="YouTube相关"><a href="#YouTube相关" class="headerlink" title="YouTube相关"></a>YouTube相关</h3><ol><li>「youtube」前面加上「ss」</li><li>「youtube」改成「yout」</li><li>「youtube」后面加上「to」</li><li>「youtube」后面加上「pp」</li><li>「youtube」去be加上「10」</li></ol><h3 id="Bilibili相关"><a href="#Bilibili相关" class="headerlink" title="Bilibili相关"></a>Bilibili相关</h3><ol><li>「bilibili」后面加上「jj」，现官网：<a href="https://www.jijidown.com/">唧唧</a><br>在这里你可以下载到对应AV号(B站视频编号)的视频(包括福利)、MP3和弹幕文件。这是一个基于web,用于下载bilibili视频的在线应用程序,它能够下载99%bilibili官方视频。(奇艺\乐视TV那些非官方播放器除外),并且它将会终身免费提供使用。</li><li>「bilibili」改为「biliplus」</li></ol><h3 id="365"><a href="#365" class="headerlink" title="365"></a>365</h3><p><a href="https://www.docin365.com/">北斗文档解析工具</a>，本工具为豆丁网文档复制抓取工具，导出的文档为word形式，非源文件，但文字可编辑，包含图片，尽量保持原文档的格式。支持原文档为WORD、PDF、TXT的文档，暂不支持PPT，Excel文档。</p><h4 id="使用帮助"><a href="#使用帮助" class="headerlink" title="使用帮助"></a>使用帮助</h4><p>首先，在豆丁文库里面找到你需要的文档，复制该文档的URL地址；粘贴文档链接到本站输入框中，点击下载，安心等待下载完成；打开下载好的文档，对部分内容格式对进行细节调整优化处理。<br>更快捷的方式：<br>在某个问题页面的网址URL后面加上365三个数字，就可以快捷下载文档。<br>比如<br><a href="https://www.docin.com/p-906088123.html">https://www.docin.com/p-906088123.html</a><br>加上365为<br><a href="https://www.docin365.com/p-906088123.html">https://www.docin365.com/p-906088123.html</a></p><p><a href="http://www.shangxueba365.com/">搜答案</a></p><h4 id="使用帮助-1"><a href="#使用帮助-1" class="headerlink" title="使用帮助"></a>使用帮助</h4><p>在输入框粘贴问题URL地址，如 <a href="https://www.shangxueba.com/ask/*.html">https://www.shangxueba.com/ask/*.html</a> 点击查案答案，耐心等待即可。<br>注意：提交的URL是上学吧问题实际页面的网址，不加365，添加365网址只是为了快捷跳转。<br>更快捷的方式：<br>在某个问题页面的网址URL后面加上365三个数字，然后访问此网址，就可以快捷跳转查询答案。<br>比如URL<br><a href="https://www.shangxueba.com/ask/13649922.html">https://www.shangxueba.com/ask/13649922.html</a><br>添加上365为<br><a href="https://www.shangxueba365.com/ask/13649922.html">https://www.shangxueba365.com/ask/13649922.html</a><br>即可快捷跳转到本站查看答案。</p><h3 id="cc"><a href="#cc" class="headerlink" title="cc"></a>cc</h3><p><a href="http://www.58piccc.com/">千图网无水印图片解析工具</a></p><h4 id="使用帮助-2"><a href="#使用帮助-2" class="headerlink" title="使用帮助"></a>使用帮助</h4><p>在输入框填写素材的URL地址，如 <a href="https://www.58pic.com/newpic/*.html">https://www.58pic.com/newpic/*.html</a> 点击右侧箭头提交。解析获得图片链接查看，然后右键另存即可。图文帮助<br>更快捷的方式：<br>在某个素材页面的网址URL后面加上cc，然后访问此网址，就可以快捷跳转到本站进行解析。<br>比如URL<br><a href="https://www.58pic.com/newpic/34816843.html">https://www.58pic.com/newpic/34816843.html</a><br>添加上cc为<br><a href="https://www.58piccc.com/newpic/34816843.html">https://www.58piccc.com/newpic/34816843.html</a><br>即可快捷跳转到本站进行无水印图片解析查看。</p><h3 id="his-sh"><a href="#his-sh" class="headerlink" title="his.sh"></a>his.sh</h3><p><a href="https://2tool.top/">网页快照网</a>，聚合查询各大搜索引擎的网页快照。<br>请输入任意的网址，就可聚合显示该网页在各大搜索引擎的网页快照(百度快照、搜狗快照、360搜索快照、bing快照、谷g快照)，并且支持移动手机端查看。<br>快捷查询方式：<br>在某个网址的域名前面加上his.sh/ (注意别忘了加/)，即可显示该网址在各大搜索引擎的网页快照。<br>比如：<br><a href="https://book.douban.com/subject/1034282/">https://book.douban.com/subject/1034282/</a>  在域名前面加上 “his.sh/”，变为  <a href="https://his.sh/book.douban.com/subject/1034282/">https://his.sh/book.douban.com/subject/1034282/</a>  或者 <a href="https://his.sh/book.douban.com/subject/1034282/">his.sh/https://book.douban.com/subject/1034282/</a></p><h3 id="asd"><a href="#asd" class="headerlink" title="asd"></a>asd</h3><h4 id="网站使用说明（暂不支持手机）"><a href="#网站使用说明（暂不支持手机）" class="headerlink" title="网站使用说明（暂不支持手机）"></a>网站使用说明（暂不支持手机）</h4><p>用法：<br>在地址栏中的电商域名后加入字母asd即可查询当前商品历史价格，如：<br>第一步：<br>正常浏览商品，假设商品原链接为：<br><a href="https://item.jd.com/3505714.html">https://item.jd.com/3505714.html</a><br>第二步：<br>在地址栏中域名后添加“asd”后回车，添加“asd”后的商品页面为：<br><a href="https://item.jdasd.com/3505714.html">https://item.jdasd.com/3505714.html</a><br>第三步：<br>网页从商品页面跳转至本页，显示历史价格。</p><h4 id="支持以下电商平台"><a href="#支持以下电商平台" class="headerlink" title="支持以下电商平台"></a>支持以下电商平台</h4><table><thead><tr><th align="center">电商平台</th><th align="center">商品域名</th><th align="center">查价域名</th></tr></thead><tbody><tr><td align="center">京东</td><td align="center"><a href="item.jd.com">item.jd.com</a></td><td align="center"><a href="item.jdasd.com">item.jdasd.com</a></td></tr><tr><td align="center">京东全球购</td><td align="center"><a href="item.jd.hk">item.jd.hk</a></td><td align="center"><a href="item.jdasd.hk">item.jdasd.hk</a></td></tr><tr><td align="center">京东大药房</td><td align="center"><a href="item.yiyaojd.com">item.yiyaojd.com</a></td><td align="center"><a href="item.yiyaojdasd.com">item.yiyaojdasd.com</a></td></tr><tr><td align="center">天猫</td><td align="center"><a href="detail.tmall.com">detail.tmall.com</a></td><td align="center"><a href="detail.tmallasd.com">detail.tmallasd.com</a></td></tr><tr><td align="center">天猫国际</td><td align="center"><a href="detail.tmall.hk">detail.tmall.hk</a></td><td align="center"><a href="%5Bdetail.tmallasd.hk">detail.tmallasd.hk</a></td></tr><tr><td align="center">天猫超市</td><td align="center"><a href="chaoshi.detail.tmall.com">chaoshi.detail.tmall.com</a></td><td align="center"><a href="chaoshi.detail.tmallasd.com">chaoshi.detail.tmallasd.com</a></td></tr><tr><td align="center">淘宝</td><td align="center"><a href="item.taobao.com">item.taobao.com</a></td><td align="center"><a href="item.taobaoasd.com">item.taobaoasd.com</a></td></tr><tr><td align="center">亚马逊中国</td><td align="center"><a href="www.amazon.cn">www.amazon.cn</a></td><td align="center"><a href="www.amazonasd.cn">www.amazonasd.cn</a></td></tr><tr><td align="center">苏宁</td><td align="center"><a href="product.suning.com">product.suning.com</a></td><td align="center"><a href="product.suningasd.com">product.suningasd.com</a></td></tr><tr><td align="center">1号店</td><td align="center"><a href="item.yhd.com">item.yhd.com</a></td><td align="center"><a href="item.yhdasd.com">item.yhdasd.com</a></td></tr><tr><td align="center">聚美优品</td><td align="center"><a href="item.jumei.com">item.jumei.com</a></td><td align="center"><a href="item.jumeiasd.com">item.jumeiasd.com</a></td></tr><tr><td align="center">聚美极速免税店</td><td align="center"><a href="item.jumeiglobal.com">item.jumeiglobal.com</a></td><td align="center"><a href="item.jumeiglobalasd.com">item.jumeiglobalasd.com</a></td></tr><tr><td align="center">当当</td><td align="center"><a href="product.dangdang.com">product.dangdang.com</a></td><td align="center"><a href="product.dangdangasd.com">product.dangdangasd.com</a></td></tr><tr><td align="center">国美</td><td align="center"><a href="item.gome.com.cn">item.gome.com.cn</a></td><td align="center"><a href="item.gomeasd.com.cn">item.gomeasd.com.cn</a></td></tr><tr><td align="center">优购</td><td align="center"><a href="www.yougou.com">www.yougou.com</a></td><td align="center"><a href="www.yougouasd.com">www.yougouasd.com</a></td></tr><tr><td align="center">网易考拉</td><td align="center"><a href="goods.kaola.com">goods.kaola.com</a></td><td align="center"><a href="goods.kaolaasd.com">goods.kaolaasd.com</a></td></tr><tr><td align="center">唯品会</td><td align="center"><a href="detail.vip.com">detail.vip.com</a></td><td align="center"><a href="detail.vipasd.com">detail.vipasd.com</a></td></tr></tbody></table><h3 id="百度网盘在线解析"><a href="#百度网盘在线解析" class="headerlink" title="百度网盘在线解析"></a>百度网盘在线解析</h3><p><a href="https://pan.kdbaidu.com/">https://pan.kdbaidu.com</a><br><a href="https://pan.naifei.cc/new/">https://pan.naifei.cc/new/</a></p>]]></content>
    
    
    <summary type="html">一些神奇的宝贝工具</summary>
    
    
    
    
    <category term="工具" scheme="https://hexo.lyh.best/tags/%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>中文写作排版指南</title>
    <link href="https://hexo.lyh.best/20210307/%E4%B8%AD%E6%96%87%E5%86%99%E4%BD%9C%E6%8E%92%E7%89%88%E6%8C%87%E5%8D%97/"/>
    <id>https://hexo.lyh.best/20210307/%E4%B8%AD%E6%96%87%E5%86%99%E4%BD%9C%E6%8E%92%E7%89%88%E6%8C%87%E5%8D%97/</id>
    <published>2021-03-06T17:23:58.000Z</published>
    <updated>2023-10-29T14:51:50.491Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>不知不觉本 blog 已经记录了 40k 的字数了，决定要学习一下以下的排版规则用以规范自己的输出内容。<br>先 Mark 了再说，收藏了等于学了。（松鼠症晚期了~）</p></blockquote><h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><p><a href="https://sspai.com/post/37815">少数派写作排版指南</a><br><a href="https://mazhuang.org/wiki/chinese-copywriting-guidelines/">中文文案排版指北（简体中文版）</a><br><a href="https://github.com/sparanoid/chinese-copywriting-guidelines">中文文案排版指北</a><br><a href="https://zh-style-guide.readthedocs.io/zh_CN/latest/index.html">中文技术文档写作风格指南</a></p><p>cover图片来源：<a href="https://www.zhangxiaochun.com/">Jimmy Cheung</a></p>]]></content>
    
    
    <summary type="html">学习一下如何规范自己的输出内容ᕱ⑅ᕱ</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>GDUT粤港机器人学院简介</title>
    <link href="https://hexo.lyh.best/20210306/GDUT%E7%B2%A4%E6%B8%AF%E6%9C%BA%E5%99%A8%E4%BA%BA%E5%AD%A6%E9%99%A2/"/>
    <id>https://hexo.lyh.best/20210306/GDUT%E7%B2%A4%E6%B8%AF%E6%9C%BA%E5%99%A8%E4%BA%BA%E5%AD%A6%E9%99%A2/</id>
    <published>2021-03-06T14:16:01.000Z</published>
    <updated>2023-10-29T14:51:50.490Z</updated>
    
    <content type="html"><![CDATA[<h3 id="相关介绍"><a href="#相关介绍" class="headerlink" title="相关介绍"></a>相关介绍</h3><p><a href="https://cxcy.gdut.edu.cn/info/1087/1428.htm">粤港机器人联合学院简介</a><br><a href="https://zsb.gdut.edu.cn/info/1113/2742.htm">粤港机器人联合学院【机器人工程专业】</a><br><a href="http://www.xbotpark.com/robotic/">xbotpark粤港机器人学院</a><br><a href="https://m.sohu.com/a/306842205_201466">《香港文汇报》整版报道广工粤港机器人学院育人成果</a></p><iframe width="100%" height="500" src="https://xbotpark.lyh.best/robotic/"></iframe><h3 id="招新宣传视频"><a href="#招新宣传视频" class="headerlink" title="招新宣传视频"></a>招新宣传视频</h3><p><video src="https://photo.lyh.best/2021/03/06/bd4fa18c9d8a0.mp4" alt="广东工业大学粤港机器人学院 2018 宣传视频_腾讯视频.mp4" title="广东工业大学粤港机器人学院 2018 宣传视频_腾讯视频.mp4" width="100%" height="100%" controls="controls"></video><br><video src="https://photo.lyh.best/2021/03/07/9f5bae8d56297.mp4" alt="广工招新宣传视频.mp4" title="广工招新宣传视频.mp4" width="100%" height="100%" controls="controls"></video></p>]]></content>
    
    
    <summary type="html">我所在学院的相关介绍</summary>
    
    
    
    <category term="机器人学院" scheme="https://hexo.lyh.best/categories/%E6%9C%BA%E5%99%A8%E4%BA%BA%E5%AD%A6%E9%99%A2/"/>
    
    
    <category term="机器人" scheme="https://hexo.lyh.best/tags/%E6%9C%BA%E5%99%A8%E4%BA%BA/"/>
    
  </entry>
  
  <entry>
    <title>Linux 服务器搭建 Web 版 VSCode</title>
    <link href="https://hexo.lyh.best/20210303/Linux-%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA-Web-%E7%89%88-VSCode/"/>
    <id>https://hexo.lyh.best/20210303/Linux-%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA-Web-%E7%89%88-VSCode/</id>
    <published>2021-03-03T12:47:04.000Z</published>
    <updated>2023-10-29T14:51:50.490Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://photo.lyh.best/2021/03/03/55e9728ef580a.png" alt="CoderIDE"></p><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>Visual Studio Code 是微软的一款代码编辑器，使用 TypeScript + Electron 开发。曾经在 Ubuntu 使用 ROS 的时候，就发现默认的安装的 IDE 竟然和 VS Code 像素级相似，然后知道它作为开源的项目可以成二次开发各式各样的产品，直到最近大火的 github1s 项目，让我重新对 VS Code 好奇起来。同时也顺手在 VPS 上搭建了个云端 IDE 方便在外的时候也能够用 iPad 在浏览器里修改下代码。</p><h3 id="github1s"><a href="#github1s" class="headerlink" title="github1s"></a>github1s</h3><p><img src="https://img.hellogithub.com/hellogithub/59/img/github1s.gif" alt="github1s"><br>最近有一个比较火的项目上线半个月就收获了 15.8k 个 star，继续在浏览器地址栏 GitHub 域名中 “github” 后面添加 “1s”，就能通过 VS Code 界面直接预览 GitHub 上的各类项目代码。<strong>注意仅是只读的，不能在线编辑</strong>。</p><p>github1s（项目地址：<a href="https://github.com/conwnet/github1s">https://github.com/conwnet/github1s</a>），是一款纯静态的 Web 应用程序，目前基于 VS Code 1.52.1，核心原理使用 GitHub REST API 实现一个带 FileSystemProvider 的VS Code Extension。网站直接使用 GitHub Page 托管。由于对未授权的请求，API 的请求频率是有限制的，每个 IP 每小时访问限制是60次，如果遇到了 Rate Limiting 只要点击 Generate New OAuth Token 跳到自己的 GitHub Setting 页面，生成一个 Token ，在 github1s 中填入 OAuth Token 就可以提升到 5000 次啦。<br>还有一个配套同名的 Chrome 插件，只要上 chrome web store 上搜索 <a href="https://chrome.google.com/webstore/search/github1s">github1s</a> 即可得。</p><h3 id="WebIDE"><a href="#WebIDE" class="headerlink" title="WebIDE"></a>WebIDE</h3><p>通过浏览器访问IDE，实现云端开发环境获取、代码编写、编译调试、运行预览、访问代码仓库、命令行执行等能力，同时支持丰富的插件扩展。<br>可以让开发者拥有一个统一、标准化的开发环境，节省了安装配置和维护组件的成本，可以更加专注于开发本身。<br>WebIDE已经有了一段时间的发展，不同的组织和厂商，先后推出了多种工具和产品。</p><ul><li>AWS Cloud9：<a href="https://github.com/features/codespaces">https://aws.amazon.com/cloud9/</a></li><li>Eclipse Che：<a href="https://github.com/features/codespaces">http://www.eclipse.org/che/</a></li><li>腾讯扣钉：<a href="https://github.com/features/codespaces">https://cloudstudio.net/</a></li><li>repl.it：<a href="https://github.com/features/codespaces">https://repl.it/</a><br>GitLab、Gitee等开源代码托管服务也先后发布了 WebIDE 功能。<br>例如，Github 推出了基于 VS Code 的的 Codespaces <a href="https://github.com/features/codespaces">https://github.com/features/codespaces</a><br>Codespaces 集成浏览器版 VS Code 编辑器，支持代码补全、导航、扩展、终端访问等功能，具备完整的 Visual Studio Code 体验。</li></ul><h2 id="搭建-Web-版-VSCode-作为云端IDE"><a href="#搭建-Web-版-VSCode-作为云端IDE" class="headerlink" title="搭建 Web 版 VSCode 作为云端IDE"></a>搭建 Web 版 VSCode 作为云端IDE</h2><h3 id="VSCode"><a href="#VSCode" class="headerlink" title="VSCode"></a>VSCode</h3><p>VS Code 1.40 之后，开发者已经可以直接从 VS Code 的源代码编译出 Web 版 VS Code。更多内容，查看 VS Code 1.40 的发布说明： <a href="https://code.visualstudio.com/updates/v1_40">https://code.visualstudio.com/updates/v1_40</a></p><h4 id="CentOS7-部署"><a href="#CentOS7-部署" class="headerlink" title="CentOS7 部署"></a>CentOS7 部署</h4><p>安装依赖：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">yum install -y make  <span class="comment"># make</span></span><br><span class="line">pkg-config --version  <span class="comment"># pkg-config</span></span><br><span class="line">yum groupinstall -y <span class="string">&quot;Development Tools&quot;</span>  <span class="comment"># GCC or another compile toolchain：</span></span><br><span class="line">yum install -y libX11-devel.x86_64 libxkbfile-devel.x86_64  <span class="comment"># native-keymap</span></span><br><span class="line">yum install -y libsecret-devel  <span class="comment"># keytar</span></span><br></pre></td></tr></table></figure><p>安装Node.js和npm：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl -sL https://rpm.nodesource.com/setup_10.x | bash -</span><br><span class="line">yum install -y nodejs</span><br><span class="line">node --version</span><br><span class="line">npm --version</span><br></pre></td></tr></table></figure><p>安装yarn：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl --silent --location https://dl.yarnpkg.com/rpm/yarn.repo | sudo tee /etc/yum.repos.d/yarn.repo</span><br><span class="line">yum install -y yarn</span><br><span class="line">yarn --version</span><br></pre></td></tr></table></figure><p>拉取vscode源码：<br>通过wget命令下载zip包，然后解压。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/microsoft/vscode/archive/1.45.1.zip</span><br><span class="line">unzip 1.45.1.zip</span><br></pre></td></tr></table></figure><p>或者，通过git clone命令下载。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> --depth 1 --branch 1.45.1 https://github.com/microsoft/vscode.git</span><br></pre></td></tr></table></figure><ul><li>参数“–depth 1”  表示最近一次 commit 的代码</li><li>参数“–branch 1.45.1”  表示tag 1.45.1</li></ul><p>在代码根目录下，执行 yarn 命令安装依赖，用时较久，耐心等待</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> vscode-1.45.1/</span><br><span class="line">yarn</span><br></pre></td></tr></table></figure><p>运行Web VS Code<br>执行 yarn watch 命令 (watch是在package.json文件中scripts属性指定的命令)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn watch</span><br></pre></td></tr></table></figure><p>在执行 yarn watch 命令之后，执行 yarn web 命令构建 Web 版本的VS code</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn web</span><br></pre></td></tr></table></figure><p>执行 yarn web 命令时， 可以指定Host和Port<br>例如：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn web --host 127.0.0.1 --port 8080</span><br></pre></td></tr></table></figure><p>注意：非本机访问，需要开启防火墙规则 或者 关闭防火墙</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 开启防火墙端口</span></span><br><span class="line">firewall-cmd --zone=public --permanent --add-port=8080/tcp</span><br><span class="line">firewall-cmd --reload</span><br><span class="line"></span><br><span class="line"><span class="comment"># 关闭并禁止开机启动防火墙</span></span><br><span class="line">systemctl stop firewalld</span><br><span class="line">systemctl <span class="built_in">disable</span> firewalld</span><br></pre></td></tr></table></figure><h5 id="排查故障"><a href="#排查故障" class="headerlink" title="排查故障"></a>排查故障</h5><ol><li>error Command failed with signal “SIGKILL”.<br>一般因为内存不足，进程被系统强杀了，加够 swap 空间可以解决。</li></ol><h3 id="Code-Server"><a href="#Code-Server" class="headerlink" title="Code-Server"></a>Code-Server</h3><p>code-server的官网: <a href="https://coder.com/">https://coder.com/</a><br>项目仓库：<a href="https://github.com/cdr/code-server">https://github.com/cdr/code-server</a><br><img src="https://github.com/cdr/code-server/raw/main/docs/assets/screenshot.png" alt="code server"></p><p>code-server 是 <a href="https://coder.com/">Coder公司</a> 基于VSCode的开源项目，可以实现通过浏览器访问在远程服务器上的VS Code。<br>简单地说，是基于 VSCode 进行了一些修改，专门为浏览器设计优化，以便作为可托管的 Web 服务来运行。<br>换而言之，配置服务器端（code-server）后，就可以在任何浏览器上访问和使用 VS Code。<br>此外，Coder还提供了sshcode工具（Run VS Code on any server over SSH.） <a href="https://github.com/cdr/sshcode">https://github.com/cdr/sshcode</a><br>相关文档：</p><ul><li>总体概述：<a href="https://github.com/cdr/code-server/blob/master/README.md">https://github.com/cdr/code-server/blob/master/README.md</a></li><li>安装：<a href="https://github.com/cdr/code-server/blob/master/doc/install.md">https://github.com/cdr/code-server/blob/master/doc/install.md</a></li><li>设置指引：<a href="https://github.com/cdr/code-server/blob/master/doc/guide.md">https://github.com/cdr/code-server/blob/master/doc/guide.md</a></li><li>常见问答：<a href="https://github.com/cdr/code-server/blob/master/doc/FAQ.md">https://github.com/cdr/code-server/blob/master/doc/FAQ.md</a></li></ul><p>建议配置：</p><ul><li>1 GB of RAM</li><li>2 cores</li></ul><p>安装教程：<a href="https://github.com/cdr/code-server/blob/main/docs/install.md">https://github.com/cdr/code-server/blob/main/docs/install.md</a></p><h4 id="常规部署"><a href="#常规部署" class="headerlink" title="常规部署"></a>常规部署</h4><p>安装脚本：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL https://code-server.dev/install.sh | sh</span><br></pre></td></tr></table></figure><p>运行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./code-server</span><br></pre></td></tr></table></figure><p>以守护进程运行:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">enable</span> --now code-server@<span class="variable">$USER</span></span><br></pre></td></tr></table></figure><p>访问<a href="http://127.0.0.1:8080/">http://127.0.0.1:8080</a>即可。<br>登陆密码记录在<code>~/.config/code-server/config.yaml</code></p><h4 id="Docker部署"><a href="#Docker部署" class="headerlink" title="Docker部署"></a>Docker部署</h4><p>docker一键搭建:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">docker run -dit -p 8080:8080 \</span><br><span class="line">  --restart=always \</span><br><span class="line">  --name codeserver \</span><br><span class="line">  -h vscode \</span><br><span class="line">  -u root \</span><br><span class="line">  -v /tmp/coder-data:/home \</span><br><span class="line">  -v /tmp/coder-config:/root \</span><br><span class="line">  -v /etc/localtime:/etc/localtime:ro \</span><br><span class="line">  -e PASSWORD=mycodeserver \</span><br><span class="line">  codercom/code-server:3.4.1 </span><br></pre></td></tr></table></figure><p>注意：-e PASSWORD=mycodeserver 设置密码为mycodeserver。</p><p>最新版本能连接上了扩展商店，轻松安装语言包，Live Server 等拓展，还有其他的拓展可通过 .VSIX 离线包获取。VSCode扩展商店网页版：<a href="https://marketplace.visualstudio.com/vscode">https://marketplace.visualstudio.com/vscode</a>搜索扩展，进入到详情页之后，选择右下角的Download Extension下载离线包。之后在扩展界面选择Install from VSIX，选择路径安装。</p><h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><p><a href="https://www.cnblogs.com/anliven/p/13363811.html">VSC - VS Code 运行Web IDE</a></p>]]></content>
    
    
    <summary type="html">关于VS Code的一些二次开发产品以及Web IDE</summary>
    
    
    
    
    <category term="IDE" scheme="https://hexo.lyh.best/tags/IDE/"/>
    
  </entry>
  
  <entry>
    <title>引用GitHub的静态资源文件</title>
    <link href="https://hexo.lyh.best/20210301/%E5%BC%95%E7%94%A8GitHub%E7%9A%84%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E6%96%87%E4%BB%B6/"/>
    <id>https://hexo.lyh.best/20210301/%E5%BC%95%E7%94%A8GitHub%E7%9A%84%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E6%96%87%E4%BB%B6/</id>
    <published>2021-02-28T17:28:59.000Z</published>
    <updated>2023-10-29T14:51:50.492Z</updated>
    
    <content type="html"><![CDATA[<p>遇到的报错：引入CSS出现because its MIME type (‘text/plain’) is not executable错误<br>错误提示：Refused to execute script from ‘xxxx’ because its MIME type (‘text/plain’) is not executable, and strict MIME type checking is enabled.<br>情况：引入上传在github的CSS、JS文件，无法显示样式，开发者模式（F12）显示Refused to execute script from ‘xxx’ because its MIME type (‘text/plain’) is not executable, and strict MIME type checking is enabled。但能访问到CSS、JS文件（在网页下查看源代码，访问CSS、JS文件），没有出现404问题。</p><p>直接用 Github Raw 浏览器不执行，返回的请求头 content-type 是 text/plain，但实际上浏览器对 MIME 类型并没有强制检查，只是 Github 返回的 Header 加上了 X-Content-Type-Options: nosniff 强制浏览器执行 MIME 类型检查，于是就会报错。</p><p>解决办法：<br>可以利用<a href="https://raw.githack.com/">https://raw.githack.com</a>解决，用法简单，只需将你的github链接填入输入框，即可看到use this url里面有生成其他链接，引入那个链接，将不再报错，CSS、JS样式显示出来。</p><p>类似网站：<br><a href="https://rawgit.org/">https://rawgit.org</a><br><a href="https://www.jsdelivr.com/github">https://www.jsdelivr.com/github</a></p><h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><p><a href="https://www.zhihu.com/question/22004590">引用GitHub的静态资源文件</a><br><a href="https://blog.csdn.net/qq_38243612/article/details/104333825">引入CSS出现because its MIME type (‘text/plain’) is not executable错误</a></p>]]></content>
    
    
    <summary type="html">解决直接用 Github Raw 浏览器报错不执行</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>宝塔面板绕过强制绑定官网账号</title>
    <link href="https://hexo.lyh.best/20210228/%E5%AE%9D%E5%A1%94%E9%9D%A2%E6%9D%BF%E7%BB%95%E8%BF%87%E5%BC%BA%E5%88%B6%E7%BB%91%E5%AE%9A/"/>
    <id>https://hexo.lyh.best/20210228/%E5%AE%9D%E5%A1%94%E9%9D%A2%E6%9D%BF%E7%BB%95%E8%BF%87%E5%BC%BA%E5%88%B6%E7%BB%91%E5%AE%9A/</id>
    <published>2021-02-28T09:40:10.000Z</published>
    <updated>2023-10-29T14:51:50.492Z</updated>
    
    <content type="html"><![CDATA[<h3 id="一键消除宝塔的强制登录"><a href="#一键消除宝塔的强制登录" class="headerlink" title="一键消除宝塔的强制登录"></a>一键消除宝塔的强制登录</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rm -f /www/server/panel/data/bind.pl</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>或</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i <span class="string">&quot;s|bind_user == &#x27;True&#x27;|bind_user == &#x27;XXXX&#x27;|&quot;</span> /www/server/panel/BTPanel/static/js/index.js</span><br></pre></td></tr></table></figure><p>或</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i <span class="string">&quot;s|if (bind_user == &#x27;True&#x27;) &#123;|if (bind_user == &#x27;REMOVED&#x27;) &#123;|g&quot;</span> /www/server/panel/BTPanel/static/js/index.js</span><br></pre></td></tr></table></figure><p>恢复还原</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i <span class="string">&quot;s|if (bind_user == &#x27;REMOVED&#x27;) &#123;|if (bind_user == &#x27;True&#x27;) &#123;|g&quot;</span> /www/server/panel/BTPanel/static/js/index.js</span><br></pre></td></tr></table></figure><p>或者直接删除该js中的这段代码：<br><img src="https://photo.lyh.best/2021/02/28/6917db371f25a.png" alt="image.png"></p><h3 id="F12删除元素"><a href="#F12删除元素" class="headerlink" title="F12删除元素"></a>F12删除元素</h3><h3 id="广告屏蔽插件"><a href="#广告屏蔽插件" class="headerlink" title="广告屏蔽插件"></a>广告屏蔽插件</h3><p>广告屏蔽插件可以用广告屏蔽插件 adblock，ublock origin 或类似屏蔽插件。然后选取当前页面，屏蔽样式表中的 shade 元素就好了。<br>或者直接在你 ADBLOCK 设置 – 控制面板 – 自定义中写入如下代码也可以直接屏蔽：</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">服务器IP###layui-layer-shade1</span><br><span class="line">服务器IP###layui-layer1</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">宝塔面板目前绕过强制绑定官网账号(7.51版本适用，本文不保证时效)</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>聊聊Clubhouse</title>
    <link href="https://hexo.lyh.best/20210226/%E8%81%8A%E8%81%8Aclubhouse/"/>
    <id>https://hexo.lyh.best/20210226/%E8%81%8A%E8%81%8Aclubhouse/</id>
    <published>2021-02-26T07:30:31.000Z</published>
    <updated>2023-10-29T14:51:50.493Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Clubhouse"><a href="#Clubhouse" class="headerlink" title="Clubhouse"></a>Clubhouse</h2><p>Clubhouse在国内火起来大概是在1月31日，马斯克在社交平台发布了一条推文，他将于北京时间2月1日的下午两点在Clubhouse创建聊天室。<br><img src="https://img.36krcdn.com/20210219/v2_647d87d5a7ec4c8f946c619dd24833df_img_000"><br>由于Clubhouse只有iOS客户端以及邀请机制新用户只能邀请0-2个人，这导致的邀请码极其稀缺，在国内火爆期间一码难求，邀请码售价高达400人民币到100美元不等。<br>这种邀请机制下，在Telegram出现了一种火种接力群，基本上一传一部分人一传二便能保持火种不断，我也是通过这种接力邀请的方式得以尝鲜。感谢 @NFNF2046 发起的接力群。在当时<a href="https://linmi.cc/">@Linmi</a>也发起了相似的接力群。<br>值得一提的是，当时有个有同样接力功能的bot@（<a href="https://t.me/ClubHouseQueueBot">ClubHouseQueueBot</a>）应运而生，但存在严重的信息泄露bug，首先它会记录使用者的tg号、手机号以及Clubhouse ID，但居然能通过/info命令把所有的信息罗列出来。<br>同时Clubhouse会在个人主页显示邀请者，有完整的用户邀请关系链，违规账号会被连坐处罚封号。像下文中提到的aieks的封号可能就会影响与之相关的邀请人。</p><h3 id="时间线"><a href="#时间线" class="headerlink" title="时间线"></a>时间线</h3><p>2月7日有个room讨论“clubhouse明天会被墙吗”<br>2月8日被墙，+86号码无法接收验证短信<br>2月16日，<a href="https://github.com/ai-eks">aieks</a>在v2ex推广自己基于Python Flask + Agora SDK开发的的第三方 Clubhouse 音频播放器项目–OpenClubhouse。同时引发clubhouse用户注意并讨论。<br>网站链接: <a href="https://opench.aix.uy/">https://opench.aix.uy/</a>（2月21日被clubhouse封号）<br>相关新闻：</p><blockquote><p>#互联网 #隐私 #安全 #信息安全 #Clubhouse<br>【Clubhouse安全性存疑：聊天音频泄露至第三方】<br>有消息指出近期大热的邀请制音频聊天室软件 Clubhouse 可能被第三方窃听。上周末发生的一起攻击，让 Clubhouse 的安全问题引发了更多网络专家的担忧。<br>据彭博社2月21日报道，Clubhouse 的发言人 Reema Bahnasy 证实，一位身份不明的用户本周末从“多个房间”将音频流传输到了自己的第三方网站中。尽管公司表示，已经“永久封禁”该用户并安装了新的“保障措施”以阻止类似事件重复发生，但研究者认为该平台可能无法做出这种保证。<br>美国斯坦福大学下属研究机构斯坦福互联网观察实验室（Stanford Internet Observatory）于2月13日首次提出了该应用的安全担忧。2月21日晚些时候，该实验室再次发声称，Clubhouse 应该假设平台上所有的对话都被录音。<br>斯坦福互联网观察实验室主管 Alex Stamos 表示：“Clubhouse 不能为世界各地进行的对话提供任何隐私承诺”，值得一提的是，他同时也是 Facebook 前网络安全主管。<br>处理 Clubhouse 大部分后端业务的上海创业公司 Agora 表示，它无法评论 Clubhouse 的安全或隐私协议，并坚称它不会对任何客户 “存储或分享个人身份信息”，Clubhouse只是其中之一。”我们致力于使我们的产品尽可能地安全。”该公司说。<br>随着 Clubhouse 的全球流行，近期该公司完成了1亿美元募资，估值达到10亿美元。(<a href="https://www.thepaper.cn/newsDetail_forward_11414111">澎湃新闻</a>)(<a href="https://www.bloomberg.com/news/articles/2021-02-22/clubhouse-chats-are-breached-raising-concerns-over-security">彭博社·Bloomberg</a>)</p></blockquote><h3 id="Python-Flask-Agora-SDK-clubhouse-py客户端"><a href="#Python-Flask-Agora-SDK-clubhouse-py客户端" class="headerlink" title="Python Flask + Agora SDK = clubhouse-py客户端"></a>Python Flask + Agora SDK = <a href="https://github.com/stypr/clubhouse-py">clubhouse-py客户端</a></h3><p><video src="https://photo.lyh.best/2021/02/26/f3fc008b01cae.mp4" alt="Python Flask + Agora SDK.mp4" width="100%" height="100%" controls="controls"></video></p><h4 id="推特网友对clubhouse的录音"><a href="#推特网友对clubhouse的录音" class="headerlink" title="推特网友对clubhouse的录音"></a>推特网友对clubhouse的录音</h4><img src="https://photo.lyh.best/2021/02/26/3631785032af4.jpeg" alt="推特网友对clubhouse的录音" width="50%" height="50%"><h3 id="Clubhouse的安全性"><a href="#Clubhouse的安全性" class="headerlink" title="Clubhouse的安全性"></a>Clubhouse的安全性</h3><p>由于Clubhouse的ID名字只能改一次，很多人使用了真实的姓名身份，以及配合邀请的链条，基本上就是在实名发言。从上面提到的几个安全问题可以看出，Clubhouse的使用和发言（指在公开房间中）并不私密，随时都可能被多种手段录音记录存档，如上述的OpenClubhouse、clubhouse-py等，只需要记录到当时的发言者，将录音导入到语音转文字的api中转换再导出，再做个关键词过滤，很快就能精准记录你说了什么不该说的话了。</p><h3 id="趣闻"><a href="#趣闻" class="headerlink" title="趣闻"></a>趣闻</h3><p>　　音频社交应用Clubhouse被马斯克带火之后，一家与之同名的公司ClubHouse Media Group Inc．（OTCMKTS：CMGR）因此意外飙涨，今年以来股价已飙升了1000%以上。这只美国股票的公司主体，实际上是广西同济健康医疗集团股份公司(Tongji Healthcare Group)。这家健康医疗集团在2020年8月，收购了Hudson Group公司，而后者全资拥有主营内容创作和营销（网红营销）的媒体公司“The ClubHouse”，这个媒体公司和真正热门的音频社交软件ClubHouse，没有任何关系。</p><h4 id="没有墙的隔阂，两岸人民会聊些什么"><a href="#没有墙的隔阂，两岸人民会聊些什么" class="headerlink" title="没有墙的隔阂，两岸人民会聊些什么"></a>没有墙的隔阂，两岸人民会聊些什么</h4><img src="https://photo.lyh.best/2021/02/26/e8605560b855c.jpeg" alt="两岸的交流" width="50%" height="50%"><h4 id="clubhouse火起来之后"><a href="#clubhouse火起来之后" class="headerlink" title="clubhouse火起来之后"></a>clubhouse火起来之后</h4><img src="https://photo.lyh.best/2021/02/26/ffe641c93444b.jpeg" alt="微博小文章" width="50%" height="50%"><h4 id="使用体验"><a href="#使用体验" class="headerlink" title="使用体验"></a>使用体验</h4><p>clubhouse的语音交流是相当低效的知识获取过程，主要是初入人群相对比较高端，提供了一个平台如此近距离地和大佬交流并有可能建立联系，你有机会举手发言和奇葩说的辩手庞颖、各种公司ceo以及不同流域的大牛交流探讨问题。但在听他们的交流时可能并不会受益太多并可能会产生巨大的焦虑感和消磨了时间。</p><p>在被墙的前夕，大量的room管理员通过头像放二维码，导流到自己的企业微信群，转化为自己的私域流量。然后当时有个room就在讨论“惯性思维多可怕，用着Clubhouse留联系方式为什么不留iMessage？”room主@ngbin的bio则写道：“我快看不下去了，还都产品经理，还都号称翻墙了都会独立思考，CH之后iOS端，那你们为啥还要加微信？还要换头像扫码？为什么不用iMessage？”</p><p>在我进的不同room里，感受最深的时香港人发起的room是相对比较有秩序的，有专门主持的人控制时间，排序发言，听起来的感受会觉得这像是一个正式的访谈节目一样。</p><p>这种语音room的场景，颇像面试中群面环节，果然就有人在上面举办了模拟群面相关的room，还有大量求职、招聘的room，越听越让我这还没找到工作的大四废物焦虑。</p><p>根据clubhouse的算法，一加入不关注任何人是只有很少room推荐的，只有你关注更多的人，你才会看到你关注的人所在的room从而加入进去。同时，Clubhouse的room是中途没有邀请链接的，好像是只有开room的人能发room开启的预告时间以及邀请链接。所以很可能你退出了一个room的时候你follow的人也退出了，在期间你没关注房间内的人时，你就会尴尬地发现找不回那个room了。（在OpenClubhouse未封号之前，则可以通过上面列出的room链接进入该房间）</p><h4 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h4><p>感觉玩Clubhouse这样的一个语音聊天室，适合下班回家的车内或者独居的状态，无论是外放被别人听到还是在会被熟悉的人听到的情况下大放厥词，都颇为尴尬。感觉利好airpods一类的产品，有良好的收音以及降噪功能的耳机会让你在使用这个软件的同时能干别的事情，不然感觉只专注于clubhouse语音交流，实在是太低效和消磨时间了。</p><h4 id="国内的仿品"><a href="#国内的仿品" class="headerlink" title="国内的仿品"></a>国内的仿品</h4><p>国内多个互联网公司砸钱军备竞赛。。。<br>记忆中最早的是递爪，刚火爆的时候就说有相似的功能。<br>小米–米聊 2月19日停服的米聊，在7天后的2月26日秽土转生，宣布推出与Clubhouse像素级相似的针对高端人士的语音社交软件–米聊。（头七还魂）<br>映客–对话吧 上线12日后于2月22日紧急下架<br>36kr–coffeechat<br>微信小程序–clubhorse、clubchat+ 这名字仿得不想吐槽…，已消失。后者在其小程序中添加了大量虚假名人大V，因侵权而下架。<br>当然国外巨头twitter也推出了与clubhouse一样的产品。</p><p>看了这么多仿品，想到clubhouse早期用户中有着如此高浓度的产品经理，难道他们真的觉得这个产品的复刻能复现火爆而不是水土不服吗？有想过他们的平台会有哪些用户吗？会有Elon Musk、Bill Gates，还是会有国内对应咖位的人在上面设room交流？会有两岸三地的交流room？怕不是要割地自治画地为牢，签约某些行业大v在各自平台开room聊天，想听的人还要去下载不同的平台追随…像游戏开黑交流用的早有TeamSpeak、YY语音、TT语音、Discord等等…专业的远程会议软件也在疫情期间发展起来了…我真想不到像这样低效的语音聊天室除了上面比较精英的人群带来的吸引力，能有什么发展。</p><h4 id="一些个人想法"><a href="#一些个人想法" class="headerlink" title="一些个人想法"></a>一些个人想法</h4><p><strong>关于墙</strong><br>在国内都需要审核监管的互联网环境下，Clubhouse 的被阻断是必然的。就算某部门没有及时关注这个平台，国内竞争者也可以用举报、投毒的方式来让其无法正常访问。<br>举个例子就懂了：<br><a href="https://www.landiannews.com/archives/71108.html">陌生人交友应用Soul高管的骚操作：在竞争对手平台发布黄图举报致其下架</a></p><blockquote><p>利用GFW漏洞进行勒索的恶行正在蔓延<br>越来越多的信息表明有人正以屏蔽网站为要挟勒索大中型境外华文站点。<br>攻击者通过向目标网站提交大量包含违禁词的http明文请求、将被墙域名解析到目标网站所用IP等方式触发GFW的封锁机制。<br>攻击者要求网站以低廉的价格给他们投放广告，如果拒绝则进行上述的栽赃嫁祸。<br>更为糟糕的是越来越多的人正照猫画虎，当你有一把锤子看什么都像钉子。<br>那些选择托管于境外呕心沥血成长起来的网站现在要面临新的挑战。<br>[消息等级 Level B·#重要 ]<p align="right">——<a href="https://t.me/vps_xhq">VPS信号旗播报</a></p></p></blockquote>]]></content>
    
    
    <summary type="html">关于clubhouse的使用观察</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>BASE64加解密</title>
    <link href="https://hexo.lyh.best/20210224/BASE64%E5%8A%A0%E8%A7%A3%E5%AF%86/"/>
    <id>https://hexo.lyh.best/20210224/BASE64%E5%8A%A0%E8%A7%A3%E5%AF%86/</id>
    <published>2021-02-23T19:17:49.000Z</published>
    <updated>2023-10-29T14:51:50.490Z</updated>
    
    <content type="html"><![CDATA[<h3 id="BASE64加解密小工具"><a href="#BASE64加解密小工具" class="headerlink" title="BASE64加解密小工具"></a>BASE64加解密小工具</h3><html lang="en"><head>    <meta charset="UTF-8">    <meta name="viewport" content="width=device-width, initial-scale=1.0">        <div class="panel-heading font-bold">BASE64加密解密</div>                <textarea class="textarea form-control" id="best" rows="5"></textarea>            <div class="text-center">                <button type="submit" id="btn1" class="btn btn-info">加密</button>&nbsp;                <button type="submit" id="btn2" class="btn btn-info">解密</button>            </div>        <div class="entry-content l-h-2x" id="data">        </div></head><script type="text/javascript">    $.extend({        message: function (a) {            var b = {};            "string" == typeof a && (b.message = a), "object" == typeof a && (b = $.extend({}, b, a));            var c, d, e, f = b.showClose ? '<div class="c-message--close">×</div>' : "",                g = "" !== b.title ? '<h2 class="c-message__title">' + b.title + "</h2>" : "",                h = '<div class="c-message animated animated-lento slideInRight"><i class=" c-message--icon c-message--' + b.type + '"></i><div class="el-notification__group">' + g + '<div class="el-notification__content">' + b.message + "</div>" + f + "</div></div>",                i = $("body"),                j = $(h);            d = function () {                j.addClass("slideOutRight"), j.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function () {                    e()                })            }, e = function () {                j.remove(), b.onClose(b), clearTimeout(c)            }, $(".c-message").remove(), i.append(j), j.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function () {                j.removeClass("messageFadeInDown")            }), i.on("click", ".c-message--close", function (a) {                d()            }), b.autoClose && (c = setTimeout(function () {                d()            }, b.time))        }    })</script><script>    var keyStr = "ABCDEFGHIJKLMNOP" +        "QRSTUVWXYZabcdef" +        "ghijklmnopqrstuv" +        "wxyz0123456789+/" +        "=";    function encode64(input) {        input = escape(input);        var output = "";        var chr1, chr2, chr3 = "";        var enc1, enc2, enc3, enc4 = "";        var i = 0;        do {            chr1 = input.charCodeAt(i++);            chr2 = input.charCodeAt(i++);            chr3 = input.charCodeAt(i++);            enc1 = chr1 >> 2;            enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);            enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);            enc4 = chr3 & 63;            if (isNaN(chr2)) {                enc3 = enc4 = 64;            }            else if (isNaN(chr3)) {                enc4 = 64;            }            output = output +                keyStr.charAt(enc1) +                keyStr.charAt(enc2) +                keyStr.charAt(enc3) +                keyStr.charAt(enc4);            chr1 = chr2 = chr3 = "";            enc1 = enc2 = enc3 = enc4 = "";        } while (i < input.length);        return output;    }    function decode64(input) {        var output = "";        var chr1, chr2, chr3 = "";        var enc1, enc2, enc3, enc4 = "";        var i = 0;        var base64test = /[^A-Za-z0-9\+\/\=]/g;        if (base64test.exec(input)) {            $.message({                title: '工具提示',                message: '请输入有效的base64字符',                type: 'warning'            });        }        input = input.replace(/[^A-Za-z0-9\+\/\=]/g, "");        do {            enc1 = keyStr.indexOf(input.charAt(i++));            enc2 = keyStr.indexOf(input.charAt(i++));            enc3 = keyStr.indexOf(input.charAt(i++));            enc4 = keyStr.indexOf(input.charAt(i++));            chr1 = (enc1 << 2) | (enc2 >> 4);            chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);            chr3 = ((enc3 & 3) << 6) | enc4;            output = output + String.fromCharCode(chr1);            if (enc3 != 64) {                output = output + String.fromCharCode(chr2);            }            if (enc4 != 64) {                output = output + String.fromCharCode(chr3);            }            chr1 = chr2 = chr3 = "";            enc1 = enc2 = enc3 = enc4 = "";        } while (i < input.length);        return unescape(output);    }    $('#btn1').click(function () {        var best = $('#best').val();        if (best == "") {            $.message({                title: '工具提示',                message: '请输入您要加密的内容',                type: 'warning'            });        } else {            $.message({                title: '工具提示',                message: '加密成功',                type: 'success'            });            $('#data').html('<p class="tip inlineBlock success">原文：' + best + '<br>加密：' + encode64(best) + '</p>');        }    });    $('#btn2').click(function () {        var best = $('#best').val();        if (best == "") {            $.message({                title: '工具提示',                message: '请输入您要解密的内容',                type: 'warning'            });        } else {            $.message({                title: '工具提示',                message: '解密成功',                type: 'warning'            });            $('#data').html('<p class="tip inlineBlock success">原文：' + best + '<br>解密：' + decode64(best) + '</p>');        }    });</script></html><h3 id="尝试在hexo中嵌入html代码"><a href="#尝试在hexo中嵌入html代码" class="headerlink" title="尝试在hexo中嵌入html代码"></a>尝试在hexo中嵌入html代码</h3><p>在hexo的github issue中找到 <a href="https://github.com/hexojs/hexo/issues/1692">hexo能在markdown中插入一段html代码不被渲染么？(´･_･`)</a></p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% raw %&#125;</span><br><span class="line">your html</span><br><span class="line">&#123;% endraw %&#125;</span><br></pre></td></tr></table></figure><p>详细参考：<a href="https://hexo.io/docs/tag-plugins">hexo中tag plugins的用法</a></p><h4 id="踩坑"><a href="#踩坑" class="headerlink" title="踩坑"></a>踩坑</h4><p>注意插入的html中使用jQuery插件时避免重复引入jquery.js文件<br>debug过程</p><ol><li>猜测jQuery加载顺序不是最早造成的。</li><li>F12工具查看 JS 的加载顺序，发现 jQuery 是最早加载的，只是加页面加载完毕后，突然有个请求又加载了一次 jQuery</li></ol><p>由于我用的是hexo的butterfly主题，然后就到 <code>.\themes\butterfly\layout\includes\additional-js.pug</code> 中把 <code>script(src=url_for(theme.CDN.jquery))</code>注释掉，再到hexo的 <code>_config.butterfly.yml</code>配置里 inject项中把jquery插入到<code>&lt;/head&gt;</code>之前。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Inject</span></span><br><span class="line"><span class="comment"># Insert the code to head (before &#x27;&lt;/head&gt;&#x27; tag) and the bottom (before &#x27;&lt;/body&gt;&#x27; tag)</span></span><br><span class="line"><span class="comment"># 插入代码到头部 &lt;/head&gt; 之前 和 底部 &lt;/body&gt; 之前</span></span><br><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">  <span class="comment"># - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">type=&quot;text/javascript&quot;</span> <span class="string">src=&quot;https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">  <span class="comment"># - &lt;script src=&quot;xxxx&quot;&gt;&lt;/script&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>工具的样式就先咕咕咕了，以后再补…</p>]]></content>
    
    
    <summary type="html">BASE64加解密小工具</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>机器人生产线STEAM教具</title>
    <link href="https://hexo.lyh.best/20210116/%E6%9C%BA%E5%99%A8%E4%BA%BA%E7%94%9F%E4%BA%A7%E7%BA%BFsteam%E6%95%99%E5%85%B7/"/>
    <id>https://hexo.lyh.best/20210116/%E6%9C%BA%E5%99%A8%E4%BA%BA%E7%94%9F%E4%BA%A7%E7%BA%BFsteam%E6%95%99%E5%85%B7/</id>
    <published>2021-01-16T15:09:59.000Z</published>
    <updated>2023-10-29T14:51:50.493Z</updated>
    
    <content type="html"><![CDATA[<p><video src="https://photo.lyh.best/2021/02/26/ee98ae96d0638.mp4" alt="机器人生产线steam教具.mp4" width="100%" height="100%" controls="controls"></video></p><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><h3 id="项目背景概述"><a href="#项目背景概述" class="headerlink" title="项目背景概述"></a>项目背景概述</h3><p>2017年国务院印发《新一代人工智能发展规划》，规划中指出，我国计划在2020年人工智能总体技术和应用与世界先进水平同步；2025年人工智能基础理论实现重大突破，智能社会建设取得积极进展；2030年人工智能理论、技术与应用总体达到世界领先水平，我国成为世界主要人工智能创新中心，占据人工智能科技制高点。要实现上述目标，人工智能教育不可或缺，而STEAM教育则是其中的一个方向。<br>中国国内STEAM教育从教育部层面开始大力推广，各省市相继出台相关的执行办法。2015 年 9 月，教育部出台《关于“十三五”期间全面深入推进S（科学）T（技术）E（工程）A（艺术）M（数学）教育信息化工作的指导意见（征求意见稿）》，提出STEAM教育、创客教育等全新的培养模式。<br>《教育部教育装备研究与发展中心 2016 年工作要点》提出，加强创新创造教育研究，贯彻国家“双创”要求，为创客教育、“STEAM”课程提供教育装备支撑，探索将新的教育装备融入课堂，培养学生创新能力、综合设计能力和动手实践能力。2017年浙江省新高考招生录取方案中提出，将信息技术（含编程）纳入高考科目。STEAM课程在国内呈现出欣欣向荣的态势。</p><h3 id="STEAM教育简介"><a href="#STEAM教育简介" class="headerlink" title="STEAM教育简介"></a>STEAM教育简介</h3><p>STEAM，是这五个单词的缩写：Science, Technology, Engineering, Arts, Mathematics。STEAM是一种教育理念，有别于传统的单学科、重书本知识的教育方式。STEAM是一种重实践的超学科教育概念。任何事情的成功都不仅仅依靠某一种能力的实现，而是需要介于多种能力之间，比如高科技电子产品的建造过程中，不但需要科学技术，运用高科技手段创新产品功能，还需要好看的外观，也就是艺术等方面的综合才能，所以单一技能的运用已经无法支撑未来人才的发展，未来，社会需要的是多方面的综合型人才。</p><p>STEAM旨在培养孩子独立思考、分析问题、解决问题的能力。将科学、技术、工程、艺术、数学几大学科串联起来，鼓励孩子们通过实践获取科学，打破传统的“教”与“学”单一死板的模式，激发孩子的主动性。按照教育部《3-6岁儿童学习与发展指南》：幼儿科学学习的核心是激发探究兴趣，体验探究过程，发展初步的探究能力。STEAM的教学过程遵从科学探究，即：观察现象——提出问题——提出假设——做出预测——计划并实施实验——分析实验结果——记录与交流实验结果。把传统教育里被割裂的各个学科有机整合，在实验科学的串联下，形成开放式的复合思维，更符合现代人才培养需要，也更有助于孩子左右脑的全面开发。</p><h2 id="STEAM市场分析"><a href="#STEAM市场分析" class="headerlink" title="STEAM市场分析"></a>STEAM市场分析</h2><h3 id="市场规模"><a href="#市场规模" class="headerlink" title="市场规模"></a>市场规模</h3><p>北京师范大学发布的《2019全球教育机器人发展白皮书》依据全球教育机器人的相关市场调查报告及相似产品的发展历程，提出包括终端消费、教育机构、教育套件与STEAM玩具套件市场模型4个方面的关于教育机器人市场模型预测。其中，终端消费、教育机构市场模型用以预估教育服务机器人的市场模型；教育套件与STEAM玩具套件市场模型用以预估机器人教育的产品市场规模。2019~2023年4个模型的市场规模详细预估，如下图所示。<br><img src="https://photo.lyh.best/2021/03/06/3d502af7601e7.png" alt="image.png"></p><ol><li>终端消费市场规模预估——至2023年将达到3272亿美元<br>教育服务机器人方面，产品相似于个人移动计算机及平板计算机的系统结构。参考以上两个产品的发展历程，可以发现：一项新产品从消费市场进入教育市场，平均需要3年时间。在平均价格下降到500美元的水平下，进入教育市场的前3年出货量可累计达到约600万台。</li><li>教育机构市场规模预估——至2023年将达到24亿美元<br>参考美国2010年劳动力生产总额报告，服务劳动力从事教育的比率为17%，课题组预估服务机器人能取代<br>约8%的教育劳动力生产总额。据市场调研机构Markets and Markets统计，2016年至2022年全球服务机器人将以15.18%的年复合增长率增长，服务机器人将形成一个新的劳动力市场。<br>基于全球教育机器人的相关市场调查报告及相似产品的发展历程，预估至2023年教育机器人市场规模将达到841亿美元。其中教育服务机器人相较于机器人教育市场拥有更大的营收额，至2022年预估将进一步大幅度增长。此外，根据Markets and Markets（2016）的预测，预估教育服务机器人市场的服务与内容营收，将占整体市场78%。</li><li>教育套件市场规模预估——至2023年将达到31亿美元<br>从机器人教育方面而言，可编程机器人作为教育套件，市场规模依据Markets and Markets报告统计，2018年可编程机器人市值18.34亿美元，Redfeld Report报告指出可编程机器人将以11.57%的复和增长率增长。</li><li>STEAM玩具套件市场规模预估——至2023年将达到36亿美元<br>越来越多的智能玩具以STEAM教育作为设计理念，根据Infniti Research（2014）报告显示，全球玩具市场未来将以年复合增长率4.17%速度增长。Toy Industry Association的报告显示，拥有STEAM教育作用的产品约占所有玩具3%的营收。预估至2023年STEAM玩具套件市场规模将达到36亿美元。<br>而目前的STEAM教育玩具套件常见类型为工程机器人，儿童套装，积木。但是对于工业流水线模拟的教具却是缺乏的，因此此方向的教具具有极大的增长空间，将是一片蓝海。</li></ol><h3 id="市场特征"><a href="#市场特征" class="headerlink" title="市场特征"></a>市场特征</h3><p>教育机器人仍处于初始发展阶段，目前多数教育机器人的厂商几乎涉及研发、设计、生产、销售等各产业链环节，如法国的Aldebaran推出NAO。而家庭情绪智能机器人Pepper，由Aldebaran厂商研发设计、鸿海富士康科技生产制造、软银销售宣传，形成产业链逐渐专业分工的趋势。随着服务型机器人市场的逐渐成熟，未来教育机器人的产业链将向专业分工的方向发展。<br>教育机器人市场历经超五年时间的发展之后，目前市场仍未达到爆发式增长阶段。在供应端，目前产品技术成熟度仍未超过用户实际需求水平。在交互、反馈与个性化等方面，教育机器人的智能化程度均不够满足实际需求。<br>在需求端，各家企业近几年来纷纷通过价格战、技术营销等方式教育市场，目前市场用户对教育机器人的概念认知已经基本建立。但供应端产品发展不成熟，这导致用户对产品功能定位的认知仍然不够清晰，同时对于相关品牌的认知统一度也不高，尚未形成稳定的消费意识与习惯。<br>因此，教育机器人的发展循环逻辑为：供应端产品成熟促进需求端认可度和消费意愿提升，从而促进市场放量，这将进一步促进供应端技术迭代与产品成熟。</p><h3 id="发展趋势（未来2-5年的发展评测）"><a href="#发展趋势（未来2-5年的发展评测）" class="headerlink" title="发展趋势（未来2-5年的发展评测）"></a>发展趋势（未来2-5年的发展评测）</h3><p>未来，随着硬件制造商在伺服舵机、减速器等关键零组件的技术成熟，硬件制造的技术与成本将降低，这意味着，除与形态密切相关的机构件外，机器人的硬件产品差异化将越来越小，深入各领域应用成为发展重心，将加速机器人各种教育应用的发展。<br>教育机器人的终端消费市场在迅速扩展，教育机器人产业将迎来快速发展期。至2023年，预测整个市场将达到841亿美元。专用型产品研发和推广的思路逐步形成，将成为系统集成商的蓝海市场。针对具体应用场景的细分领域有望成为未来教育机器人市场的主要发展方向。<br>时间边界（这个市场的持续时间预估）<br>政策上，“中国制造2025”规划中，将机器人列为十大重点发展领域，规划十年期制造发展的目标。因此教育机器人市场是至少还有十多年的朝阳行业。</p><h3 id="STEAM市场问题分析"><a href="#STEAM市场问题分析" class="headerlink" title="STEAM市场问题分析"></a>STEAM市场问题分析</h3><p>市场问题：</p><ol><li>教育未形成体系。当前，STEAM教育主要体现在学前教育和基础教育阶段，需要大量优秀的师资力量强化引导。但我国各类师范大学中，并未明确设置相关的教学专业，仍然以精细化和单一学科培养后备教师，在教学专业度上，还有待加强。</li><li>教育理念把握不深入。许多教育机构为了逐利，抓住了STEAM教育这个名词，却未能将国外的核心教育成果“移植嫁接”，在针对中国孩子提出有效的教学模式上，还有一定的差距。</li><li>教学环境不理想。国内有不少敏锐、前沿的幼儿园及中小学大力推广STEAM课程，但传统的应试教育和单一的学科教育方式依然很难改变和突破，家长们愿意选择“学精学尖”某一学科的愿望更强烈。</li><li>在智能制造的大环境下，工厂流水线中机器人的应用逐渐普及。对于教育来说，许多教育用的机器人教具都是基于正在被广泛应用的机器人所设计的，例如四足机器人，轮式机器人等。但缺乏一套教具可以帮助儿童更快了解与学习多机器人配合原理，如自动化流水线中，多种工序如何衔接，哪种机器人可以完成哪种工序，多个机器人如何配合，什么情况用哪种传感器比较好等。中小学不同年龄段都有与其阶段匹配的课程与教具，较好的课程一般是场景式的，将学生代入实际场景，让其更易理解与接受。Steam教育是阶段性的，先学习应用，再扩展创新，因此希望教具具有一定扩展性。<h3 id="竞品分析"><a href="#竞品分析" class="headerlink" title="竞品分析"></a>竞品分析</h3></li></ol><h4 id="竞品方案"><a href="#竞品方案" class="headerlink" title="竞品方案"></a>竞品方案</h4><ol><li>亚博智能：全积木拼装机械手臂<br><img src="https://photo.lyh.best/2021/03/06/36df4bb429c2e.png" alt="image.png"><br>简介：Superbit扩展板加上537块积木和4个积木电机，可以搭建成机械臂的形状，可以控制机械臂选择，夹取。<br>特点：整体可拼装（积木式），外观颜色鲜艳，结构扩展性强、可搭配同类型积木。<br>不足：拼装难度高，拼装完成后机械臂机器性能弱；只能完成简单动作，学习曲线先高后低。</li><li>UNO创客套件 4自由度机械手臂<br><img src="https://photo.lyh.best/2021/03/06/6590cc9c51522.png" alt="image.png"><br>简介：四自由度机械臂，切割板作为机械臂的结构件<br>特点：成本低廉，结构简单。可以通过遥杆控制。<br>不足：外观吸引力不足，没有配套学习教程，功能性弱。</li><li>幻尔 树莓派4代机械手臂<br><img src="https://photo.lyh.best/2021/03/06/ecc54d9b8161c.png" alt="image.png"><br>简介：内置逆运动学算法，配备高清晰度摄像头，可搭配语音识别，可完成色块分拣，追踪抓取，智能码垛等功能。<br>特点：结构与实际应用机械臂相似。有配套成熟教程。有图形化控制软件<br>不足：学习难度不适合于中小学生。</li><li>越疆科技：魔术师机械臂<br><img src="https://photo.lyh.best/2021/03/06/267fc3a90cd23.png" alt="image.png"><br>简介：DOBOT Magician Lite 是越疆科技自主研发的多功能轻量型智能机械臂，是越疆面向K12定制化人工智能教育生态的核心产品之一。<br>特点：结构，外观，功能完善度高。应用方式较多。全年龄段教材。<br>不足：成本较高，价格不亲民。不易拆装、扩展性差。</li></ol><h4 id="竞品总结"><a href="#竞品总结" class="headerlink" title="竞品总结"></a>竞品总结</h4><p>普遍价格低廉的机械臂，自由度少，基本只能完成简单动作，实用价值不高，但可以学习了解简单的机械臂结构与控制。<br>售价高的机械臂，结构复杂，功能多，主要学习的是机械臂的控制，对于中小学生性价比偏低，理解难度高。<br>机械臂的设计风格，大部分没有贴近于儿童，吸引力不足。<br>市面上普遍只有单独的机械臂产品，而没有一套系统可以方便中小学生让机械臂与其他机器人通讯并控制，从而完成多机器人协作的任务。</p><h3 id="产品目标"><a href="#产品目标" class="headerlink" title="产品目标"></a>产品目标</h3><p>归纳总结出自动化工厂常用的几类工业机器人，并根据目标儿童进行简化设计，设计出可以复现一种或几种生产线全流程的教具。<br>目标是让孩子在过程中可以学习到机器人的组装，简单控制，机器人间的配合，完成课程提供的任务（以工厂常见产线为参考，例如组装，抛光，检测，分拣等进行简化设计以适合儿童学习使用）。<br>设计指标：</p><ol><li>可扩展性强，生产线教具中的组件最好可以复用在不同位置。</li><li>学习难度合理，由浅至深，从易到难，可以从简单的流水线到复杂的流水线。</li><li>场景符合现实，以实际例子作为教学，能够让孩子代入到现实场景。</li></ol><h2 id="总体设计"><a href="#总体设计" class="headerlink" title="总体设计"></a>总体设计</h2><h3 id="设计方案概述"><a href="#设计方案概述" class="headerlink" title="设计方案概述"></a>设计方案概述</h3><p>根据以上的需求与功能分析，我们设计出如下图3.1所示的STEAM机械臂教具概念图。该方案的硬件主要由机械臂、传送带、控制器和传感器组成。机械臂由多个可拆卸的关节组成，控制器为Arduino Uno开发板，传感器有超声波传感器。<br>学生可以通过可视化编程的方式把控制代码烧录到Arduino Uno开发板中，以此来控制机械臂进行相关的实验。<br><img src="https://photo.lyh.best/2021/02/26/9152a5e7799a6.png" alt="STEAM机械臂教具概念图" width="50%" height="50%"><br><img src="https://photo.lyh.best/2021/02/26/5a9a646e036a9.png" alt="STEAM教具实际效果图" width="50%" height="50%"></p><h3 id="机械臂结构设计"><a href="#机械臂结构设计" class="headerlink" title="机械臂结构设计"></a>机械臂结构设计</h3><h4 id="机械臂方案一"><a href="#机械臂方案一" class="headerlink" title="机械臂方案一"></a>机械臂方案一</h4><p>在项目初期，我们组内的两名成员提出两套机械臂方案，下图3.3为第一个机械臂的方案，图3.4为该机械臂拆卸后的模块图。该机械臂由三个模块组成，在图3.4中从左到右分别为末端工具、机械臂、机械臂底座。该方案的优点是美观、有一体化感、机械臂重心稳定且靠下，缺点是扩展性差，难以让学生基于机械臂创新。</p><table><tr><td><img src="https://photo.lyh.best/2021/02/26/0ad543b84fa8b.png" alt="图3.3 机械臂方案一概念图" title="image.png" /></td><td><img src="https://photo.lyh.best/2021/02/26/dd5f759e503de.png" alt="图3.4 方案一模块图" title="image.png" /></td></tr></table><h4 id="机械臂方案二"><a href="#机械臂方案二" class="headerlink" title="机械臂方案二"></a>机械臂方案二</h4><p>下图3.4为机械臂方案二概念图，该方案主要由底座和多个关节（下图3.5）组成，主要的连接方式是卡扣连接。该方案的优点是扩展性强，易于拆装。缺点是关节越多，重心越不稳定。</p><table><tr><td><img src="https://photo.lyh.best/2021/02/26/6a1ea81ccbc81.png" alt="图3.4 机械臂二概念图" title="image.png" /></td><td><img src="https://photo.lyh.best/2021/02/26/0abc00cac898a.png" alt=" 图3.5 关节模块" title="image.png" /></td><td><img src="https://photo.lyh.best/2021/02/26/63d6692d5cda6.png" alt=" 图3.6 机械臂渲染图" title="image.png" /></td></tr></table><h4 id="机械臂方案的选择"><a href="#机械臂方案的选择" class="headerlink" title="机械臂方案的选择"></a>机械臂方案的选择</h4><p>两个机械臂方案各有优劣，我们组内也很难达成共识，因此我们决定寻找有经验的STEAM老师给我们提供建议。某STEAM公司的老师在这两个方案中，更推荐方案二，原因如下：该方案扩展性强，可以让学生充分发挥他们的想象力，不稳定性也可以让学生学得更多额外知识。</p><h4 id="机械臂方案二的细节补充设计"><a href="#机械臂方案二的细节补充设计" class="headerlink" title="机械臂方案二的细节补充设计"></a>机械臂方案二的细节补充设计</h4><p>在确定了整体方案后，我们对该方案进行了细化，对各个地方的细节进行了补充设计。<br>机械臂关节部分采用模块化设计，每一个关节为单独一个模块，模块之间通过卡扣连接，不需要螺丝固定，可以快速的将整个机械臂组装以满足课程需求。在卡扣上，我们借鉴了常用的卡扣设计（下图3.7）。<br><img src="https://photo.lyh.best/2021/02/26/1bbd7fbceba85.png" alt="图3.7 市面上常用的卡扣设计" title="image.png" /><br>在卡扣的结构设计上，进行了多次迭代，主要体现在卡扣的厚度，长度以及按钮的结构上，最终的设计通过反向延伸提高了卡扣的整体长度，在按钮部分，增加了凸起，使得卡扣在按压时，更易按如卡口，使其脱出。卡扣顶部的斜角，以及卡口处开的可以使卡扣在插入时更加简单轻松。</p><table><tr><td><img src="https://photo.lyh.best/2021/02/26/036f08c1bf758.png" alt="图3.8 卡扣母口设计图 " title="image.png" /></td><td><img src="https://photo.lyh.best/2021/02/26/86fe7023a9d35.png" alt="图3.9 卡扣公口设计图" title="image.png" /></td></tr></table>如上图3.8和图3.9，接口处的滑槽接口具有防呆的功能，防止POGOPIN反插，导致内部线路问题，并且还能为关节间的连接提供更多接触面积，以此提高整体的结构的稳定性。<img src="https://photo.lyh.best/2021/02/27/b03c77164f327.png" alt="图 3.10 机械臂方案设计图" title="image.png" /><h3 id="传送带设计"><a href="#传送带设计" class="headerlink" title="传送带设计"></a>传送带设计</h3><p>传送带采用常规设计，传送带的传送距离为610mm,满足机械臂放在一侧工作的工作空间，除与舵机相连处为一个主动滚筒外，末端采用无动力滚筒，减少对轴承的使用，装配更为简单，对装配精度要求也更低，中间部分也采用无动力滚筒对传送带起支撑作用，使得整个传送带可以传送物体的重量有所提升。同时传送带利用在末端无动力滚筒装配在一个直槽口上，并在张紧传送带后利用螺栓进行限位，由此达到将传送带张紧的作用。同时传送带的材质采用橡胶弹性传送带，自身具备一定的张紧作用，由此来让传送带在正常工作状态下不发生弹性滑动。</p><table><tr><td><img src="https://photo.lyh.best/2021/02/27/6067929c50a01.png" alt="图3.11 传动带整体机械结构 " title="image.png" /></td><td><img src="https://photo.lyh.best/2021/02/27/37e3bb1effd97.png" alt="图3.12 张紧作用的直槽口" title="image.png" /></td></tr></table><h3 id="控制器与执行器的选型"><a href="#控制器与执行器的选型" class="headerlink" title="控制器与执行器的选型"></a>控制器与执行器的选型</h3><h4 id="控制器选型"><a href="#控制器选型" class="headerlink" title="控制器选型"></a>控制器选型</h4><p>在控制器上，常用的小型控制器有：STM32系列单片机、51单片机、Arduino单片机。我们选用ArduinoUno作为开发板，因为其控制语言简单，学习成本低，更重要的是慧编程（可视化编程平台）兼容该开发板。</p><h4 id="电机选型"><a href="#电机选型" class="headerlink" title="电机选型"></a>电机选型</h4><p>在电机上，我们选用LX-225舵机（下图3.13）。这款舵机支持串行总线控制，在控制时，只需要将各个电机设置独一的ID号，然后串联起来，就可以实现各个电机的单独控制，可以简化控制方法和接线。这款LX-225舵机舵机还支持读取舵机角度的功能，这个功能可以很方便地实现机械臂的示教。在示教的时候，只需要将机械臂挪动到想要的位置，读取各个舵机的角度，然后在后续的控制中即可使用读取的角度。<br>而这款LX-225舵机，不仅可以作为舵机，还可以作为普通的减速电机一样360°连续转动，因而支持对传送带的控制。因此，我们不仅可以把舵机用在机械臂上，也将其作为传送带的驱动端。<br>“用同一个执行器，在不同的执行机构上使用”是我们的设计思路之一，这个设计思路是为了能够让学生在短时间内理解一个执行端并且能够活用它，同时也容易满足扩展性这一点。<br><img src="https://photo.lyh.best/2021/02/27/426807a02b66f.png" alt="图3.13 LX-225舵机" title="image.png" /></p><h4 id="传感器选型"><a href="#传感器选型" class="headerlink" title="传感器选型"></a>传感器选型</h4><p>在我们预设的方案中，需要有检测模块，用以检测有无障碍物。检测模块有两种传感器可以实现：光电门传感器和超声波传感器。光电门传感器可以识别到是否有物体经过，而超声波传感器可以识别到障碍物距离传感器有多远。两种传感器都可以完成检测障碍物的功能，但是基于长远考虑，后续可以用超声波传感器来做测距模块，扩展新的功能，因此我们最终选定超声波传感器作为检测模块。<br><img src="https://photo.lyh.best/2021/02/27/e41a9830672fa.png" alt="image.png" title="image.png" /></p><h3 id="硬件框图"><a href="#硬件框图" class="headerlink" title="硬件框图"></a>硬件框图</h3><img src="https://photo.lyh.best/2021/02/27/d65761a4dc9bc.png" alt="image.png" title="image.png" /><h4 id="连接端的选择"><a href="#连接端的选择" class="headerlink" title="连接端的选择"></a>连接端的选择</h4><p>我们初步选择使用pogopin类型的端口（如下图），这种端口容易对位，不易出错。使用这种端口可以免去学生接线的烦恼，释放起接线的时间，让其有更多的时间学习STEAM的课程。实物模型如下图。<br><img src="https://photo.lyh.best/2021/02/27/e41a9830672fa.png" alt="图5.3.1pogopin模型" title="image.png" /><br><img src="https://photo.lyh.best/2021/02/27/cd496bf9fcf90.png" alt="图5.3.2实物连接端" title="image.png" /></p><h4 id="三轴机械臂可视化仿真"><a href="#三轴机械臂可视化仿真" class="headerlink" title="三轴机械臂可视化仿真"></a>三轴机械臂可视化仿真</h4><p>使用python的vtk库，实现机械臂的可视化模型，以及可通过滑块调整和按键微调来控制各个旋转关节，来达到想要的位姿。<br>此功能可辅助老师上课，用来展现机械臂的位姿和相关极限位姿等其他问题。<br><img src="https://photo.lyh.best/2021/02/27/f01348bcf4fb6.png" alt="image.png" title="image.png" /><br><img src="https://photo.lyh.best/2021/02/27/8b5218e3a5e13.png" alt="image.png" title="image.png" /></p><h4 id="python图形化示教"><a href="#python图形化示教" class="headerlink" title="python图形化示教"></a>python图形化示教</h4><p>使用python的easygui库，制作读取控制舵机状态的界面，并通过python的serial库建立串口通讯，发送指定的通讯指令。<br>此功能可读取各个舵机位置进行记录，在转动机械臂各关节后按移动按钮返回到记录的位置，以及对每个舵机进行上电和掉电操作。<br>通过“读取”, “移动”,“上电”,“掉电”。<br>按下“上电”、“掉电”按钮，对所有舵机统一发送上电、掉电的指令。<br>按下“读取”则读取每个不同id的舵机分别处于哪个位置并记录下来。<br>在掉电后转动机械臂，可通过按下“上电”和“移动”，使每个舵机返回到原来记录好的位置。<br><img src="https://photo.lyh.best/2021/03/06/4ae73d4f75464.png" alt="image.png"><br><img src="https://photo.lyh.best/2021/03/06/879ab76e9f335.png" alt="image.png"><br><img src="https://photo.lyh.best/2021/03/06/28a9782edf1d0.png" alt="image.png"><br>完成程序编写后通过python的pyinstaller库将.py文件打包成.exe文件。</p><h2 id="课程设计"><a href="#课程设计" class="headerlink" title="课程设计"></a>课程设计</h2><h3 id="整体课程"><a href="#整体课程" class="headerlink" title="整体课程"></a>整体课程</h3><p>常见工业流水线按机械化程度分类，可以分为三类：手工流水线、机械化流水线和自动化流水线；如果按产品的轮换方式分类，可以分为三类：可变流水线、成组流水线和混合流水线。<br>可变流水线：集中轮番地生产固定在流水线上的几个对象，当某一制品的批量制造任务完成后，相应地调整设备和工艺装备，然后再开始另一种制品的生产。<br>成组流水线：固定在流水线上的几种制品不是成批轮番地生产，而是在一定时间内同时或顺序地进行生产，在变换品种时基本上不需要重新调整设备和工艺装备。<br>混合流水线：是在流水线上同时生产多个品种，各品种均匀混合流送，组织相间性的投产。一般多用于装配阶段生产。<br>进一步筛选出易于结合Steam教育的相关流水线，最后挑选出用于模拟的工业流水线场景包括五类：<br>码垛流水线、包装流水线（装箱）、组装流水线（凹凸块）、印刷流水线（贴纸，盖章）、检测流水线<br>而且课程通过利用本套STEAM教育机器人可以抽象出工业流水线的五个操作流程步骤：检测、抓取、加工、移动、堆放。根据目标儿童进行简化设计，设计出可以复现以上生产线全流程的教具。帮助儿童更快了解各类产品自动化生产线，包括其中的每种工序以及相关的机器人如何应用，以及机器人之间如何配合。</p><ol><li>检测环节：<br>低年级同学在课程中仅仅简单利用传感器进行检测物体。<br>高年级的同学在进阶课程中则需要利用多种复杂的传感器甚至是人工智能中的计算机视觉技术。传感器包括了使用限位开关来确定位置，使用光电门进行计数，使用超声波进行障碍距离测量，利用颜色传感器进行颜色识别。计算机视觉技术则需要配合使用摄像头，结合视觉识别完成运输物体的分类，计数，筛选工作。</li><li>抓取环节<br>通过一款机械臂完成相应的抓取过程，其中机械臂经过专门设计，是一款容易拆卸装配的产品，它的夹具根据不同抓取物可随时更换。<br>低年级学生通过图形化编程语言，完成相关机械臂抓取位置的语言编程，进而完成抓取。<br>高年级学生使用ardunio单片机自主完成编程设计，同时根据项目需要选取初始点位和结束点位，手动拖动机器人到达对应位置，自主完成对机械臂的示教。示教过后，机器人可以达到相应位置抓取。</li><li>加工环节<br>利用教学材料中的配套材料及工件，完成相关流水线加工的模拟。为了起到良好的STEAM教育效果，激发学生的学习热情及学习兴趣，配套材料需要尽量仿真，模拟真实场景。如包装流水线涉及的打包，封箱动作，可以通过进行贴纸或盖章完成印刷流水线的模拟。</li><li>移动环节<br>应用于对工业流水线货物的运输，移动环节存在的原因是由于离散型搬运过程都是周期性的。因此在离散型搬运进行上下游衔接时，通常会在两者之间设置一个传送带或是可移动小车来进行货物移动传送，来解决衔接效率问题。<br>低年级学生通过控制小型的流水线的运行和停止，操作流水线完成相应的货品运输动作。高年级学生的进阶课程可以使用循迹单片机小车，模拟完成相关货品物流仓储工作，以此来类比工业移动搬运机器人（AGV小车）。</li><li>堆放环节<br>物料单元将从一个物流设备上被输送或者装在到另外一个物流设备上，以此类推，直到物料单元被传递到目的地；而在目的地处，就是要完成货物堆放环节，等到下次再次触发这个物料单元移动时，物料单元会再从一个物流设备被传递到下一个任务的目的地。<br>低年级学生简单地通过一款多自由度的机械臂完成相应的定点堆放工作。<br>而高年级学生则需要针对性根据实际位置的空间体积，结合堆放顺序的算法，立体地完成空间码垛堆放。</li></ol><h3 id="教学环节"><a href="#教学环节" class="headerlink" title="教学环节"></a>教学环节</h3><p>我们的教学环节包括了以下五部分；课前学习、课堂实践、展示分享、评价反思、课后主题项目设计。教学目标为培养学生解决问题、推理、判断、决策的能力。培养学生多学科环境下工作的能力，工作的责任心和组织能力，以及终生学习的能力，团队合作的效率。</p><h4 id="课前学习"><a href="#课前学习" class="headerlink" title="课前学习"></a>课前学习</h4><p>学生需要在正式上课前对涉及到的项目模块概念进行简单的预习，以便学生快速接受相关知识。首先针对机械臂模块，主要了解三个知识点：一、理解机器人自由度的概念。二、理解如何组装各个关节。三、理解如何对机械臂模块进行控制。<br>其次针对传送带模块，主要了解两个知识点：一、了解传送带的常见场景及应用。二、理解如何对传送带进行控制。最后针对传感器模块，主要了解两个知识点：一、各种不同类型的传感器的简介。二、了解如何使用驱动传感器。</p><h4 id="课堂实践"><a href="#课堂实践" class="headerlink" title="课堂实践"></a>课堂实践</h4><p>课堂实践的关键任务是动手搭建生产线。学生们一共可以选择五种类型的工业流水线，并从中学习到不同的知识。检测生产线、包装生产线、组装生产线、印刷生产线、码垛生产线。<br>检测生产线的搭建：学生主要任务为：一、通过传感器分辨两种颜色的方块。二、通过机械臂完成方块的抓取。成功标准为：学生能够自主地将混合在固定区域的堆积方块分拣区分。通过完成检测生产线的搭建，学生从中能够学习到传感器与机械臂的协同工作，理解传感与效益的关系。<br>包装生产线的搭建：学生主要任务为：一、通过机器人将物体准确地放进包装箱子中。二、通过机器人完成包装箱子的封盖。成功标准为：学生能够自主地利用两个机械臂完成包装流程中的装箱和封盖步骤。通过完成包装生产线的搭建，学生从中能够学习到机械臂的运动方式，理解空间中的坐标系及坐标定位，进而感受到自动化的便利性。<br>组装生产线的搭建：学生主要任务为：一、在静止或运动的传送带上进行抓取积木。二、能够让两个机械臂同步或异步工作。成功标准为：学生能够自主地将两块需要上下组装的积木拼凑完整。通过完成组装生产线的搭建，学生从中能够学习到工厂中是如何将单一复杂工作拆分给不同的单位完成，提高生产效率。同时锻炼学生的全局观、工程管理能力。</p><p>印刷生产线的搭建：学生主要任务为：一、使用机械臂在纸上写出一个英文字母。二、通过控制机械臂进行自动盖章。成功标准为：学生能够自主在固定区域绘画出简单图案。通过完成印刷生产线的搭建，学生从中能够学习如何将机械与艺术进行结合。同时极大地锻炼了学生的空间思维和想象能力。<br>码垛生产线的搭建：学生主要任务为：一、通过机械臂将两个方块叠放在一起。二、结合检测流水线，码出两种颜色的块堆。成功标准为：学生能够自主地堆砌出二乘二的正方形码垛。通过完成码垛生产线的搭建，学生从中能够学习到如何对机械臂的运动路径进行优化，进而锻炼对项目的优化迭代能力。</p><h4 id="展示分享"><a href="#展示分享" class="headerlink" title="展示分享"></a>展示分享</h4><p>学生完成工业流水线的搭建后，各学生小组分别介绍本小组的设计方案，同时提出在制作过程中遇到的问题，以及如何进行解决的？还包括学生团队合作的分工、沟通。与此同时，教师将对具体搭建的工业流水线讲解，包括涉及到的专业知识及应用的原理。最后回答学生的提问和纠正错误。</p><h4 id="评价反思"><a href="#评价反思" class="headerlink" title="评价反思"></a>评价反思</h4><p>学生需要对自己搭建的流水线完成评价，给出分数。评价内容包括机器人基本运转，具体功能的实现，完成时间等。<br>同时要求学生对过程中出现的问题进行反思，规划下一次学习课程的改进。</p><h4 id="课后主题项目设计"><a href="#课后主题项目设计" class="headerlink" title="课后主题项目设计"></a>课后主题项目设计</h4><p>最后在课后环节，学生需要在规定时间内小组合作完成主题项目设计。学生们可以从以下两种类型的主题挑选，分别是模拟汽车生产线、模拟智能仓储物流水线。通过自主完成主题项目的设计课程作业，学生能够综合提升编程能力、动手能力、系统逻辑性思维。下图为模拟汽车生产线的样板地图。<br><img src="https://photo.lyh.best/2021/03/06/ba097a31c91e6.png" alt="image.png"></p><h2 id="实物测试"><a href="#实物测试" class="headerlink" title="实物测试"></a>实物测试</h2><h3 id="实物展示"><a href="#实物展示" class="headerlink" title="实物展示"></a>实物展示</h3><p>此次最终制作出的成品包括了一条传送带，两台机械臂以及流水线运输的物体玩具小车模型如下图所示。<br><img src="https://photo.lyh.best/2021/02/27/4631abdeed885.png" alt="图8.1.1项目实物图" title="image.png" /><br><img src="https://photo.lyh.best/2021/02/27/221cdca3f39c9.png" alt="图8.1.2三轴机械臂" title="image.png" /><br><img src="https://photo.lyh.best/2021/02/27/3d7061b018fc1.png" alt="图8.1.3四轴机械臂" title="image.png" /></p><h3 id="缺点改进"><a href="#缺点改进" class="headerlink" title="缺点改进"></a>缺点改进</h3><p>关于机械臂部分，存在部分缺点如下：一、用于机械臂打印的3d材料为快速成型光固化树脂，该材料在冬天较冷温度，存在易于断裂现象，导致我们组装时损耗了两个关节零件。二、相关的螺丝定位孔在设计初的位置和大小存在偏差问题。导致组装工作较为麻烦，但此问题已经在第二套机械臂的设计中改进。<br>关于传送带部分，存在部分缺点如下：一、传送带的重量和体积较设计预想的偏差大，导致可移动性和可便携性降低。成本因为体积的增大也相应增加。二、传送带的轴承安装问题。因为传送带的主动轴为舵机驱动所在的轴承，因为舵机的带动，部分情况下会出现偏轴现象，导致传送带运动略微卡顿，无法保证顺畅的效果。</p><h2 id="研究总结及展望"><a href="#研究总结及展望" class="headerlink" title="研究总结及展望"></a>研究总结及展望</h2><h3 id="项目创新点"><a href="#项目创新点" class="headerlink" title="项目创新点"></a>项目创新点</h3><h4 id="细分定位"><a href="#细分定位" class="headerlink" title="细分定位"></a>细分定位</h4><p>目前许多教育用的机器人教具都是基于单个且正在被广泛应用的机器人所设计的，例如四足机器人，轮式机器人等。但缺乏一套教具可以帮助儿童快速了解与学习多机器人配合原理。更重要的是，在智能制造的大环境下，工厂流水线中机器人的应用逐渐普及，但相关的针对学生侧的工业教育却并未衔接上。<br>此次项目正是精准的弥补了市场刚需，抓住细分定位。通过此项目的工业流水线模拟机器人，高低年级学生能够首次接触到工厂中的自动化流水线概念，并从中学习到工厂流水线上多种工序如何衔接，哪种机器人可以完成哪种工序，多个机器人如何配合，什么情况用哪种传感器比较好等。通过此项学习，能够极大地提高了学生独立思考、分析问题、解决问题的能力。</p><h4 id="多关节组装"><a href="#多关节组装" class="headerlink" title="多关节组装"></a>多关节组装</h4><p>此项目的机械臂为特殊设计的3D打印卡口关节，机械臂的关节可连续组合。因而机械臂具备极强的拓展性，可装配成为三轴、四轴、五轴、甚至到六轴的机械臂。随着机器人关节轴数的增加，学习和控制难度也依次递增，因此通过不同的组装，可以梯度设置课程的难易程度，方便对应不同年龄段，不同教育水平的学生群体。<br>此外各关节之间无需通过螺丝固定，仅需要对准卡扣插入，在保持一定精准程度的装配下，降低了组装难度，而且较好地提高课程效率。</p><h4 id="成本低廉"><a href="#成本低廉" class="headerlink" title="成本低廉"></a>成本低廉</h4><p>此项目中使用了3D打印技术，通过光固化树脂材料来制作机械臂本体。相关的机械底座和固定件也都是使用3D打印技术完成，因此比使用金属结构的成本大幅降低。同时，重量在满足功能前提下，保证了尽可能轻，以便上课时移动。整体教育机器人的体积在桌面级左右，较小的体积也降低了成本。</p><h3 id="未来展望"><a href="#未来展望" class="headerlink" title="未来展望"></a>未来展望</h3><p>涉及到教育行业的重要环节是线下教育课程的配套材料，因为项目规模及时间原因，没有对相关的课程材料进行开发与制作。对应此次的工业流水线教育机器人，未来应该在实际课程中进行配套的课程材料包括有以下四类：</p><ol><li>安装配件工具</li><li>相关传感器及电路元件</li><li>教学辅导册</li><li>机器人原理说明书<br>只有在教导学生之前完成了相关材料的准备，才能良好地开展真正的STEAM教育课程，因此如果要大范围地进行推广，必须先预先完成学生课程材料的准备。</li></ol><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p>[1] 刘德建，黄荣怀，陈年兴，樊磊著.教育机器人的风口-全球发展现状及趋势[M].人民邮电出版社，2016.<br>[2]孟雪，面向STEM的机器人教学模式设计与实践研究[D]，云南，云南师范大学，2019.<br>[3] （美）Micbael Margolis著，Arduino权威指南[M]，人民邮电出版社，2015.<br>[4] 费燕琼,万见峰,赵锡芳,徐卫良.基于运动学任务的模块机器人选形设计[J].机器人 .1999<br>[5]蒋新松，主编. 机器人学［M］. 北京：清华大学出版社，2000<br>[6]蔡自兴. 机器人学［M］. 北京：清华大学出版社，2000</p>]]></content>
    
    
    <summary type="html">为STEAM教育机构设计的一款教学用具</summary>
    
    
    
    <category term="机器人学院" scheme="https://hexo.lyh.best/categories/%E6%9C%BA%E5%99%A8%E4%BA%BA%E5%AD%A6%E9%99%A2/"/>
    
    
    <category term="机器人" scheme="https://hexo.lyh.best/tags/%E6%9C%BA%E5%99%A8%E4%BA%BA/"/>
    
    <category term="STEAM" scheme="https://hexo.lyh.best/tags/STEAM/"/>
    
    <category term="单片机" scheme="https://hexo.lyh.best/tags/%E5%8D%95%E7%89%87%E6%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title>串行总线舵机</title>
    <link href="https://hexo.lyh.best/20210115/%E4%B8%B2%E8%A1%8C%E6%80%BB%E7%BA%BF%E8%88%B5%E6%9C%BA/"/>
    <id>https://hexo.lyh.best/20210115/%E4%B8%B2%E8%A1%8C%E6%80%BB%E7%BA%BF%E8%88%B5%E6%9C%BA/</id>
    <published>2021-01-15T15:27:29.000Z</published>
    <updated>2023-10-29T14:51:50.491Z</updated>
    
    <content type="html"><![CDATA[<h3 id="设置舵机-ID"><a href="#设置舵机-ID" class="headerlink" title="设置舵机 ID"></a>设置舵机 ID</h3><p><a href="https://store.hiwonder.com/2020/06/16/Bus%20Servo%20Terminal%20V1.7.exe">Bus Servo Terminal</a> 幻尔总线舵机调试系统，用于设置每个舵机的 ID。</p><h3 id="通信及-GUI"><a href="#通信及-GUI" class="headerlink" title="通信及 GUI"></a>通信及 GUI</h3><p>别问我为什么明明之前深度学习那课设还用 PyQt 现在却用 EasyGui 这样老又不再更新的东西，问就是懒……<br>通过查阅购买产品后提供的<a href="https://hexo.lyh.best/pdf/%E4%B8%B2%E8%A1%8C%E6%80%BB%E7%BA%BF%E8%88%B5%E6%9C%BA/%E5%B9%BB%E5%B0%94%E7%A7%91%E6%8A%80%E6%80%BB%E7%BA%BF%E8%88%B5%E6%9C%BA%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE.pdf">幻尔科技总线舵机通信协议</a>，编写与舵机的通信命令以及图形化界面。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> easygui</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> serial</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment">##命令发送</span></span><br><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">servoWriteCmd</span>(<span class="params"><span class="built_in">id</span>, cmd, par1 = <span class="literal">None</span>, par2 = <span class="literal">None</span></span>):</span></span><br><span class="line">    buf = <span class="built_in">bytearray</span>(<span class="string">b&#x27;\x55\x55&#x27;</span>)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="built_in">len</span> = <span class="number">3</span>   <span class="comment">#若命令是没有参数的话数据长度就是3</span></span><br><span class="line">        buf1 = <span class="built_in">bytearray</span>(<span class="string">b&#x27;&#x27;</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment">## 对参数进行处理</span></span><br><span class="line">        <span class="keyword">if</span> par1 <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            <span class="built_in">len</span> += <span class="number">2</span>  <span class="comment">#数据长度加2</span></span><br><span class="line">            par1 = <span class="number">0xffff</span> &amp; par1</span><br><span class="line">            buf1.extend([(<span class="number">0xff</span> &amp; par1), (<span class="number">0xff</span> &amp; (par1 &gt;&gt; <span class="number">8</span>))])  <span class="comment">#分低8位 高8位 放入缓存</span></span><br><span class="line">        <span class="keyword">if</span> par2 <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            <span class="built_in">len</span> += <span class="number">2</span></span><br><span class="line">            par2 = <span class="number">0xffff</span> &amp; par2</span><br><span class="line">            buf1.extend([(<span class="number">0xff</span> &amp; par2), (<span class="number">0xff</span> &amp; (par2 &gt;&gt; <span class="number">8</span>))])  <span class="comment">#分低8位 高8位 放入缓存</span></span><br><span class="line">    </span><br><span class="line">        buf.extend([(<span class="number">0xff</span> &amp; <span class="built_in">id</span>), (<span class="number">0xff</span> &amp; <span class="built_in">len</span>), (<span class="number">0xff</span> &amp; cmd)]) <span class="comment">#追加 id， 数据长度， 命令</span></span><br><span class="line">        buf.extend(buf1) <span class="comment">#追加参数</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">##计算校验和</span></span><br><span class="line">        <span class="built_in">sum</span> = <span class="number">0x00</span></span><br><span class="line">        <span class="keyword">for</span> b <span class="keyword">in</span> buf: <span class="comment">#求和</span></span><br><span class="line">            <span class="built_in">sum</span> += b</span><br><span class="line">        <span class="built_in">sum</span> = <span class="built_in">sum</span> - <span class="number">0x55</span> - <span class="number">0x55</span>  <span class="comment">#去掉命令开头的两个 0x55</span></span><br><span class="line">        <span class="built_in">sum</span> = ~<span class="built_in">sum</span>  <span class="comment">#取反</span></span><br><span class="line">        buf.append(<span class="number">0xff</span> &amp; <span class="built_in">sum</span>)  <span class="comment">#取低8位追加进缓存</span></span><br><span class="line">        </span><br><span class="line">        serialHandle.write(buf) <span class="comment">#发送</span></span><br><span class="line">        </span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        print(e)</span><br><span class="line"></span><br><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment">##读取位置</span></span><br><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">readPosition</span>(<span class="params"><span class="built_in">id</span></span>):</span></span><br><span class="line">    <span class="comment">#portWrite() #将单线串口配置为输出</span></span><br><span class="line">    serialHandle.flushInput() <span class="comment">#清空接收缓存</span></span><br><span class="line">    servoWriteCmd(<span class="built_in">id</span>, command[<span class="string">&quot;POS_READ&quot;</span>]) <span class="comment">#发送读取位置命令</span></span><br><span class="line">    time.sleep(<span class="number">0.00034</span>)  <span class="comment">#小延时，等命令发送完毕。不知道是否能进行这么精确的延时的，但是修改这个值的确实会产生影响。</span></span><br><span class="line">                         <span class="comment">#实验测试调到这个值的时候效果最好</span></span><br><span class="line">    <span class="comment">#portRead() #将单线串口配置为输入</span></span><br><span class="line">    time.sleep(<span class="number">0.005</span>)  <span class="comment">#稍作延时，等待接收完毕</span></span><br><span class="line">    count = serialHandle.inWaiting() <span class="comment">#获取接收缓存中的字节数</span></span><br><span class="line">    pos = <span class="literal">None</span></span><br><span class="line">    <span class="keyword">if</span> count != <span class="number">0</span>: <span class="comment">#如果接收到的数据不空</span></span><br><span class="line">        recv_data = serialHandle.read(count) <span class="comment">#读取接收到的数据</span></span><br><span class="line">        <span class="keyword">if</span> count == <span class="number">8</span>: <span class="comment">#如果接收到的数据是8个字节（符合位置读取命令的返回数据的长度）</span></span><br><span class="line">            <span class="keyword">if</span> recv_data[<span class="number">0</span>] == <span class="number">0x55</span> <span class="keyword">and</span> recv_data[<span class="number">1</span>] == <span class="number">0x55</span> <span class="keyword">and</span> recv_data[<span class="number">4</span>] == <span class="number">0x1C</span> :</span><br><span class="line">                <span class="comment">#第一第二个字节等于0x55, 第5个字节是0x1C 就是 28 就是 位置读取命令的命令号</span></span><br><span class="line">                 pos= <span class="number">0xffff</span> &amp; (recv_data[<span class="number">5</span>] | (<span class="number">0xff00</span> &amp; (recv_data[<span class="number">6</span>] &lt;&lt; <span class="number">8</span>))) <span class="comment">#将接收到的字节数据拼接成完整的位置数据</span></span><br><span class="line">                 <span class="comment">#上面这小段代码我们简化了操作没有进行和校验，只要帧头和命令对了就认为数据无误</span></span><br><span class="line">                 </span><br><span class="line">    <span class="keyword">return</span> pos  <span class="comment">#返回读取到的位置</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">portx = <span class="string">&quot;COM5&quot;</span></span><br><span class="line">bps = <span class="number">115200</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 超时设置，None：永远等待操作；</span></span><br><span class="line"><span class="comment">#         0：立即返回请求结果；</span></span><br><span class="line"><span class="comment">#        其他：等待超时时间（单位为秒）</span></span><br><span class="line">timex = <span class="literal">None</span></span><br><span class="line">serialHandle = serial.Serial(portx, bps, timeout=timex)</span><br><span class="line">command = &#123;<span class="string">&quot;MOVE_WRITE&quot;</span>: <span class="number">1</span>, <span class="string">&quot;POS_READ&quot;</span>: <span class="number">28</span>, <span class="string">&quot;LOAD_UNLOAD_WRITE&quot;</span>: <span class="number">31</span>&#125;</span><br><span class="line"></span><br><span class="line">pos = []</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line"></span><br><span class="line">    msg = <span class="string">&quot;舵机状态&quot;</span></span><br><span class="line">    title = <span class="string">&quot;机械臂&quot;</span></span><br><span class="line">    choice = easygui.indexbox(msg, title, choices=(<span class="string">&#x27;读取&#x27;</span>, <span class="string">&#x27;移动&#x27;</span>,<span class="string">&#x27;上电&#x27;</span>,<span class="string">&#x27;掉电&#x27;</span>))</span><br><span class="line">    duoji = [<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">id</span> <span class="keyword">in</span> duoji:</span><br><span class="line">        servoWriteCmd(<span class="built_in">id</span>, command[<span class="string">&quot;LOAD_UNLOAD_WRITE&quot;</span>], <span class="number">0</span>)  <span class="comment"># 命令马达掉点，使舵机可以用手扭动</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">str</span>(choice) == <span class="string">&#x27;0&#x27;</span>:</span><br><span class="line">        pos = []</span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        for id in duoji:</span></span><br><span class="line"><span class="string">            pos.append(readPosition(id))</span></span><br><span class="line"><span class="string">            # easygui.msgbox(&quot;舵机位置为：&quot; + str(readPosition(id)))  # readPosition(id)读取位置</span></span><br><span class="line"><span class="string">            servoWriteCmd(id, command[&quot;LOAD_UNLOAD_WRITE&quot;], 0)  # 命令马达掉电，使舵机可以用手扭动</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        pos.append(readPosition(<span class="number">1</span>))</span><br><span class="line">        pos.append(readPosition(<span class="number">2</span>))</span><br><span class="line">        pos.append(readPosition(<span class="number">3</span>))</span><br><span class="line">        pos.append(readPosition(<span class="number">4</span>))</span><br><span class="line">        easygui.msgbox(<span class="string">&quot;舵机1状态为：&quot;</span>+<span class="built_in">str</span>(readPosition(<span class="number">1</span>))+<span class="string">&quot;\n舵机2状态为：&quot;</span>+<span class="built_in">str</span>(readPosition(<span class="number">2</span>))+<span class="string">&quot;\n舵机3状态为：&quot;</span>+<span class="built_in">str</span>(readPosition(<span class="number">3</span>))+<span class="string">&quot;\n舵机4状态为：&quot;</span>+<span class="built_in">str</span>(readPosition(<span class="number">4</span>)),<span class="string">&quot;结果&quot;</span>)  <span class="comment">#readPosition(id)读取位置</span></span><br><span class="line">    <span class="keyword">elif</span> <span class="built_in">str</span>(choice) == <span class="string">&#x27;1&#x27;</span>:</span><br><span class="line">        <span class="keyword">for</span> id_index <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(duoji)):</span><br><span class="line">            <span class="built_in">id</span> = duoji[id_index]</span><br><span class="line">            servoWriteCmd(<span class="built_in">id</span>, command[<span class="string">&quot;MOVE_WRITE&quot;</span>], pos[id_index], <span class="number">200</span>)  <span class="comment"># 移动的代码</span></span><br><span class="line">        easygui.msgbox(<span class="string">&quot;正在移动&quot;</span>)</span><br><span class="line">    <span class="keyword">elif</span> <span class="built_in">str</span>(choice)==<span class="string">&#x27;2&#x27;</span>:</span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">id</span> <span class="keyword">in</span> duoji:</span><br><span class="line">            servoWriteCmd(<span class="built_in">id</span>, command[<span class="string">&quot;LOAD_UNLOAD_WRITE&quot;</span>], <span class="number">1</span>) <span class="comment">#发送写入上电命令</span></span><br><span class="line">    <span class="keyword">elif</span> <span class="built_in">str</span>(choice)==<span class="string">&#x27;3&#x27;</span>:</span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">id</span> <span class="keyword">in</span> duoji:</span><br><span class="line">            servoWriteCmd(<span class="built_in">id</span>, command[<span class="string">&quot;LOAD_UNLOAD_WRITE&quot;</span>], <span class="number">0</span>) <span class="comment">#发送写入掉电命令</span></span><br><span class="line"></span><br><span class="line">    msg = <span class="string">&quot;你希望重新读取状态？&quot;</span></span><br><span class="line">    title = <span class="string">&quot;请选择&quot;</span></span><br><span class="line">    <span class="keyword">if</span> easygui.ccbox(msg, title):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        sys.exit(<span class="number">0</span>)</span><br></pre></td></tr></table></figure><h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><p><a href="http://easygui.sourceforge.net/tutorial.html">EasyGUI Tutorial</a></p>]]></content>
    
    
    <summary type="html">幻尔串行总线舵机使用经验</summary>
    
    
    
    
    <category term="机器人" scheme="https://hexo.lyh.best/tags/%E6%9C%BA%E5%99%A8%E4%BA%BA/"/>
    
  </entry>
  
  <entry>
    <title>慧编程拓展开发</title>
    <link href="https://hexo.lyh.best/20210106/%E6%85%A7%E7%BC%96%E7%A8%8B%E6%8B%93%E5%B1%95%E5%BC%80%E5%8F%91/"/>
    <id>https://hexo.lyh.best/20210106/%E6%85%A7%E7%BC%96%E7%A8%8B%E6%8B%93%E5%B1%95%E5%BC%80%E5%8F%91/</id>
    <published>2021-01-05T16:44:41.000Z</published>
    <updated>2023-10-29T14:51:50.493Z</updated>
    
    <content type="html"><![CDATA[<p>上次在文章<a href="/20201029/%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%BC%96%E7%A8%8B%E5%B9%B3%E5%8F%B0">图形化编程平台</a>中提到:</p><blockquote><p>慧编程V5（<a href="https://mblock.makeblock.com/zh-cn/%EF%BC%89">https://mblock.makeblock.com/zh-cn/）</a><br>慧编程是一款面向STEAM教育领域的积木式编程和代码编程软件，基于Scratch3.0开发，近400万用户用它创造、学习和分享。它不仅能让用户在软件中创作有趣的故事、游戏、动画等，还能对Makeblock体系、micro：bit等硬件进行编程。<br>特点提炼：<br>1.慧编程V5除了动画创作和游戏制作外，还支持对机器人和开源硬件编程<br>2.配合硬件教学，让课堂教学内容和形式更丰富；<br>3.支持丰富的开源硬件，满足更多课程需求，提高课堂创造效率<br>4.支持一键切换Python和Python输入模式，实现从图形化编程到代码编程的进阶教学<br>5.配套教学资源和课堂管理平台，打造高效课堂<br>6.支持AI和IoT黑科技，可设计各种趣味应用<br>7.即将支持多平台使用，提供流畅的编程教学体验<br>Makeblock慧编程上拓展套件较多，可成为开发者添加拓展。（帮助文档：<a href="http://www.mblock.cc/doc/zh/">http://www.mblock.cc/doc/zh/</a>）</p></blockquote><p>因此我们选用此平台对接 Arduino 控制机械臂用于给用户实现图形化编程界面，我们只需要创建积木，写好积木运行时的 Arduino 控制代码就好。</p><h3 id="机械臂控制示例"><a href="#机械臂控制示例" class="headerlink" title="机械臂控制示例"></a>机械臂控制示例</h3><p>控制舵机 [] 移动到 [] 度。</p><h4 id="填写积木配置"><a href="#填写积木配置" class="headerlink" title="填写积木配置"></a>填写积木配置</h4><p><img src="http://photo.lyh.best/2021/03/17/577456cd94bdc.png" alt="image.png"></p><h4 id="上传转码"><a href="#上传转码" class="headerlink" title="上传转码"></a>上传转码</h4><p>include：<br><code>&lt;SoftwareSerial.h&gt;</code><br>declare:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GET_LOW_BYTE(A) (uint8_t)((A))</span></span><br><span class="line"><span class="comment">//宏函数 获得A的低八位</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GET_HIGH_BYTE(A) (uint8_t)((A) &gt;&gt; 8)</span></span><br><span class="line"><span class="comment">//宏函数 获得A的高八位</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BYTE_TO_HW(A, B) ((((uint16_t)(A)) &lt;&lt; 8) | (uint8_t)(B))</span></span><br><span class="line"><span class="comment">//宏函数 以A为高八位 B为低八位 合并为16位整形</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOBOT_SERVO_FRAME_HEADER         0x55</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOBOT_SERVO_MOVE_TIME_WRITE      1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOBOT_SERVO_MOVE_TIME_READ       2</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOBOT_SERVO_MOVE_TIME_WAIT_WRITE 7</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOBOT_SERVO_MOVE_TIME_WAIT_READ  8</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOBOT_SERVO_MOVE_START           11</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOBOT_SERVO_MOVE_STOP            12</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOBOT_SERVO_ID_WRITE             13</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOBOT_SERVO_ID_READ              14</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOBOT_SERVO_ANGLE_OFFSET_ADJUST  17</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOBOT_SERVO_ANGLE_OFFSET_WRITE   18</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOBOT_SERVO_ANGLE_OFFSET_READ    19</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOBOT_SERVO_ANGLE_LIMIT_WRITE    20</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOBOT_SERVO_ANGLE_LIMIT_READ     21</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOBOT_SERVO_VIN_LIMIT_WRITE      22</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOBOT_SERVO_VIN_LIMIT_READ       23</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOBOT_SERVO_TEMP_MAX_LIMIT_WRITE 24</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOBOT_SERVO_TEMP_MAX_LIMIT_READ  25</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOBOT_SERVO_TEMP_READ            26</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOBOT_SERVO_VIN_READ             27</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOBOT_SERVO_POS_READ             28</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOBOT_SERVO_OR_MOTOR_MODE_WRITE  29</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOBOT_SERVO_OR_MOTOR_MODE_READ   30</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOBOT_SERVO_LOAD_OR_UNLOAD_WRITE 31</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOBOT_SERVO_LOAD_OR_UNLOAD_READ  32</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOBOT_SERVO_LED_CTRL_WRITE       33</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOBOT_SERVO_LED_CTRL_READ        34</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOBOT_SERVO_LED_ERROR_WRITE      35</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOBOT_SERVO_LED_ERROR_READ       36</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//#define LOBOT_DEBUG 1  /*调试是用，打印调试数据*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function">byte <span class="title">LobotCheckSum</span><span class="params">(byte buf[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  byte i;</span><br><span class="line">  <span class="keyword">uint16_t</span> temp = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">2</span>; i &lt; buf[<span class="number">3</span>] + <span class="number">2</span>; i++) &#123;</span><br><span class="line">    temp += buf[i];</span><br><span class="line">  &#125;</span><br><span class="line">  temp = ~temp;</span><br><span class="line">  i = (byte)temp;</span><br><span class="line">  <span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LobotSerialServoMove</span><span class="params">(SoftwareSerial &amp;SerialX, <span class="keyword">uint8_t</span> id, <span class="keyword">int16_t</span> position, <span class="keyword">uint16_t</span> time)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  byte buf[<span class="number">10</span>];</span><br><span class="line">  <span class="keyword">if</span>(position &lt; <span class="number">0</span>)</span><br><span class="line">    position = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">if</span>(position &gt; <span class="number">1000</span>)</span><br><span class="line">    position = <span class="number">1000</span>;</span><br><span class="line">  buf[<span class="number">0</span>] = buf[<span class="number">1</span>] = LOBOT_SERVO_FRAME_HEADER;</span><br><span class="line">  buf[<span class="number">2</span>] = id;</span><br><span class="line">  buf[<span class="number">3</span>] = <span class="number">7</span>;</span><br><span class="line">  buf[<span class="number">4</span>] = LOBOT_SERVO_MOVE_TIME_WRITE;</span><br><span class="line">  buf[<span class="number">5</span>] = GET_LOW_BYTE(position);</span><br><span class="line">  buf[<span class="number">6</span>] = GET_HIGH_BYTE(position);</span><br><span class="line">  buf[<span class="number">7</span>] = GET_LOW_BYTE(time);</span><br><span class="line">  buf[<span class="number">8</span>] = GET_HIGH_BYTE(time);</span><br><span class="line">  buf[<span class="number">9</span>] = LobotCheckSum(buf);</span><br><span class="line">  SerialX.write(buf, <span class="number">10</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LobotSerialServoStopMove</span><span class="params">(HardwareSerial &amp;SerialX, <span class="keyword">uint8_t</span> id)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  byte buf[<span class="number">6</span>];</span><br><span class="line">  buf[<span class="number">0</span>] = buf[<span class="number">1</span>] = LOBOT_SERVO_FRAME_HEADER;</span><br><span class="line">  buf[<span class="number">2</span>] = id;</span><br><span class="line">  buf[<span class="number">3</span>] = <span class="number">3</span>;</span><br><span class="line">  buf[<span class="number">4</span>] = LOBOT_SERVO_MOVE_STOP;</span><br><span class="line">  buf[<span class="number">5</span>] = LobotCheckSum(buf);</span><br><span class="line">  SerialX.write(buf, <span class="number">6</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LobotSerialServoSetID</span><span class="params">(HardwareSerial &amp;SerialX, <span class="keyword">uint8_t</span> oldID, <span class="keyword">uint8_t</span> newID)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  byte buf[<span class="number">7</span>];</span><br><span class="line">  buf[<span class="number">0</span>] = buf[<span class="number">1</span>] = LOBOT_SERVO_FRAME_HEADER;</span><br><span class="line">  buf[<span class="number">2</span>] = oldID;</span><br><span class="line">  buf[<span class="number">3</span>] = <span class="number">4</span>;</span><br><span class="line">  buf[<span class="number">4</span>] = LOBOT_SERVO_ID_WRITE;</span><br><span class="line">  buf[<span class="number">5</span>] = newID;</span><br><span class="line">  buf[<span class="number">6</span>] = LobotCheckSum(buf);</span><br><span class="line">  SerialX.write(buf, <span class="number">7</span>);</span><br><span class="line">  </span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> LOBOT_DEBUG</span></span><br><span class="line">  Serial.println(<span class="string">&quot;LOBOT SERVO ID WRITE&quot;</span>);</span><br><span class="line">  <span class="keyword">int</span> debug_value_i = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (debug_value_i = <span class="number">0</span>; debug_value_i &lt; buf[<span class="number">3</span>] + <span class="number">3</span>; debug_value_i++)</span><br><span class="line">  &#123;</span><br><span class="line">    Serial.print(buf[debug_value_i], HEX);</span><br><span class="line">    Serial.print(<span class="string">&quot;:&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  Serial.println(<span class="string">&quot; &quot;</span>);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LobotSerialServoSetMode</span><span class="params">(HardwareSerial &amp;SerialX, <span class="keyword">uint8_t</span> id, <span class="keyword">uint8_t</span> Mode, <span class="keyword">int16_t</span> Speed)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  byte buf[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line">  buf[<span class="number">0</span>] = buf[<span class="number">1</span>] = LOBOT_SERVO_FRAME_HEADER;</span><br><span class="line">  buf[<span class="number">2</span>] = id;</span><br><span class="line">  buf[<span class="number">3</span>] = <span class="number">7</span>;</span><br><span class="line">  buf[<span class="number">4</span>] = LOBOT_SERVO_OR_MOTOR_MODE_WRITE;</span><br><span class="line">  buf[<span class="number">5</span>] = Mode;</span><br><span class="line">  buf[<span class="number">6</span>] = <span class="number">0</span>;</span><br><span class="line">  buf[<span class="number">7</span>] = GET_LOW_BYTE((<span class="keyword">uint16_t</span>)Speed);</span><br><span class="line">  buf[<span class="number">8</span>] = GET_HIGH_BYTE((<span class="keyword">uint16_t</span>)Speed);</span><br><span class="line">  buf[<span class="number">9</span>] = LobotCheckSum(buf);</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> LOBOT_DEBUG</span></span><br><span class="line">  Serial.println(<span class="string">&quot;LOBOT SERVO Set Mode&quot;</span>);</span><br><span class="line">  <span class="keyword">int</span> debug_value_i = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (debug_value_i = <span class="number">0</span>; debug_value_i &lt; buf[<span class="number">3</span>] + <span class="number">3</span>; debug_value_i++)</span><br><span class="line">  &#123;</span><br><span class="line">    Serial.print(buf[debug_value_i], HEX);</span><br><span class="line">    Serial.print(<span class="string">&quot;:&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  Serial.println(<span class="string">&quot; &quot;</span>);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">  SerialX.write(buf, <span class="number">10</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LobotSerialServoLoad</span><span class="params">(HardwareSerial &amp;SerialX, <span class="keyword">uint8_t</span> id)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  byte buf[<span class="number">7</span>];</span><br><span class="line">  buf[<span class="number">0</span>] = buf[<span class="number">1</span>] = LOBOT_SERVO_FRAME_HEADER;</span><br><span class="line">  buf[<span class="number">2</span>] = id;</span><br><span class="line">  buf[<span class="number">3</span>] = <span class="number">4</span>;</span><br><span class="line">  buf[<span class="number">4</span>] = LOBOT_SERVO_LOAD_OR_UNLOAD_WRITE;</span><br><span class="line">  buf[<span class="number">5</span>] = <span class="number">1</span>;</span><br><span class="line">  buf[<span class="number">6</span>] = LobotCheckSum(buf);</span><br><span class="line">  </span><br><span class="line">  SerialX.write(buf, <span class="number">7</span>);</span><br><span class="line">  </span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> LOBOT_DEBUG</span></span><br><span class="line">  Serial.println(<span class="string">&quot;LOBOT SERVO LOAD WRITE&quot;</span>);</span><br><span class="line">  <span class="keyword">int</span> debug_value_i = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (debug_value_i = <span class="number">0</span>; debug_value_i &lt; buf[<span class="number">3</span>] + <span class="number">3</span>; debug_value_i++)</span><br><span class="line">  &#123;</span><br><span class="line">    Serial.print(buf[debug_value_i], HEX);</span><br><span class="line">    Serial.print(<span class="string">&quot;:&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  Serial.println(<span class="string">&quot; &quot;</span>);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LobotSerialServoUnload</span><span class="params">(HardwareSerial &amp;SerialX, <span class="keyword">uint8_t</span> id)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  byte buf[<span class="number">7</span>];</span><br><span class="line">  buf[<span class="number">0</span>] = buf[<span class="number">1</span>] = LOBOT_SERVO_FRAME_HEADER;</span><br><span class="line">  buf[<span class="number">2</span>] = id;</span><br><span class="line">  buf[<span class="number">3</span>] = <span class="number">4</span>;</span><br><span class="line">  buf[<span class="number">4</span>] = LOBOT_SERVO_LOAD_OR_UNLOAD_WRITE;</span><br><span class="line">  buf[<span class="number">5</span>] = <span class="number">0</span>;</span><br><span class="line">  buf[<span class="number">6</span>] = LobotCheckSum(buf);</span><br><span class="line">  </span><br><span class="line">  SerialX.write(buf, <span class="number">7</span>);</span><br><span class="line">  </span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> LOBOT_DEBUG</span></span><br><span class="line">  Serial.println(<span class="string">&quot;LOBOT SERVO LOAD WRITE&quot;</span>);</span><br><span class="line">  <span class="keyword">int</span> debug_value_i = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (debug_value_i = <span class="number">0</span>; debug_value_i &lt; buf[<span class="number">3</span>] + <span class="number">3</span>; debug_value_i++)</span><br><span class="line">  &#123;</span><br><span class="line">    Serial.print(buf[debug_value_i], HEX);</span><br><span class="line">    Serial.print(<span class="string">&quot;:&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  Serial.println(<span class="string">&quot; &quot;</span>);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">LobotSerialServoReceiveHandle</span><span class="params">(HardwareSerial &amp;SerialX, byte *ret)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">bool</span> frameStarted = <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">bool</span> receiveFinished = <span class="literal">false</span>;</span><br><span class="line">  byte frameCount = <span class="number">0</span>;</span><br><span class="line">  byte dataCount = <span class="number">0</span>;</span><br><span class="line">  byte dataLength = <span class="number">2</span>;</span><br><span class="line">  byte rxBuf;</span><br><span class="line">  byte recvBuf[<span class="number">32</span>];</span><br><span class="line">  byte i;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (SerialX.available()) &#123;</span><br><span class="line">    rxBuf = SerialX.read();</span><br><span class="line">    delayMicroseconds(<span class="number">100</span>);</span><br><span class="line">    <span class="keyword">if</span> (!frameStarted) &#123;</span><br><span class="line">      <span class="keyword">if</span> (rxBuf == LOBOT_SERVO_FRAME_HEADER) &#123;</span><br><span class="line">        frameCount++;</span><br><span class="line">        <span class="keyword">if</span> (frameCount == <span class="number">2</span>) &#123;</span><br><span class="line">          frameCount = <span class="number">0</span>;</span><br><span class="line">          frameStarted = <span class="literal">true</span>;</span><br><span class="line">          dataCount = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> &#123;</span><br><span class="line">        frameStarted = <span class="literal">false</span>;</span><br><span class="line">        dataCount = <span class="number">0</span>;</span><br><span class="line">        frameCount = <span class="number">0</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (frameStarted) &#123;</span><br><span class="line">      recvBuf[dataCount] = (<span class="keyword">uint8_t</span>)rxBuf;</span><br><span class="line">      <span class="keyword">if</span> (dataCount == <span class="number">3</span>) &#123;</span><br><span class="line">        dataLength = recvBuf[dataCount];</span><br><span class="line">        <span class="keyword">if</span> (dataLength &lt; <span class="number">3</span> || dataCount &gt; <span class="number">7</span>) &#123;</span><br><span class="line">          dataLength = <span class="number">2</span>;</span><br><span class="line">          frameStarted = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      dataCount++;</span><br><span class="line">      <span class="keyword">if</span> (dataCount == dataLength + <span class="number">3</span>) &#123;</span><br><span class="line">        </span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> LOBOT_DEBUG</span></span><br><span class="line">        Serial.print(<span class="string">&quot;RECEIVE DATA:&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; dataCount; i++) &#123;</span><br><span class="line">          Serial.print(recvBuf[i], HEX);</span><br><span class="line">          Serial.print(<span class="string">&quot;:&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        Serial.println(<span class="string">&quot; &quot;</span>);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (LobotCheckSum(recvBuf) == recvBuf[dataCount - <span class="number">1</span>]) &#123;</span><br><span class="line">          </span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> LOBOT_DEBUG</span></span><br><span class="line">          Serial.println(<span class="string">&quot;Check SUM OK!!&quot;</span>);</span><br><span class="line">          Serial.println(<span class="string">&quot;&quot;</span>);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">          frameStarted = <span class="literal">false</span>;</span><br><span class="line">          <span class="built_in">memcpy</span>(ret, recvBuf + <span class="number">4</span>, dataLength);</span><br><span class="line">          <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">LobotSerialServoReadPosition</span><span class="params">(HardwareSerial &amp;SerialX, <span class="keyword">uint8_t</span> id)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> count = <span class="number">10000</span>;</span><br><span class="line">  <span class="keyword">int</span> ret;</span><br><span class="line">  byte buf[<span class="number">6</span>];</span><br><span class="line"></span><br><span class="line">  buf[<span class="number">0</span>] = buf[<span class="number">1</span>] = LOBOT_SERVO_FRAME_HEADER;</span><br><span class="line">  buf[<span class="number">2</span>] = id;</span><br><span class="line">  buf[<span class="number">3</span>] = <span class="number">3</span>;</span><br><span class="line">  buf[<span class="number">4</span>] = LOBOT_SERVO_POS_READ;</span><br><span class="line">  buf[<span class="number">5</span>] = LobotCheckSum(buf);</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> LOBOT_DEBUG</span></span><br><span class="line">  Serial.println(<span class="string">&quot;LOBOT SERVO Pos READ&quot;</span>);</span><br><span class="line">  <span class="keyword">int</span> debug_value_i = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (debug_value_i = <span class="number">0</span>; debug_value_i &lt; buf[<span class="number">3</span>] + <span class="number">3</span>; debug_value_i++)</span><br><span class="line">  &#123;</span><br><span class="line">    Serial.print(buf[debug_value_i], HEX);</span><br><span class="line">    Serial.print(<span class="string">&quot;:&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  Serial.println(<span class="string">&quot; &quot;</span>);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (SerialX.available())</span><br><span class="line">    SerialX.read();</span><br><span class="line"></span><br><span class="line">  SerialX.write(buf, <span class="number">6</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (!SerialX.available()) &#123;</span><br><span class="line">    count -= <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (count &lt; <span class="number">0</span>)</span><br><span class="line">      <span class="keyword">return</span> <span class="number">-2048</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (LobotSerialServoReceiveHandle(SerialX, buf) &gt; <span class="number">0</span>)</span><br><span class="line">    ret = (<span class="keyword">int16_t</span>)BYTE_TO_HW(buf[<span class="number">2</span>], buf[<span class="number">1</span>]);</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    ret = <span class="number">-2048</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> LOBOT_DEBUG</span></span><br><span class="line">  Serial.println(ret);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">  <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">LobotSerialServoReadVin</span><span class="params">(HardwareSerial &amp;SerialX, <span class="keyword">uint8_t</span> id)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> count = <span class="number">10000</span>;</span><br><span class="line">  <span class="keyword">int</span> ret;</span><br><span class="line">  byte buf[<span class="number">6</span>];</span><br><span class="line"></span><br><span class="line">  buf[<span class="number">0</span>] = buf[<span class="number">1</span>] = LOBOT_SERVO_FRAME_HEADER;</span><br><span class="line">  buf[<span class="number">2</span>] = id;</span><br><span class="line">  buf[<span class="number">3</span>] = <span class="number">3</span>;</span><br><span class="line">  buf[<span class="number">4</span>] = LOBOT_SERVO_VIN_READ;</span><br><span class="line">  buf[<span class="number">5</span>] = LobotCheckSum(buf);</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> LOBOT_DEBUG</span></span><br><span class="line">  Serial.println(<span class="string">&quot;LOBOT SERVO VIN READ&quot;</span>);</span><br><span class="line">  <span class="keyword">int</span> debug_value_i = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (debug_value_i = <span class="number">0</span>; debug_value_i &lt; buf[<span class="number">3</span>] + <span class="number">3</span>; debug_value_i++)</span><br><span class="line">  &#123;</span><br><span class="line">    Serial.print(buf[debug_value_i], HEX);</span><br><span class="line">    Serial.print(<span class="string">&quot;:&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  Serial.println(<span class="string">&quot; &quot;</span>);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (SerialX.available())</span><br><span class="line">    SerialX.read();</span><br><span class="line"></span><br><span class="line">  SerialX.write(buf, <span class="number">6</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (!SerialX.available()) &#123;</span><br><span class="line">    count -= <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (count &lt; <span class="number">0</span>)</span><br><span class="line">      <span class="keyword">return</span> <span class="number">-2048</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (LobotSerialServoReceiveHandle(SerialX, buf) &gt; <span class="number">0</span>)</span><br><span class="line">    ret = (<span class="keyword">int16_t</span>)BYTE_TO_HW(buf[<span class="number">2</span>], buf[<span class="number">1</span>]);</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    ret = <span class="number">-2049</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> LOBOT_DEBUG</span></span><br><span class="line">  Serial.println(ret);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">  <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>setup:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">SoftwareSerial <span class="title">mySerial</span><span class="params">(<span class="number">2</span>,<span class="number">3</span>)</span></span>; <span class="comment">//定义D2、D3分别为TX、RX</span></span><br><span class="line">mySerial.begin(<span class="number">115200</span>);</span><br><span class="line">delay(<span class="number">1000</span>);</span><br></pre></td></tr></table></figure><p>code:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LobotSerialServoMove(mySerial, <span class="comment">/*&#123;duoji_id&#125;*/</span>, (<span class="comment">/*&#123;weizhi&#125;*/</span>)/<span class="number">0.24</span>+<span class="number">500</span>, <span class="number">500</span>);</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">图形化编程 &amp; Arduino</summary>
    
    
    
    <category term="机器人学院" scheme="https://hexo.lyh.best/categories/%E6%9C%BA%E5%99%A8%E4%BA%BA%E5%AD%A6%E9%99%A2/"/>
    
    
    <category term="机器人" scheme="https://hexo.lyh.best/tags/%E6%9C%BA%E5%99%A8%E4%BA%BA/"/>
    
    <category term="Arduino" scheme="https://hexo.lyh.best/tags/Arduino/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客之butterfly主题魔改</title>
    <link href="https://hexo.lyh.best/20201119/Hexo%E5%8D%9A%E5%AE%A2%E4%B9%8Bbutterfly%E4%B8%BB%E9%A2%98%E9%AD%94%E6%94%B9/"/>
    <id>https://hexo.lyh.best/20201119/Hexo%E5%8D%9A%E5%AE%A2%E4%B9%8Bbutterfly%E4%B8%BB%E9%A2%98%E9%AD%94%E6%94%B9/</id>
    <published>2020-11-19T12:33:45.000Z</published>
    <updated>2023-10-29T14:51:50.490Z</updated>
    
    <content type="html"><![CDATA[<h3 id="snow特效"><a href="#snow特效" class="headerlink" title="snow特效"></a>snow特效</h3><p>在逛<a href="https://limbopro.xyz/">毒奶</a>的博客时看到鼠标在头像框附近会有个下雪的特效，学习一下如何实现。<br>首先看到他网页源代码css是这样写的。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#aside</span> <span class="selector-class">.wrapper</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line"><span class="attribute">background</span>: <span class="built_in">url</span>(https://limbopro.xyz/usr/themes/handsome/assets/img/snow.gif);</span><br><span class="line"><span class="attribute">background-size</span>: cover;</span><br><span class="line"><span class="attribute">color</span>: <span class="number">#999</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后检查自己博客相应想修改的位置div class=”card-content”，由于对hexo的源码不太熟悉，直接到上传本站的github上进行card-content关键词搜索，找到themes/butterfly/source/css/_layout/aside.styl文件。<br>看到对应的元素背景：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.card-widget</span><br><span class="line">  <span class="attribute">overflow</span>: hidden</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">1rem</span></span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span></span><br><span class="line">  <span class="attribute">background</span>: var(--card-bg)</span><br><span class="line">  box-shadow: 0 4px 8px 6px rgba(7, 17, 27, .06)</span><br><span class="line">  transition: all .3s</span><br></pre></td></tr></table></figure><p>然后在上一级目录里的var.styl文件中加一行：</p><figure class="highlight styl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$card</span>-author-bg = url(https:<span class="comment">//i.loli.net/2020/11/19/lGq8mQ4rsAiUVY6.gif)</span></span><br></pre></td></tr></table></figure><p>再到/css/_global文件夹下的index.styl文件加入：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--card-author-bg: $card-author-bg</span><br></pre></td></tr></table></figure><p>回到原来/css/_layout中的aside.styl文件写入：</p><figure class="highlight styl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.card-widget</span>:first-child:hover</span><br><span class="line">  <span class="attribute">background</span>: var(--card-author-bg)</span><br></pre></td></tr></table></figure><p>完成</p><h3 id="网站右侧添加悬浮QQ客服代码"><a href="#网站右侧添加悬浮QQ客服代码" class="headerlink" title="网站右侧添加悬浮QQ客服代码"></a>网站右侧添加悬浮QQ客服代码</h3><p>右侧悬浮的企鹅小图像，点击后可以直接通过“QQ 在线”功能与客服进行“QQ 在线”弹窗交流！</p><p>可在任意单页body内插入如下代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"><span class="selector-class">.animated</span>&#123;<span class="attribute">-webkit-animation-duration</span>:.<span class="number">5s</span>;<span class="attribute">animation-duration</span>:.<span class="number">5s</span>;<span class="attribute">-webkit-animation-fill-mode</span>:both;<span class="attribute">animation-fill-mode</span>:both&#125;<span class="selector-class">.livechat-girl</span>&#123;<span class="attribute">width</span>:<span class="number">60px</span>;<span class="attribute">height</span>:<span class="number">60px</span>;<span class="attribute">border-radius</span>:<span class="number">50%</span>;<span class="attribute">position</span>:fixed;<span class="attribute">top</span>:<span class="number">80%</span>;<span class="attribute">right</span>:<span class="number">40px</span>;<span class="attribute">opacity</span>:<span class="number">0</span>;<span class="attribute">-webkit-box-shadow</span>:<span class="number">0</span> <span class="number">5px</span> <span class="number">10px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">35</span>,<span class="number">50</span>,<span class="number">56</span>,<span class="number">0.3</span>);<span class="attribute">box-shadow</span>:<span class="number">0</span> <span class="number">5px</span> <span class="number">10px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">35</span>,<span class="number">50</span>,<span class="number">56</span>,<span class="number">0.3</span>);<span class="attribute">z-index</span>:<span class="number">700</span>;<span class="attribute">transform</span>:<span class="built_in">translateY</span>(<span class="number">0</span>);<span class="attribute">-webkit-transform</span>:<span class="built_in">translateY</span>(<span class="number">0</span>);<span class="attribute">-ms-transform</span>:<span class="built_in">translateY</span>(<span class="number">0</span>);<span class="attribute">cursor</span>:pointer;<span class="attribute">-webkit-transition</span>:all <span class="number">1s</span> <span class="built_in">cubic-bezier</span>(<span class="number">0.86</span>,<span class="number">0</span>,<span class="number">0.07</span>,<span class="number">1</span>);<span class="attribute">transition</span>:all <span class="number">1s</span> <span class="built_in">cubic-bezier</span>(<span class="number">0.86</span>,<span class="number">0</span>,<span class="number">0.07</span>,<span class="number">1</span>)&#125;<span class="selector-class">.livechat-girl</span><span class="selector-pseudo">:focus</span>&#123;<span class="attribute">outline</span>:<span class="number">0</span>&#125;<span class="selector-class">.livechat-girl</span><span class="selector-class">.animated</span>&#123;<span class="attribute">opacity</span>:<span class="number">1</span>;<span class="attribute">transform</span>:<span class="built_in">translateY</span>(-<span class="number">40px</span>);<span class="attribute">-webkit-transform</span>:<span class="built_in">translateY</span>(-<span class="number">40px</span>);<span class="attribute">-ms-transform</span>:<span class="built_in">translateY</span>(-<span class="number">40px</span>)&#125;<span class="selector-class">.livechat-girl</span><span class="selector-pseudo">:after</span>&#123;<span class="attribute">content</span>:<span class="string">&#x27;&#x27;</span>;<span class="attribute">width</span>:<span class="number">12px</span>;<span class="attribute">height</span>:<span class="number">12px</span>;<span class="attribute">border-radius</span>:<span class="number">50%</span>;<span class="attribute">background-image</span>:<span class="built_in">linear-gradient</span>(to bottom,#<span class="number">38</span>dc79,#<span class="number">1</span>ab744);<span class="attribute">position</span>:absolute;<span class="attribute">right</span>:<span class="number">1px</span>;<span class="attribute">top</span>:<span class="number">1px</span>;<span class="attribute">z-index</span>:<span class="number">50</span>&#125;<span class="selector-class">.livechat-girl</span> <span class="selector-class">.girl</span>&#123;<span class="attribute">position</span>:absolute;<span class="attribute">top</span>:<span class="number">0</span>;<span class="attribute">left</span>:<span class="number">0</span>;<span class="attribute">width</span>:<span class="number">100%</span>;<span class="attribute">height</span>:auto;<span class="attribute">z-index</span>:<span class="number">50</span>;<span class="attribute">border-radius</span>:<span class="number">100%</span>&#125;<span class="selector-class">.livechat-girl</span> <span class="selector-class">.animated-circles</span> <span class="selector-class">.circle</span>&#123;<span class="attribute">background</span>:<span class="built_in">rgba</span>(<span class="number">26</span>,<span class="number">183</span>,<span class="number">68</span>,<span class="number">0.25</span>);<span class="attribute">width</span>:<span class="number">60px</span>;<span class="attribute">height</span>:<span class="number">60px</span>;<span class="attribute">border-radius</span>:<span class="number">50%</span>;<span class="attribute">position</span>:absolute;<span class="attribute">z-index</span>:<span class="number">49</span>;<span class="attribute">transform</span>:<span class="built_in">scale</span>(<span class="number">1</span>);<span class="attribute">-webkit-transform</span>:<span class="built_in">scale</span>(<span class="number">1</span>)&#125;<span class="selector-class">.livechat-girl</span> <span class="selector-class">.animated-circles</span><span class="selector-class">.animated</span> <span class="selector-class">.c-1</span>&#123;<span class="attribute">animation</span>:<span class="number">2000ms</span> scaleToggleOne <span class="built_in">cubic-bezier</span>(<span class="number">0.25</span>,<span class="number">0.46</span>,<span class="number">0.45</span>,<span class="number">0.94</span>) forwards&#125;<span class="selector-class">.livechat-girl</span> <span class="selector-class">.animated-circles</span><span class="selector-class">.animated</span> <span class="selector-class">.c-2</span>&#123;<span class="attribute">animation</span>:<span class="number">2500ms</span> scaleToggleTwo <span class="built_in">cubic-bezier</span>(<span class="number">0.25</span>,<span class="number">0.46</span>,<span class="number">0.45</span>,<span class="number">0.94</span>) forwards&#125;<span class="selector-class">.livechat-girl</span> <span class="selector-class">.animated-circles</span><span class="selector-class">.animated</span> <span class="selector-class">.c-3</span>&#123;<span class="attribute">animation</span>:<span class="number">3000ms</span> scaleToggleThree <span class="built_in">cubic-bezier</span>(<span class="number">0.25</span>,<span class="number">0.46</span>,<span class="number">0.45</span>,<span class="number">0.94</span>) forwards&#125;<span class="selector-class">.livechat-girl</span><span class="selector-class">.animation-stopped</span> <span class="selector-class">.circle</span>&#123;<span class="attribute">opacity</span>:<span class="number">0</span> <span class="meta">!important</span>&#125;<span class="selector-class">.livechat-girl</span> <span class="selector-class">.livechat-hint</span>&#123;<span class="attribute">position</span>:absolute;<span class="attribute">right</span>:<span class="number">40px</span>;<span class="attribute">top</span>:<span class="number">50%</span>;<span class="attribute">margin-top</span>:-<span class="number">20px</span>;<span class="attribute">opacity</span>:<span class="number">0</span>;<span class="attribute">z-index</span>:<span class="number">0</span>;<span class="attribute">-webkit-transition</span>:all <span class="number">0.3s</span> <span class="built_in">cubic-bezier</span>(<span class="number">0.86</span>,<span class="number">0</span>,<span class="number">0.07</span>,<span class="number">1</span>);<span class="attribute">transition</span>:all <span class="number">0.3s</span> <span class="built_in">cubic-bezier</span>(<span class="number">0.86</span>,<span class="number">0</span>,<span class="number">0.07</span>,<span class="number">1</span>);<span class="attribute">background-color</span>:<span class="number">#1ab744</span>&#125;<span class="selector-class">.livechat-girl</span> <span class="selector-class">.livechat-hint</span><span class="selector-class">.show_hint</span>&#123;<span class="attribute">-webkit-transform</span>:<span class="built_in">translateX</span>(-<span class="number">40px</span>);<span class="attribute">transform</span>:<span class="built_in">translateX</span>(-<span class="number">40px</span>);<span class="attribute">opacity</span>:<span class="number">1</span>&#125;<span class="selector-class">.livechat-girl</span> <span class="selector-class">.livechat-hint</span><span class="selector-class">.hide_hint</span>&#123;<span class="attribute">opacity</span>:<span class="number">0</span>;<span class="attribute">-webkit-transform</span>:<span class="built_in">translateX</span>(<span class="number">0</span>);<span class="attribute">transform</span>:<span class="built_in">translateX</span>(<span class="number">0</span>)&#125;<span class="selector-class">.rd-notice-tooltip</span>&#123;<span class="attribute">-webkit-box-shadow</span>:<span class="number">0</span> <span class="number">2px</span> <span class="number">2px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.2</span>);<span class="attribute">box-shadow</span>:<span class="number">0</span> <span class="number">2px</span> <span class="number">2px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.2</span>);<span class="attribute">font-size</span>:<span class="number">14px</span>;<span class="attribute">border-radius</span>:<span class="number">3px</span>;<span class="attribute">line-height</span>:<span class="number">1.25</span>;<span class="attribute">position</span>:absolute;<span class="attribute">z-index</span>:<span class="number">65</span>;<span class="attribute">max-width</span>:<span class="number">350px</span>&#125;<span class="selector-class">.rd-notice-tooltip</span><span class="selector-class">.thumb-heart-tooltip</span>&#123;<span class="attribute">z-index</span>:<span class="number">100</span>;<span class="attribute">margin-top</span>:<span class="number">19px</span>&#125;<span class="selector-class">.rd-notice-tooltip</span><span class="selector-class">.thumb-heart-tooltip</span> <span class="selector-class">.rd-notice-content</span>&#123;<span class="attribute">padding</span>:<span class="number">10px</span> <span class="number">20px</span>&#125;<span class="selector-class">.rd-notice-tooltip</span><span class="selector-pseudo">:after</span>&#123;<span class="attribute">position</span>:absolute;<span class="attribute">display</span>:block;<span class="attribute">content</span>:<span class="string">&#x27;&#x27;</span>;<span class="attribute">height</span>:<span class="number">20px</span>;<span class="attribute">width</span>:<span class="number">20px</span>;<span class="attribute">-webkit-box-shadow</span>:none;<span class="attribute">box-shadow</span>:none;<span class="attribute">-webkit-transform</span>:<span class="built_in">rotate</span>(-<span class="number">45deg</span>);<span class="attribute">-moz-transform</span>:<span class="built_in">rotate</span>(-<span class="number">45deg</span>);<span class="attribute">-ms-transform</span>:<span class="built_in">rotate</span>(-<span class="number">45deg</span>);<span class="attribute">-o-transform</span>:<span class="built_in">rotate</span>(-<span class="number">45deg</span>);<span class="attribute">transform</span>:<span class="built_in">rotate</span>(-<span class="number">45deg</span>);<span class="attribute">-webkit-border-radius</span>:<span class="number">3px</span>;<span class="attribute">-moz-border-radius</span>:<span class="number">3px</span>;<span class="attribute">border-radius</span>:<span class="number">3px</span>;<span class="attribute">z-index</span>:<span class="number">50</span>;<span class="attribute">top</span>:<span class="number">10px</span>;<span class="attribute">right</span>:-<span class="number">6px</span>;<span class="attribute">background-color</span>:<span class="number">#1ab744</span>&#125;<span class="selector-class">.rd-notice-tooltip</span> <span class="selector-class">.rd-notice-content</span>&#123;<span class="attribute">background</span>:<span class="number">0</span>;<span class="attribute">border-radius</span>:<span class="number">3px</span>;<span class="attribute">width</span>:<span class="number">100%</span>;<span class="attribute">color</span>:<span class="number">#fff</span>;<span class="attribute">position</span>:relative;<span class="attribute">z-index</span>:<span class="number">60</span>;<span class="attribute">padding</span>:<span class="number">20px</span>;<span class="attribute">font-weight</span>:<span class="number">400</span>;<span class="attribute">line-height</span>:<span class="number">1.45</span>&#125;<span class="selector-class">.rd-notice-tooltip</span> <span class="selector-class">.rd-notice-content</span> <span class="selector-tag">a</span>&#123;<span class="attribute">color</span>:<span class="number">#fff</span>;<span class="attribute">text-decoration</span>:underline&#125;<span class="selector-class">.rd-notice-tooltip</span> <span class="selector-class">.arrow</span>&#123;<span class="attribute">display</span>:none <span class="meta">!important</span>&#125;<span class="selector-class">.rd-notice-tooltip</span><span class="selector-class">.alert</span><span class="selector-class">.rd-closing</span>&#123;<span class="attribute">white-space</span>:normal;<span class="attribute">text-align</span>:left&#125;<span class="selector-class">.rd-notice-tooltip</span><span class="selector-class">.alert</span><span class="selector-class">.rd-closing</span> <span class="selector-class">.rd-notice-content</span>&#123;<span class="attribute">padding-right</span>:<span class="number">50px</span>&#125;<span class="selector-class">.rd-notice-tooltip</span><span class="selector-class">.single-line</span> <span class="selector-class">.rd-notice-content</span>&#123;<span class="attribute">height</span>:<span class="number">40px</span>;<span class="attribute">padding</span>:<span class="number">0</span> <span class="number">20px</span>;<span class="attribute">line-height</span>:<span class="number">40px</span>;<span class="attribute">white-space</span>:nowrap&#125;<span class="keyword">@keyframes</span> scaleToggleOne&#123;<span class="selector-tag">from</span>&#123;<span class="attribute">transform</span>:<span class="built_in">scale</span>(<span class="number">1</span>);<span class="attribute">-webkit-transform</span>:<span class="built_in">scale</span>(<span class="number">1</span>)&#125;50%&#123;<span class="attribute">transform</span>:<span class="built_in">scale</span>(<span class="number">2</span>);<span class="attribute">-webkit-transform</span>:<span class="built_in">scale</span>(<span class="number">2</span>)&#125;100%&#123;<span class="attribute">transform</span>:<span class="built_in">scale</span>(<span class="number">1</span>);<span class="attribute">-webkit-transform</span>:<span class="built_in">scale</span>(<span class="number">1</span>)&#125;&#125;<span class="keyword">@keyframes</span> scaleToggleTwo&#123;0%&#123;<span class="attribute">transform</span>:<span class="built_in">scale</span>(<span class="number">1</span>);<span class="attribute">-webkit-transform</span>:<span class="built_in">scale</span>(<span class="number">1</span>)&#125;20%&#123;<span class="attribute">transform</span>:<span class="built_in">scale</span>(<span class="number">1</span>);<span class="attribute">-webkit-transform</span>:<span class="built_in">scale</span>(<span class="number">1</span>)&#125;60%&#123;<span class="attribute">transform</span>:<span class="built_in">scale</span>(<span class="number">2</span>);<span class="attribute">-webkit-transform</span>:<span class="built_in">scale</span>(<span class="number">2</span>)&#125;100%&#123;<span class="attribute">transform</span>:<span class="built_in">scale</span>(<span class="number">1</span>);<span class="attribute">-webkit-transform</span>:<span class="built_in">scale</span>(<span class="number">1</span>)&#125;&#125;<span class="keyword">@keyframes</span> scaleToggleThree&#123;0%&#123;<span class="attribute">transform</span>:<span class="built_in">scale</span>(<span class="number">1</span>);<span class="attribute">-webkit-transform</span>:<span class="built_in">scale</span>(<span class="number">1</span>)&#125;33%&#123;<span class="attribute">transform</span>:<span class="built_in">scale</span>(<span class="number">1</span>);<span class="attribute">-webkit-transform</span>:<span class="built_in">scale</span>(<span class="number">1</span>)&#125;66%&#123;<span class="attribute">transform</span>:<span class="built_in">scale</span>(<span class="number">2</span>);<span class="attribute">-webkit-transform</span>:<span class="built_in">scale</span>(<span class="number">2</span>)&#125;100%&#123;<span class="attribute">transform</span>:<span class="built_in">scale</span>(<span class="number">1</span>);<span class="attribute">-webkit-transform</span>:<span class="built_in">scale</span>(<span class="number">1</span>)&#125;&#125;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;livechat-girl js-livechat-girl animated&quot;</span> <span class="attr">id</span>=<span class="string">&quot;lc-girl-block-en_2&quot;</span> <span class="attr">href</span>=<span class="string">&quot;http://wpa.qq.com/msgrd?v=3&amp;uin=403571895&amp;site=qq&amp;menu=yes&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;girl&quot;</span> <span class="attr">border</span>=<span class="string">&quot;0&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://img.onlinedown.net/download/202010/190754-5f99510a1585e.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;点击这里给我发消息&quot;</span> <span class="attr">title</span>=<span class="string">&quot;点击这里给我发消息&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;js-livechat-hint livechat-hint rd-notice rd-notice-tooltip single-line hide_hint&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;popover-content rd-notice-content&quot;</span>&gt;</span>嘿！有什么能帮到您的吗？<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;animated-circles js-animated-circles animated&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;circle c-1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;circle c-2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;circle c-3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&#x27;text/javascript&#x27;</span> <span class="attr">src</span>=<span class="string">&#x27;https://cdn.jsdelivr.net/gh/jquery/jquery@3.2.1/dist/jquery.min.js&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">jQuery(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            jQuery(<span class="string">&#x27;.js-animated-circles&#x27;</span>).toggleClass(<span class="string">&#x27;animated&#x27;</span>);</span></span><br><span class="line">        &#125;,4000);</span><br><span class="line"> </span><br><span class="line"><span class="javascript">        jQuery(<span class="string">&#x27;#lc-girl-block-en_2&#x27;</span>).on(&#123;<span class="string">&#x27;mouseover&#x27;</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            jQuery(<span class="built_in">this</span>).find(<span class="string">&#x27;.js-livechat-hint&#x27;</span>).removeClass(<span class="string">&#x27;hide_hint&#x27;</span>).addClass(<span class="string">&#x27;show_hint&#x27;</span>);</span></span><br><span class="line">        &#125;,</span><br><span class="line"><span class="javascript">            <span class="string">&#x27;mouseleave&#x27;</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                jQuery(<span class="built_in">this</span>).find(<span class="string">&#x27;.js-livechat-hint&#x27;</span>).removeClass(<span class="string">&#x27;show_hint&#x27;</span>).addClass(<span class="string">&#x27;hide_hint&#x27;</span>);</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="个人-QQ-号码的替换："><a href="#个人-QQ-号码的替换：" class="headerlink" title="个人 QQ 号码的替换："></a>个人 QQ 号码的替换：</h4><p>代码第二行中，将<a href="http://wpa.qq.com/msgrd?v=3&amp;uin=403571895&amp;site=qq&amp;menu=yes">http://wpa.qq.com/msgrd?v=3&amp;uin=403571895&amp;site=qq&amp;menu=yes</a> 这个链接中的403571895替换为你的 QQ 号码，同时你要在<a href="https://shang.qq.com/v3/index.html">QQ推广</a>开通QQ通讯组件功能。</p><p>我们还要解决一个问题，就是想要这个代码，不出现在平版设备或者手机设备的页面上，要解决这个问题，只需要在第一行代码的style标签后面加入下面一段代码即可：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@media(max-width:880px)&#123;.livechat-girl&#123;display:none&#125;&#125;</span><br></pre></td></tr></table></figure><h4 id="整合到butterfly主题中"><a href="#整合到butterfly主题中" class="headerlink" title="整合到butterfly主题中"></a>整合到butterfly主题中</h4><p>直接在_config.butterfly.yml文件中搜索插入，在Inject栏的bottom下插入代码：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="string">&lt;style&gt;@media(max-width:880px)&#123;.livechat-girl&#123;display:none&#125;&#125;.animated&#123;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-fill-mode:both;animation-fill-mode:both&#125;.livechat-girl&#123;width:60px;height:60px;border-radius:50%;position:fixed;top:80%;right:40px;opacity:0;-webkit-box-shadow:0</span> <span class="string">5px</span> <span class="string">10px</span> <span class="number">0</span> <span class="string">rgba(35,50,56,0.3);box-shadow:0</span> <span class="string">5px</span> <span class="string">10px</span> <span class="number">0</span> <span class="string">rgba(35,50,56,0.3);z-index:700;transform:translateY(0);-webkit-transform:translateY(0);-ms-transform:translateY(0);cursor:pointer;-webkit-transition:all</span> <span class="string">1s</span> <span class="string">cubic-bezier(0.86,0,0.07,1);transition:all</span> <span class="string">1s</span> <span class="string">cubic-bezier(0.86,0,0.07,1)&#125;.livechat-girl:focus&#123;outline:0&#125;.livechat-girl.animated&#123;opacity:1;transform:translateY(-40px);-webkit-transform:translateY(-40px);-ms-transform:translateY(-40px)&#125;.livechat-girl:after&#123;content:&#x27;&#x27;;width:12px;height:12px;border-radius:50%;background-image:linear-gradient(to</span> <span class="string">bottom,#38dc79,#1ab744);position:absolute;right:1px;top:1px;z-index:50&#125;.livechat-girl</span> <span class="string">.girl&#123;position:absolute;top:0;left:0;width:100%;height:auto;z-index:50;border-radius:100%&#125;.livechat-girl</span> <span class="string">.animated-circles</span> <span class="string">.circle&#123;background:rgba(26,183,68,0.25);width:60px;height:60px;border-radius:50%;position:absolute;z-index:49;transform:scale(1);-webkit-transform:scale(1)&#125;.livechat-girl</span> <span class="string">.animated-circles.animated</span> <span class="string">.c-1&#123;animation:2000ms</span> <span class="string">scaleToggleOne</span> <span class="string">cubic-bezier(0.25,0.46,0.45,0.94)</span> <span class="string">forwards&#125;.livechat-girl</span> <span class="string">.animated-circles.animated</span> <span class="string">.c-2&#123;animation:2500ms</span> <span class="string">scaleToggleTwo</span> <span class="string">cubic-bezier(0.25,0.46,0.45,0.94)</span> <span class="string">forwards&#125;.livechat-girl</span> <span class="string">.animated-circles.animated</span> <span class="string">.c-3&#123;animation:3000ms</span> <span class="string">scaleToggleThree</span> <span class="string">cubic-bezier(0.25,0.46,0.45,0.94)</span> <span class="string">forwards&#125;.livechat-girl.animation-stopped</span> <span class="string">.circle&#123;opacity:0</span> <span class="type">!important</span><span class="string">&#125;.livechat-girl</span> <span class="string">.livechat-hint&#123;position:absolute;right:40px;top:50%;margin-top:-20px;opacity:0;z-index:0;-webkit-transition:all</span> <span class="number">0.</span><span class="string">3s</span> <span class="string">cubic-bezier(0.86,0,0.07,1);transition:all</span> <span class="number">0.</span><span class="string">3s</span> <span class="string">cubic-bezier(0.86,0,0.07,1);background-color:#1ab744&#125;.livechat-girl</span> <span class="string">.livechat-hint.show_hint&#123;-webkit-transform:translateX(-40px);transform:translateX(-40px);opacity:1&#125;.livechat-girl</span> <span class="string">.livechat-hint.hide_hint&#123;opacity:0;-webkit-transform:translateX(0);transform:translateX(0)&#125;.rd-notice-tooltip&#123;-webkit-box-shadow:0</span> <span class="string">2px</span> <span class="string">2px</span> <span class="string">rgba(0,0,0,0.2);box-shadow:0</span> <span class="string">2px</span> <span class="string">2px</span> <span class="string">rgba(0,0,0,0.2);font-size:14px;border-radius:3px;line-height:1.25;position:absolute;z-index:65;max-width:350px&#125;.rd-notice-tooltip.thumb-heart-tooltip&#123;z-index:100;margin-top:19px&#125;.rd-notice-tooltip.thumb-heart-tooltip</span> <span class="string">.rd-notice-content&#123;padding:10px</span> <span class="string">20px&#125;.rd-notice-tooltip:after&#123;position:absolute;display:block;content:&#x27;&#x27;;height:20px;width:20px;-webkit-box-shadow:none;box-shadow:none;-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-o-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;z-index:50;top:10px;right:-6px;background-color:#1ab744&#125;.rd-notice-tooltip</span> <span class="string">.rd-notice-content&#123;background:0;border-radius:3px;width:100%;color:#fff;position:relative;z-index:60;padding:20px;font-weight:400;line-height:1.45&#125;.rd-notice-tooltip</span> <span class="string">.rd-notice-content</span> <span class="string">a&#123;color:#fff;text-decoration:underline&#125;.rd-notice-tooltip</span> <span class="string">.arrow&#123;display:none</span> <span class="type">!important</span><span class="string">&#125;.rd-notice-tooltip.alert.rd-closing&#123;white-space:normal;text-align:left&#125;.rd-notice-tooltip.alert.rd-closing</span> <span class="string">.rd-notice-content&#123;padding-right:50px&#125;.rd-notice-tooltip.single-line</span> <span class="string">.rd-notice-content&#123;height:40px;padding:0</span> <span class="string">20px;line-height:40px;white-space:nowrap&#125;@keyframes</span> <span class="string">scaleToggleOne&#123;from&#123;transform:scale(1);-webkit-transform:scale(1)&#125;50%&#123;transform:scale(2);-webkit-transform:scale(2)&#125;100%&#123;transform:scale(1);-webkit-transform:scale(1)&#125;&#125;@keyframes</span> <span class="string">scaleToggleTwo&#123;0%&#123;transform:scale(1);-webkit-transform:scale(1)&#125;20%&#123;transform:scale(1);-webkit-transform:scale(1)&#125;60%&#123;transform:scale(2);-webkit-transform:scale(2)&#125;100%&#123;transform:scale(1);-webkit-transform:scale(1)&#125;&#125;@keyframes</span> <span class="string">scaleToggleThree&#123;0%&#123;transform:scale(1);-webkit-transform:scale(1)&#125;33%&#123;transform:scale(1);-webkit-transform:scale(1)&#125;66%&#123;transform:scale(2);-webkit-transform:scale(2)&#125;100%&#123;transform:scale(1);-webkit-transform:scale(1)&#125;&#125;&lt;/style&gt;</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">&lt;a</span> <span class="string">class=&quot;livechat-girl</span> <span class="string">js-livechat-girl</span> <span class="string">animated&quot;</span> <span class="string">id=&quot;lc-girl-block-en_2&quot;</span> <span class="string">href=&quot;http://wpa.qq.com/msgrd?v=3&amp;uin=403571895&amp;site=qq&amp;menu=yes&quot;</span> <span class="string">target=&quot;_blank&quot;&gt;&lt;img</span> <span class="string">class=&quot;girl&quot;</span> <span class="string">border=&quot;0&quot;</span> <span class="string">src=&quot;https://img.onlinedown.net/download/202010/190754-5f99510a1585e.jpg&quot;</span> <span class="string">alt=&quot;点击这里给我发消息&quot;</span> <span class="string">title=&quot;点击这里给我发消息&quot;&gt;</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">&lt;div</span> <span class="string">class=&quot;js-livechat-hint</span> <span class="string">livechat-hint</span> <span class="string">rd-notice</span> <span class="string">rd-notice-tooltip</span> <span class="string">single-line</span> <span class="string">hide_hint&quot;&gt;</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">&lt;div</span> <span class="string">class=&quot;popover-content</span> <span class="string">rd-notice-content&quot;&gt;嘿！有什么能帮到您的吗？&lt;/div&gt;</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">&lt;/div&gt;</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">&lt;div</span> <span class="string">class=&quot;animated-circles</span> <span class="string">js-animated-circles</span> <span class="string">animated&quot;&gt;</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">&lt;div</span> <span class="string">class=&quot;circle</span> <span class="string">c-1&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">&lt;div</span> <span class="string">class=&quot;circle</span> <span class="string">c-2&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">&lt;div</span> <span class="string">class=&quot;circle</span> <span class="string">c-3&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">&lt;/div&gt;</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">&lt;/a&gt;</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">type=&#x27;text/javascript&#x27;</span> <span class="string">src=&#x27;https://cdn.jsdelivr.net/gh/jquery/jquery@3.2.1/dist/jquery.min.js&#x27;&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">&lt;script&gt;</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">jQuery(function()&#123;setInterval(function()&#123;jQuery(&quot;.js-animated-circles&quot;).toggleClass(&quot;animated&quot;)&#125;,4000);jQuery(&quot;#lc-girl-block-en_2&quot;).on(&#123;&quot;mouseover&quot;:function()&#123;jQuery(this).find(&quot;.js-livechat-hint&quot;).removeClass(&quot;hide_hint&quot;).addClass(&quot;show_hint&quot;)&#125;,&quot;mouseleave&quot;:function()&#123;jQuery(this).find(&quot;.js-livechat-hint&quot;).removeClass(&quot;show_hint&quot;).addClass(&quot;hide_hint&quot;)&#125;&#125;)&#125;);</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><p>其实代码我们已经搞明白的情况下就不需要一行一行地插入了，可以运用工具<a href="http://tool.oschina.net/jscompress/">在线JS/CSS/HTML压缩</a>直接把代码压缩成一行插入。<br>效果图：<br><img src="https://i.loli.net/2020/12/03/BcuJlCFg23EAqSL.png" width="40%" height="40%"></p><h4 id="BUG"><a href="#BUG" class="headerlink" title="BUG"></a>BUG</h4><p>加了这个后，右下角的一些按钮（阅读模式、繁简转换）就虚无了，所以并未实际应用到博客上。</p><h3 id="关联阅读"><a href="#关联阅读" class="headerlink" title="关联阅读"></a>关联阅读</h3><p><a href="https://www.cnblogs.com/antmoe/p/12846393.html">Hexo博客之butterfly主题优雅魔改系列（持续更新）</a><br><a href="https://www.pugjs.cn/language/includes.html">Pug 中文文档</a></p>]]></content>
    
    
    <summary type="html">对butterfly主题的diy修改（或许持续更新）</summary>
    
    
    
    
  </entry>
  
</feed>
